import{B as cn,a as dn,C as ut,D as fn,E as pn,b as vn,c as mn,F as ie,K as hn,R as gn,S as bn,d as yn,T as wn,e as Sn,f as xn,g as zn,h as _n,i as En,V as Cn,j as Pn,k as In,l as kn,m as $n,n as An,o as ct,p as Rn,q as D,r as Mn,s as ne,t as ge,u as R,v as j,w as Ln,x as Dn,y as Nn,z as Tn,A as Bn,G as dt,H as ft,I as q,J as pt,L as Fn,M as T,N as Wn,O as Hn,P as On,Q as Gn,U as qn,W as jn,X as Vn,Y as Kn,Z as Un,_ as Xn,$ as Yn,a0 as vt,a1 as mt,a2 as Jn,a3 as Zn,a4 as Qn,a5 as Ce,a6 as ea,a7 as ta,a8 as na,a9 as aa,aa as oa,ab as ra,ac as sa,ad as ia,ae as la,af as ht,ag as ua,ah as ca,ai as da,aj as fa,ak as pa,al as va,am as ma,an as ha,ao as ga,ap as ba,aq as ya,ar as gt,as as bt,at as Ge,au as wa,av as qe,aw as Sa,ax as xa,ay as za,az as _a,aA as Ea,aB as Ca,aC as je,aD as Pa,aE as Ia,aF as yt,aG as ka,aH as wt,aI as $a,aJ as Aa,aK as C,aL as Ra,aM as St,aN as Ma,aO as La,aP as Da,aQ as Na,aR as xt,aS as L,aT as Ta,aU as Ba,aV as be,aW as U,aX as Fa,aY as Wa,aZ as Ha,a_ as Oa,a$ as Ga,b0 as qa,b1 as ja,b2 as Va,b3 as Ka,b4 as Ua,b5 as Ve,b6 as Xa,b7 as Ya,b8 as Ja,b9 as le,ba as Za,bb as Qa,bc as eo,bd as zt,be as Ie,bf as V,bg as to,bh as no,bi as _,bj as ao,bk as oo,bl as ro,bm as so,bn as _t,bo as io,bp as lo,bq as uo,br as co,bs as Et,bt as fo,bu as po,bv as vo,bw as Ct,bx as mo,by as ho,bz as go,bA as bo,bB as yo,bC as ue,bD as de,bE as wo,bF as So,bG as xo,bH as O,bI as zo,bJ as Ke,bK as _o,bL as Eo,bM as Pt,bN as Co,bO as It}from"./index-Di0TIdoe.js";import{u as Po,b as Io,_ as xe,a as ko,l as $o,W as kt,s as Ao,c as $t,d as At,e as Ro,f as Mo}from"./widget-portal-CBZincIv.js";/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lo=()=>{},Do=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:cn,BaseTransitionPropsValidators:dn,Comment:ut,DeprecationTypes:fn,EffectScope:pn,ErrorCodes:vn,ErrorTypeStrings:mn,Fragment:ie,KeepAlive:hn,ReactiveEffect:gn,Static:bn,Suspense:yn,Teleport:wn,Text:Sn,TrackOpTypes:xn,Transition:zn,TransitionGroup:_n,TriggerOpTypes:En,VueElement:Cn,assertNumber:Pn,callWithAsyncErrorHandling:In,callWithErrorHandling:kn,camelize:$n,capitalize:An,cloneVNode:ct,compatUtils:Rn,compile:Lo,computed:D,createApp:Mn,createBlock:ne,createCommentVNode:ge,createElementBlock:R,createElementVNode:j,createHydrationRenderer:Ln,createPropsRestProxy:Dn,createRenderer:Nn,createSSRApp:Tn,createSlots:Bn,createStaticVNode:dt,createTextVNode:ft,createVNode:q,customRef:pt,defineAsyncComponent:Fn,defineComponent:T,defineCustomElement:Wn,defineEmits:Hn,defineExpose:On,defineModel:Gn,defineOptions:qn,defineProps:jn,defineSSRCustomElement:Vn,defineSlots:Kn,devtools:Un,effect:Xn,effectScope:Yn,getCurrentInstance:vt,getCurrentScope:mt,getCurrentWatcher:Jn,getTransitionRawChildren:Zn,guardReactiveProps:Qn,h:Ce,handleError:ea,hasInjectionContext:ta,hydrate:na,hydrateOnIdle:aa,hydrateOnInteraction:oa,hydrateOnMediaQuery:ra,hydrateOnVisible:sa,initCustomFormatter:ia,initDirectivesForSSR:la,inject:ht,isMemoSame:ua,isProxy:ca,isReactive:da,isReadonly:fa,isRef:pa,isRuntimeOnly:va,isShallow:ma,isVNode:ha,markRaw:ga,mergeDefaults:ba,mergeModels:ya,mergeProps:gt,nextTick:bt,normalizeClass:Ge,normalizeProps:wa,normalizeStyle:qe,onActivated:Sa,onBeforeMount:xa,onBeforeUnmount:za,onBeforeUpdate:_a,onDeactivated:Ea,onErrorCaptured:Ca,onMounted:je,onRenderTracked:Pa,onRenderTriggered:Ia,onScopeDispose:yt,onServerPrefetch:ka,onUnmounted:wt,onUpdated:$a,onWatcherCleanup:Aa,openBlock:C,popScopeId:Ra,provide:St,proxyRefs:Ma,pushScopeId:La,queuePostFlushCb:Da,reactive:Na,readonly:xt,ref:L,registerRuntimeCompiler:Ta,render:Ba,renderList:be,renderSlot:U,resolveComponent:Fa,resolveDirective:Wa,resolveDynamicComponent:Ha,resolveFilter:Oa,resolveTransitionHooks:Ga,setBlockTracking:qa,setDevtoolsHook:ja,setTransitionHooks:Va,shallowReactive:Ka,shallowReadonly:Ua,shallowRef:Ve,ssrContextKey:Xa,ssrUtils:Ya,stop:Ja,toDisplayString:le,toHandlerKey:Za,toHandlers:Qa,toRaw:eo,toRef:zt,toRefs:Ie,toValue:V,transformVNodeArgs:to,triggerRef:no,unref:_,useAttrs:ao,useCssModule:oo,useCssVars:ro,useHost:so,useId:_t,useModel:io,useSSRContext:lo,useShadowRoot:uo,useSlots:co,useTemplateRef:Et,useTransitionState:fo,vModelCheckbox:po,vModelDynamic:vo,vModelRadio:Ct,vModelSelect:mo,vModelText:ho,vShow:go,version:bo,warn:yo,watch:ue,watchEffect:de,watchPostEffect:wo,watchSyncEffect:So,withAsyncContext:xo,withCtx:O,withDefaults:zo,withDirectives:Ke,withKeys:_o,withMemo:Eo,withModifiers:Pt,withScopeId:Co},Symbol.toStringTag,{value:"Module"}));function No(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const ze=typeof document<"u";function Rt(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,a=Symbol(n);return[s=>{const o=ht(a,s);if(o||o===null)return o;throw new Error(`Injection \`${a.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},s=>(St(a,s),s)]}function Mt(t){return t?t.flatMap(e=>e.type===ie?Mt(e.children):[e]):[]}const[Ue,ds]=Rt("ConfigProvider");function To(t){var e;const n=V(t);return(e=n?.$el)!=null?e:n}function Bo(t){const e=Ue({dir:L("ltr")});return D(()=>e.dir?.value||"ltr")}function Lt(){const t=vt(),e=L(),n=D(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:To(e)),a=Object.assign({},t.exposed),i={};for(const s in t.props)Object.defineProperty(i,s,{enumerable:!0,configurable:!0,get:()=>t.props[s]});if(Object.keys(a).length>0)for(const s in a)Object.defineProperty(i,s,{enumerable:!0,configurable:!0,get:()=>a[s]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function r(s){e.value=s,s&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>s instanceof Element?s:s.$el}),t.exposed=i)}return{forwardRef:r,currentRef:e,currentElement:n}}let Fo=0;function Xe(t,e="reka"){if(t)return t;if("useId"in Do)return`${e}-${_t?.()}`;const n=Ue({useId:void 0});return n.useId?`${e}-${n.useId()}`:`${e}-${++Fo}`}const Wo=T({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const a=Mt(n.default()),i=a.findIndex(l=>l.type!==ut);if(i===-1)return a;const r=a[i];delete r.props?.ref;const s=r.props?gt(e,r.props):e,o=ct({...r,props:{}},s);return a.length===1?o:(a[i]=o,a)}}}),Ho=["area","img","input"],Ye=T({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const a=t.asChild?"template":t.as;return typeof a=="string"&&Ho.includes(a)?()=>Ce(a,e):a!=="template"?()=>Ce(t.as,e,{default:n.default}):()=>Ce(Wo,e,{default:n.default})}});function Oo(t){const e=Ue({nonce:L()});return D(()=>t?.value||e.nonce?.value)}function z(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}function Dt(t,e=document){if(!ze)return null;if(e instanceof HTMLElement&&e?.dataset?.panelGroupId===t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function $e(t,e=document){if(!ze)return null;const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function Nt(t,e,n=document){return ze?ye(t,n).findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e)??null:null}function ye(t,e=document){return ze?Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`)):[]}function Go(t,e,n,a=document){const i=$e(e,a),r=ye(t,a),s=i?r.indexOf(i):-1,o=n[s]?.id??null,l=n[s+1]?.id??null;return[o,l]}function Tt(t){return t.type==="keydown"}function Bt(t){return t.type.startsWith("mouse")}function Ft(t){return t.type.startsWith("touch")}function Ae(t){if(Bt(t))return{x:t.clientX,y:t.clientY};if(Ft(t)){const e=t.touches[0];if(e&&e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function Wt(t,e){const n=t==="horizontal",{x:a,y:i}=Ae(e);return n?a:i}function qo(t,e,n,a,i){const r=n==="horizontal",s=$e(e,i);z(s);const o=s.getAttribute("data-panel-group-id");z(o);const{initialCursorPosition:l}=a,u=Wt(n,t),c=Dt(o,i);z(c);const d=c.getBoundingClientRect(),v=r?d.width:d.height;return(u-l)/v*100}function jo(t,e,n,a,i,r){if(Tt(t)){const s=n==="horizontal";let o=0;t.shiftKey?o=100:o=i??10;let l=0;switch(t.key){case"ArrowDown":l=s?0:o;break;case"ArrowLeft":l=s?-o:0;break;case"ArrowRight":l=s?o:0;break;case"ArrowUp":l=s?0:-o;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return a==null?0:qo(t,e,n,a,r)}function Vo({layout:t,panelsArray:e,pivotIndices:n}){let a=0,i=100,r=0,s=0;const o=n[0];z(o!=null),e.forEach((d,v)=>{const{constraints:m}=d,{maxSize:g=100,minSize:S=0}=m;v===o?(a=S,i=g):(r+=S,s+=g)});const l=Math.min(i,100-r),u=Math.max(a,100-s),c=t[o];return{valueMax:l,valueMin:u,valueNow:c}}function Ko({panelDataArray:t}){const e=Array.from({length:t.length}),n=t.map(r=>r.constraints);let a=0,i=100;for(let r=0;r<t.length;r++){const s=n[r];z(s);const{defaultSize:o}=s;o!=null&&(a++,e[r]=o,i-=o)}for(let r=0;r<t.length;r++){const s=n[r];z(s);const{defaultSize:o}=s;if(o!=null)continue;const l=t.length-a,u=i/l;a++,e[r]=u,i-=u}return e}function pe(t,e,n){e.forEach((a,i)=>{const r=t[i];z(r);const{callbacks:s,constraints:o,id:l}=r,{collapsedSize:u=0,collapsible:c}=o,d=n[l];if(d==null||a!==d){n[l]=a;const{onCollapse:v,onExpand:m,onResize:g}=s;g&&g(a,d),c&&(v||m)&&(m&&(d==null||d===u)&&a!==u&&m(),v&&(d==null||d!==u)&&a===u&&v())}})}function Uo(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}const Je=10;function we(t,e,n=Je){t=Number.parseFloat(t.toFixed(n)),e=Number.parseFloat(e.toFixed(n));const a=t-e;return a===0?0:a>0?1:-1}function H(t,e,n){return we(t,e,n)===0}function ce({panelConstraints:t,panelIndex:e,size:n}){const a=t[e];z(a!=null);const{collapsedSize:i=0,collapsible:r,maxSize:s=100,minSize:o=0}=a;if(we(n,o)<0)if(r){const l=(i+o)/2;we(n,l)<0?n=i:n=o}else n=o;return n=Math.min(s,n),n=Number.parseFloat(n.toFixed(Je)),n}function _e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ve({delta:t,layout:e,panelConstraints:n,pivotIndices:a,trigger:i}){if(H(t,0))return e;const r=[...e],[s,o]=a;z(s!=null),z(o!=null);let l=0;if(i==="keyboard"){{const c=t<0?o:s,d=n[c];if(z(d),d.collapsible){const v=e[c];z(v!=null);const m=n[c];z(m);const{collapsedSize:g=0,minSize:S=0}=m;if(H(v,g)){const f=S-v;we(f,Math.abs(t))>0&&(t=t<0?0-f:f)}}}{const c=t<0?s:o,d=n[c];z(d);const{collapsible:v}=d;if(v){const m=e[c];z(m!=null);const g=n[c];z(g);const{collapsedSize:S=0,minSize:f=0}=g;if(H(m,f)){const h=m-S;we(h,Math.abs(t))>0&&(t=t<0?0-h:h)}}}}{const c=t<0?1:-1;let d=t<0?o:s,v=0;for(;;){const g=e[d];z(g!=null);const f=ce({panelConstraints:n,panelIndex:d,size:100})-g;if(v+=f,d+=c,d<0||d>=n.length)break}const m=Math.min(Math.abs(t),Math.abs(v));t=t<0?0-m:m}{let d=t<0?s:o;for(;d>=0&&d<n.length;){const v=Math.abs(t)-Math.abs(l),m=e[d];z(m!=null);const g=m-v,S=ce({panelConstraints:n,panelIndex:d,size:g});if(!H(m,S)&&(l+=m-S,r[d]=S,l.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(H(l,0))return e;{const c=t<0?o:s,d=e[c];z(d!=null);const v=d+l,m=ce({panelConstraints:n,panelIndex:c,size:v});if(r[c]=m,!H(m,v)){let g=v-m,f=t<0?o:s;for(;f>=0&&f<n.length;){const h=r[f];z(h!=null);const P=h+g,I=ce({panelConstraints:n,panelIndex:f,size:P});if(H(h,I)||(g-=I-h,r[f]=I),H(g,0))break;t>0?f--:f++}}}const u=r.reduce((c,d)=>d+c,0);return H(u,100)?r:e}function Ht(t,e,n){const a=Nt(t,e,n);return a!=null?[a,a+1]:[-1,-1]}function Xo(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Yo(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:ot(t),b:ot(e)};let a;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),a=t;z(a);const i={a:at(nt(n.a)),b:at(nt(n.b))};if(i.a===i.b){const r=a.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let o=r.length;for(;o--;){const l=r[o];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(i.a-i.b)}const Jo=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Zo(t){const e=getComputedStyle(Ot(t)).display;return e==="flex"||e==="inline-flex"}function Qo(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Zo(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Jo.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function nt(t){let e=t.length;for(;e--;){const n=t[e];if(z(n),Qo(n))return n}return null}function at(t){return t&&Number(getComputedStyle(t).zIndex)||0}function ot(t){const e=[];for(;t;)e.push(t),t=Ot(t);return e}function Ot(t){return t.parentNode instanceof DocumentFragment&&t.parentNode?.host||t.parentNode}const Gt=1,qt=2,jt=4,Vt=8;function er(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const tr=er()==="coarse",te=[];let Re=!1;const Q=new Map,Me=new Map,Se=new Set;function nr(t,e,n,a,i,r){const{ownerDocument:s}=e,o={direction:n,element:e,hitAreaMargins:a,nonce:i,setResizeHandlerState:r},l=Q.get(s)??0;return Q.set(s,l+1),Se.add(o),ke(),function(){Me.delete(t),Se.delete(o);const c=Q.get(s)??1;Q.set(s,c-1),ke(),Ut(),c===1&&Q.delete(s)}}function Ee(t){const{target:e}=t,{x:n,y:a}=Ae(t);Re=!0,Ze({target:e,x:n,y:a}),ke(),te.length>0&&(Qe("down",t),t.preventDefault())}function J(t){const{x:e,y:n}=Ae(t);if(!Re){const{target:a}=t;Ze({target:a,x:e,y:n})}Qe("move",t),Kt(),te.length>0&&t.preventDefault()}function Z(t){const{target:e}=t,{x:n,y:a}=Ae(t);Me.clear(),Re=!1,te.length>0&&t.preventDefault(),Qe("up",t),Ze({target:e,x:n,y:a}),Kt(),ke()}function Ze({target:t,x:e,y:n}){te.splice(0);let a=null;t instanceof HTMLElement&&(a=t),Se.forEach(i=>{const{element:r,hitAreaMargins:s}=i,o=r.getBoundingClientRect(),{bottom:l,left:u,right:c,top:d}=o,v=tr?s.coarse:s.fine;if(e>=u-v&&e<=c+v&&n>=d-v&&n<=l+v){if(a!==null&&r!==a&&!r.contains(a)&&!a.contains(r)&&Yo(a,r)>0){let g=a,S=!1;for(;g&&!g.contains(r);){if(Xo(g.getBoundingClientRect(),o)){S=!0;break}g=g.parentElement}if(S)return}te.push(i)}})}function De(t,e){Me.set(t,e)}function Kt(){let t=!1,e=!1,n;te.forEach(i=>{const{direction:r,nonce:s}=i;r.value==="horizontal"?t=!0:e=!0,n=s.value});let a=0;Me.forEach(i=>{a|=i}),t&&e?Ne("intersection",a,n):t?Ne("horizontal",a,n):e?Ne("vertical",a,n):Ut()}function ke(){Q.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Z),n.removeEventListener("mousedown",Ee),n.removeEventListener("mouseleave",J),n.removeEventListener("mousemove",J),n.removeEventListener("touchmove",J),n.removeEventListener("touchstart",Ee)}),window.removeEventListener("mouseup",Z),window.removeEventListener("touchcancel",Z),window.removeEventListener("touchend",Z),Se.size>0&&(Re?(te.length>0&&Q.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Z),n.addEventListener("mouseleave",J),n.addEventListener("mousemove",J),n.addEventListener("touchmove",J,{passive:!1}))}),window.addEventListener("mouseup",Z),window.addEventListener("touchcancel",Z),window.addEventListener("touchend",Z)):Q.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("mousedown",Ee),n.addEventListener("mousemove",J),n.addEventListener("touchmove",J,{passive:!1}),n.addEventListener("touchstart",Ee))}))}function Qe(t,e){Se.forEach(n=>{const{setResizeHandlerState:a}=n,i=te.includes(n);a(t,i,e)})}let He=null,ee=null;function ar(t,e){if(e){const n=(e&Gt)!==0,a=(e&qt)!==0,i=(e&jt)!==0,r=(e&Vt)!==0;if(n)return i?"se-resize":r?"ne-resize":"e-resize";if(a)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Ut(){ee!==null&&(document.head.removeChild(ee),He=null,ee=null)}function Ne(t,e,n){const a=ar(t,e);He!==a&&(He=a,ee===null&&(ee=document.createElement("style"),n&&(ee.nonce=n),document.head.appendChild(ee)),ee.innerHTML=`*{cursor: ${a}!important;}`)}function or({defaultSize:t,dragState:e,layout:n,panelData:a,panelIndex:i,precision:r=3}){const s=n[i];let o;return s==null?o=t!==void 0?t.toPrecision(r):"1":a.length===1?o="1":o=s.toPrecision(r),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function rr({layout:t,panelConstraints:e}){const n=[...t],a=n.reduce((r,s)=>r+s,0);if(n.length!==e.length)throw new Error(`Invalid ${e.length} panel layout: ${n.map(r=>`${r}%`).join(", ")}`);if(!H(a,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(r=>`${r}%`).join(", ")}. Layout normalization will be applied.`);for(let r=0;r<e.length;r++){const s=n[r];z(s!=null);const o=100/a*s;n[r]=o}}let i=0;for(let r=0;r<e.length;r++){const s=n[r];z(s!=null);const o=ce({panelConstraints:e,panelIndex:r,size:s});s!==o&&(i+=s-o,n[r]=o)}if(!H(i,0))for(let r=0;r<e.length;r++){const s=n[r];z(s!=null);const o=s+i,l=ce({panelConstraints:e,panelIndex:r,size:o});if(s!==l&&(i-=l-s,n[r]=l,H(i,0)))break}return n}function sr({eagerValuesRef:t,groupId:e,layout:n,panelDataArray:a,panelGroupElement:i,setLayout:r}){de(s=>{const o=i.value;if(!o)return;const l=ye(e,o);for(let u=0;u<a.length-1;u++){const{valueMax:c,valueMin:d,valueNow:v}=Vo({layout:n.value,panelsArray:a,pivotIndices:[u,u+1]}),m=l[u];if(m!=null){const g=a[u];z(g),m.setAttribute("aria-controls",g.id),m.setAttribute("aria-valuemax",`${Math.round(c)}`),m.setAttribute("aria-valuemin",`${Math.round(d)}`),m.setAttribute("aria-valuenow",v!=null?`${Math.round(v)}`:"")}}s(()=>{l.forEach(u=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})})}),de(s=>{const o=i.value;if(!o)return;const l=t.value;z(l);const{panelDataArray:u}=l,c=Dt(e,o);z(c!=null,`No group found for id "${e}"`);const d=ye(e,o);z(d);const v=d.map(m=>{const g=m.getAttribute("data-panel-resize-handle-id");z(g);const[S,f]=Go(e,g,u,o);if(S==null||f==null)return()=>{};const h=P=>{if(!P.defaultPrevented)switch(P.key){case"Enter":{P.preventDefault();const I=u.findIndex(M=>M.id===S);if(I>=0){const M=u[I];z(M);const k=n.value[I],{collapsedSize:G=0,collapsible:X,minSize:$=0}=M.constraints;if(k!=null&&X){const B=ve({delta:H(k,G)?$-G:G-k,layout:n.value,panelConstraints:u.map(Le=>Le.constraints),pivotIndices:Ht(e,g,o),trigger:"keyboard"});n.value!==B&&r(B)}}break}}};return m.addEventListener("keydown",h),()=>{m.removeEventListener("keydown",h)}});s(()=>{v.forEach(m=>m())})})}function rt(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new TypeError("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Xt(t){return`reka:${t}`}function Yt(t){return t.map(e=>{const{constraints:n,id:a,idIsFromProps:i,order:r}=e;return i?a:r?`${r}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Jt(t,e){try{const n=Xt(t),a=e.getItem(n);if(a){const i=JSON.parse(a);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function ir(t,e,n){const a=Jt(t,n)??{},i=Yt(e);return a[i]??null}function lr(t,e,n,a,i){const r=Xt(t),s=Yt(e),o=Jt(t,i)??{};o[s]={expandToSizes:Object.fromEntries(n.entries()),layout:a};try{i.setItem(r,JSON.stringify(o))}catch(l){console.error(l)}}const ur=100,me={getItem:t=>(rt(me),me.getItem(t)),setItem:(t,e)=>{rt(me),me.setItem(t,e)}},[Zt,cr]=Rt("PanelGroup");var dr=T({__name:"SplitterGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1,default:null},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1,default:10},storage:{type:Object,required:!1,default:()=>me},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["layout"],setup(t,{emit:e}){const n=t,a=e,i={},{direction:r}=Ie(n),s=Xe(n.id,"reka-splitter-group"),o=Bo(),{forwardRef:l,currentElement:u}=Lt(),c=L(null),d=L([]),v=L({}),m=L(new Map),g=L(0),S=D(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:c.value,id:s,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),f=L({layout:d.value,panelDataArray:[],panelDataArrayChanged:!1}),h=p=>d.value=p;sr({eagerValuesRef:f,groupId:s,layout:d,panelDataArray:f.value.panelDataArray,setLayout:h,panelGroupElement:u}),de(()=>{const{panelDataArray:p}=f.value,{autoSaveId:w}=n;if(w){if(d.value.length===0||d.value.length!==p.length)return;let b=i[w];b||(b=Uo(lr,ur),i[w]=b);const y=[...p],E=new Map(m.value);b(w,y,E,d.value,n.storage)}});function P(p,w){const{panelDataArray:b}=f.value,y=ae(b,p);return or({defaultSize:w,dragState:c.value,layout:d.value,panelData:b,panelIndex:y})}function I(p){const{panelDataArray:w}=f.value;w.push(p),w.sort((b,y)=>{const E=b.order,x=y.order;return E==null&&x==null?0:E==null?-1:x==null?1:E-x}),f.value.panelDataArrayChanged=!0}ue(()=>f.value.panelDataArrayChanged,()=>{if(f.value.panelDataArrayChanged){f.value.panelDataArrayChanged=!1;const{autoSaveId:p,storage:w}=S.value,{layout:b,panelDataArray:y}=f.value;let E=null;if(p){const N=ir(p,y,w);N&&(m.value=new Map(Object.entries(N.expandToSizes)),E=N.layout)}E===null&&(E=Ko({panelDataArray:y}));const x=rr({layout:E,panelConstraints:y.map(N=>N.constraints)});No(b,x)||(h(x),f.value.layout=x,a("layout",x),pe(y,x,v.value))}});function M(p){return function(b){b.preventDefault();const y=u.value;if(!y)return()=>null;const{direction:E,dragState:x,id:N,keyboardResizeBy:K}=S.value,{layout:F,panelDataArray:A}=f.value,{initialLayout:re}=x??{},Y=Ht(N,p,y);let W=jo(b,p,E,x,K,y);if(W===0)return;const et=E==="horizontal";o.value==="rtl"&&et&&(W=-W);const ln=A.map(un=>un.constraints),fe=ve({delta:W,layout:re??F,panelConstraints:ln,pivotIndices:Y,trigger:Tt(b)?"keyboard":"mouse-or-touch"}),tt=!_e(F,fe);(Bt(b)||Ft(b))&&g.value!==W&&(g.value=W,tt?De(p,0):et?De(p,W<0?Gt:qt):De(p,W<0?jt:Vt)),tt&&(h(fe),f.value.layout=fe,a("layout",fe),pe(A,fe,v.value))}}function k(p,w){const{layout:b,panelDataArray:y}=f.value,E=y.map(re=>re.constraints),{panelSize:x,pivotIndices:N}=oe(y,p,b);z(x!=null);const F=ae(y,p)===y.length-1?x-w:w-x,A=ve({delta:F,layout:b,panelConstraints:E,pivotIndices:N,trigger:"imperative-api"});_e(b,A)||(h(A),f.value.layout=A,a("layout",A),pe(y,A,v.value))}function G(p,w){const{layout:b,panelDataArray:y}=f.value,E=ae(y,p);y[E]=p,f.value.panelDataArrayChanged=!0;const{collapsedSize:x=0,collapsible:N}=w,{collapsedSize:K=0,collapsible:F,maxSize:A=100,minSize:re=0}=p.constraints,{panelSize:Y}=oe(y,p,b);Y!==null&&(N&&F&&Y===x?x!==K&&k(p,K):Y<re?k(p,re):Y>A&&k(p,A))}function X(p,w){const{direction:b}=S.value,{layout:y}=f.value;if(!u.value)return;const E=$e(p,u.value);z(E);const x=Wt(b,w);c.value={dragHandleId:p,dragHandleRect:E.getBoundingClientRect(),initialCursorPosition:x,initialLayout:y}}function $(){c.value=null}function B(p){const{panelDataArray:w}=f.value,b=ae(w,p);b>=0&&(w.splice(b,1),delete v.value[p.id],f.value.panelDataArrayChanged=!0)}function Le(p){const{layout:w,panelDataArray:b}=f.value;if(p.constraints.collapsible){const y=b.map(K=>K.constraints),{collapsedSize:E=0,panelSize:x,pivotIndices:N}=oe(b,p,w);if(z(x!=null,`Panel size not found for panel "${p.id}"`),x!==E){m.value.set(p.id,x);const F=ae(b,p)===b.length-1?x-E:E-x,A=ve({delta:F,layout:w,panelConstraints:y,pivotIndices:N,trigger:"imperative-api"});_e(w,A)||(h(A),f.value.layout=A,a("layout",A),pe(b,A,v.value))}}}function an(p){const{layout:w,panelDataArray:b}=f.value;if(p.constraints.collapsible){const y=b.map(F=>F.constraints),{collapsedSize:E=0,panelSize:x,minSize:N=0,pivotIndices:K}=oe(b,p,w);if(x===E){const F=m.value.get(p.id),A=F!=null&&F>=N?F:N,Y=ae(b,p)===b.length-1?x-A:A-x,W=ve({delta:Y,layout:w,panelConstraints:y,pivotIndices:K,trigger:"imperative-api"});_e(w,W)||(h(W),f.value.layout=W,a("layout",W),pe(b,W,v.value))}}}function on(p){const{layout:w,panelDataArray:b}=f.value,{panelSize:y}=oe(b,p,w);return z(y!=null,`Panel size not found for panel "${p.id}"`),y}function rn(p){const{layout:w,panelDataArray:b}=f.value,{collapsedSize:y=0,collapsible:E,panelSize:x}=oe(b,p,w);return E?x===void 0?p.constraints.defaultSize===p.constraints.collapsedSize:x===y:!1}function sn(p){const{layout:w,panelDataArray:b}=f.value,{collapsedSize:y=0,collapsible:E,panelSize:x}=oe(b,p,w);return z(x!=null,`Panel size not found for panel "${p.id}"`),!E||x>y}cr({direction:r,dragState:c.value,groupId:s,reevaluatePanelConstraints:G,registerPanel:I,registerResizeHandle:M,resizePanel:k,startDragging:X,stopDragging:$,unregisterPanel:B,panelGroupElement:u,collapsePanel:Le,expandPanel:an,isPanelCollapsed:rn,isPanelExpanded:sn,getPanelSize:on,getPanelStyle:P});function ae(p,w){return p.findIndex(b=>b===w||b.id===w.id)}function oe(p,w,b){const y=ae(p,w),x=y===p.length-1?[y-1,y]:[y,y+1],N=b[y];return{...w.constraints,panelSize:N,pivotIndices:x}}return(p,w)=>(C(),ne(_(Ye),{ref:_(l),as:p.as,"as-child":p.asChild,style:qe({display:"flex",flexDirection:_(r)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":_(r),"data-panel-group-id":_(s)},{default:O(()=>[U(p.$slots,"default",{layout:d.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),fr=dr,pr=T({__name:"SplitterPanel",props:{collapsedSize:{type:Number,required:!1},collapsible:{type:Boolean,required:!1},defaultSize:{type:Number,required:!1},id:{type:String,required:!1},maxSize:{type:Number,required:!1},minSize:{type:Number,required:!1},order:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["collapse","expand","resize"],setup(t,{expose:e,emit:n}){const a=t,i=n,r=Zt();if(r===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:s,expandPanel:o,getPanelSize:l,getPanelStyle:u,isPanelCollapsed:c,resizePanel:d,groupId:v,reevaluatePanelConstraints:m,registerPanel:g,unregisterPanel:S}=r,f=Xe(a.id,"reka-splitter-panel"),h=D(()=>({callbacks:{onCollapse:()=>i("collapse"),onExpand:()=>i("expand"),onResize:(...$)=>i("resize",...$)},constraints:{collapsedSize:a.collapsedSize&&Number.parseFloat(a.collapsedSize.toFixed(Je)),collapsible:a.collapsible,defaultSize:a.defaultSize,maxSize:a.maxSize,minSize:a.minSize},id:f,idIsFromProps:a.id!==void 0,order:a.order}));ue(()=>h.value.constraints,($,B)=>{(B.collapsedSize!==$.collapsedSize||B.collapsible!==$.collapsible||B.maxSize!==$.maxSize||B.minSize!==$.minSize)&&m(h.value,B)},{deep:!0}),je(()=>{g(h.value)}),wt(()=>{S(h.value)});const P=D(()=>u(h.value,a.defaultSize)),I=D(()=>c(h.value)),M=D(()=>!I.value);function k(){s(h.value)}function G(){o(h.value)}function X($){d(h.value,$)}return e({collapse:k,expand:G,getSize(){return l(h.value)},resize:X,isCollapsed:I,isExpanded:M}),($,B)=>(C(),ne(_(Ye),{id:_(f),style:qe(P.value),as:$.as,"as-child":$.asChild,"data-panel":"","data-panel-collapsible":$.collapsible||void 0,"data-panel-group-id":_(v),"data-panel-id":_(f),"data-panel-size":Number.parseFloat(`${P.value.flexGrow}`).toFixed(1),"data-state":$.collapsible?I.value?"collapsed":"expanded":void 0},{default:O(()=>[U($.$slots,"default",{isCollapsed:I.value,isExpanded:M.value,expand:G,collapse:k,resize:X})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}}),st=pr;function vr({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:a}){de(i=>{const r=a.value;if(t.value||n.value===null||r===null)return;const s=$e(e,r);if(s==null)return;const o=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n.value?.(l);break}case"F6":{l.preventDefault();const u=s.getAttribute("data-panel-group-id");z(u);const c=ye(u,r),d=Nt(u,e,r);z(d!==null);const v=l.shiftKey?d>0?d-1:c.length-1:d+1<c.length?d+1:0;c[v].focus();break}}};s.addEventListener("keydown",o),i(()=>{s.removeEventListener("keydown",o)})})}var mr=T({__name:"SplitterResizeHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["dragging"],setup(t,{emit:e}){const n=t,a=e,{forwardRef:i,currentElement:r}=Lt(),{disabled:s}=Ie(n),o=Zt();if(o===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:l,groupId:u,registerResizeHandle:c,startDragging:d,stopDragging:v,panelGroupElement:m}=o,g=Xe(n.id,"reka-splitter-resize-handle"),S=L("inactive"),f=L(!1),h=L(null),{nonce:P}=Ie(n),I=Oo(P);return ue(s,()=>{ze&&(s.value?h.value=null:h.value=c(g))},{immediate:!0}),de(M=>{if(s.value||h.value===null)return;const k=r.value;if(!k)return;z(k);const G=(X,$,B)=>{if($)switch(X){case"down":{S.value="drag",d(g,B),a("dragging",!0);break}case"move":{S.value!=="drag"&&(S.value="hover"),h.value?.(B);break}case"up":{S.value="hover",v(),a("dragging",!1);break}}else S.value="inactive"};M(nr(g,k,l,{coarse:n.hitAreaMargins?.coarse??15,fine:n.hitAreaMargins?.fine??5},I,G))}),vr({disabled:s,resizeHandler:h,handleId:g,panelGroupElement:m}),(M,k)=>(C(),ne(_(Ye),{id:_(g),ref:_(i),style:{touchAction:"none",userSelect:"none"},as:M.as,"as-child":M.asChild,role:"separator","data-resize-handle":"",tabindex:M.tabindex,"data-state":S.value,"data-disabled":_(s)?"":void 0,"data-orientation":_(l),"data-panel-group-id":_(u),"data-resize-handle-active":S.value==="drag"?"pointer":f.value?"keyboard":void 0,"data-resize-handle-state":S.value,"data-panel-resize-handle-enabled":!_(s),"data-panel-resize-handle-id":_(g),onBlur:k[0]||(k[0]=G=>f.value=!1),onFocus:k[1]||(k[1]=G=>f.value=!1)},{default:O(()=>[U(M.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),hr=mr;const gr={class:"layout"},br={class:"menubar"},yr={class:"activity-bar"},wr={class:"w-full h-full overflow-hidden"},Sr=T({__name:"layout",setup(t){const e=Po(Io),n=D(()=>e.greater("2xl").value?15:e.greater("xl").value?20:e.greater("lg").value?25:e.greater("md").value?30:0);return(a,i)=>(C(),R("div",gr,[j("div",br,[U(a.$slots,"menubar",{},void 0,!0)]),j("div",yr,[U(a.$slots,"activity-bar",{},void 0,!0)]),j("div",wr,[q(_(fr),{direction:"horizontal",class:"h-full"},{default:O(()=>[q(_(st),{class:"border h-full","default-size":n.value},{default:O(()=>[U(a.$slots,"primary-sidebar",{},void 0,!0)]),_:3},8,["default-size"]),q(_(hr),{class:"w-1"}),q(_(st),{class:"border h-full"},{default:O(()=>[U(a.$slots,"main-area",{},void 0,!0)]),_:3})]),_:3})])]))}}),xr=xe(Sr,[["__scopeId","data-v-1f70c27d"]]),zr={class:"tabs tabs-box"},_r=["aria-label","value"],Er=T({__name:"editorbar",props:{widgets:{}},emits:["change"],setup(t,{emit:e}){const n=e,a=L();function i(){n("change",a.value)}return(r,s)=>(C(),R("div",zr,[(C(!0),R(ie,null,be(r.widgets,o=>Ke((C(),R("input",{key:o.id,"aria-label":o.label,"onUpdate:modelValue":s[0]||(s[0]=l=>a.value=l),value:o.id,onChange:i,class:"tab",type:"radio",name:"options"},null,40,_r)),[[Ct,a.value]])),128))]))}}),Cr=xe(Er,[["__scopeId","data-v-e8354deb"]]),Pr={class:"main-area",name:"main-area"},Ir={class:"editors"},kr={class:"content"},$r=["src"],Ar="/#/widget-iframe",Rr=T({__name:"main-area",setup(t){const e=ko(),n=window.location.origin,a=L(new URL(Ar,n)),i=D(()=>a.value.href),r=L();je(async()=>{const c=await s();$o(c)});async function s(){const c="/extensions.json";try{const d=await fetch(c);if(!d.ok)throw new Error(`Failed to fetch extension list: ${d.statusText}, url:${c}`);return await d.json()}catch(d){return console.error(d),[]}}async function o(c){e.unmountExtension?.();const d=e.widgets.find(v=>v.id===c);if(!d){console.error({msg:"could not activate widget",widgetId:c});return}e.activateWidget(d),await bt(),await l()}async function l(){r.value&&e.activeWidget&&(await u(r.value),Ao(e.activeWidget,r.value.contentWindow))}function u(c){return!c.contentWindow||!c.contentDocument?Promise.reject(new Error("iframe is not ready")):c.contentDocument?.readyState==="complete"?Promise.resolve():new Promise((d,v)=>{const m=()=>(c.removeEventListener("load",m),d());if(!c.contentWindow)return v(new Error("iframe contentWindow not available"));c.addEventListener("load",m)})}return(c,d)=>(C(),R("main",Pr,[j("div",Ir,[q(Cr,{widgets:_(e).widgets,onChange:o},null,8,["widgets"])]),j("div",kr,[_(e).activeWidget?.iframe?(C(),R("iframe",{key:0,ref_key:"iframeRef",ref:r,src:i.value},null,8,$r)):ge("",!0),_(e).activeWidget?.iframe?ge("",!0):(C(),ne(kt,{key:1,widget:_(e).activeWidget,rootId:"main-area-widget-root"},null,8,["widget"]))])]))}}),Mr=xe(Rr,[["__scopeId","data-v-f1c73f59"]]),Lr={class:"root h-full"},Dr={class:"uppercase text-sm p-2"},Nr={class:"content h-full"},Tr=T({__name:"sidebar-primary",setup(t){const e=$t();return(n,a)=>(C(),R("aside",Lr,[j("h1",Dr,le(_(e).activeWidget?.label),1),j("div",Nr,[q(kt,{widget:_(e).activeWidget,rootId:"sidebar-primary-widget-root"},null,8,["widget"])])]))}});function Qt(t){return mt()?(yt(t),!0):!1}const en=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Br=Object.prototype.toString,Fr=t=>Br.call(t)==="[object Object]",se=()=>{},Oe=Wr();function Wr(){var t,e;return en&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Hr(...t){if(t.length!==1)return zt(...t);const e=t[0];return typeof e=="function"?xt(pt(()=>({get:e,set:se}))):L(e)}function Te(t){return Array.isArray(t)?t:[t]}function Or(t,e,n){return ue(t,e,{...n,immediate:!0})}const tn=en?window:void 0;function he(t){var e;const n=V(t);return(e=n?.$el)!=null?e:n}function Pe(...t){const e=[],n=()=>{e.forEach(o=>o()),e.length=0},a=(o,l,u,c)=>(o.addEventListener(l,u,c),()=>o.removeEventListener(l,u,c)),i=D(()=>{const o=Te(V(t[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),r=Or(()=>{var o,l;return[(l=(o=i.value)==null?void 0:o.map(u=>he(u)))!=null?l:[tn].filter(u=>u!=null),Te(V(i.value?t[1]:t[0])),Te(_(i.value?t[2]:t[1])),V(i.value?t[3]:t[2])]},([o,l,u,c])=>{if(n(),!o?.length||!l?.length||!u?.length)return;const d=Fr(c)?{...c}:c;e.push(...o.flatMap(v=>l.flatMap(m=>u.map(g=>a(v,m,g,d)))))},{flush:"post"}),s=()=>{r(),n()};return Qt(n),s}let it=!1;function lt(t,e,n={}){const{window:a=tn,ignore:i=[],capture:r=!0,detectIframe:s=!1,controls:o=!1}=n;if(!a)return o?{stop:se,cancel:se,trigger:se}:se;if(Oe&&!it){it=!0;const f={passive:!0};Array.from(a.document.body.children).forEach(h=>h.addEventListener("click",se,f)),a.document.documentElement.addEventListener("click",se,f)}let l=!0;const u=f=>V(i).some(h=>{if(typeof h=="string")return Array.from(a.document.querySelectorAll(h)).some(P=>P===f.target||f.composedPath().includes(P));{const P=he(h);return P&&(f.target===P||f.composedPath().includes(P))}});function c(f){const h=V(f);return h&&h.$.subTree.shapeFlag===16}function d(f,h){const P=V(f),I=P.$.subTree&&P.$.subTree.children;return I==null||!Array.isArray(I)?!1:I.some(M=>M.el===h.target||h.composedPath().includes(M.el))}const v=f=>{const h=he(t);if(f.target!=null&&!(!(h instanceof Element)&&c(t)&&d(t,f))&&!(!h||h===f.target||f.composedPath().includes(h))){if("detail"in f&&f.detail===0&&(l=!u(f)),!l){l=!0;return}e(f)}};let m=!1;const g=[Pe(a,"click",f=>{m||(m=!0,setTimeout(()=>{m=!1},0),v(f))},{passive:!0,capture:r}),Pe(a,"pointerdown",f=>{const h=he(t);l=!u(f)&&!!(h&&!f.composedPath().includes(h))},{passive:!0}),s&&Pe(a,"blur",f=>{setTimeout(()=>{var h;const P=he(t);((h=a.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!P?.contains(a.document.activeElement)&&e(f)},0)},{passive:!0})].filter(Boolean),S=()=>g.forEach(f=>f());return o?{stop:S,cancel:()=>{l=!1},trigger:f=>{l=!0,v(f),l=!1}}:S}const Be=new WeakMap,Gr={mounted(t,e){const n=!e.modifiers.bubble;let a;if(typeof e.value=="function")a=lt(t,e.value,{capture:n});else{const[i,r]=e.value;a=lt(t,i,Object.assign({capture:n},r))}Be.set(t,a)},unmounted(t){const e=Be.get(t);e&&typeof e=="function"?e():e?.stop(),Be.delete(t)}};function Fe(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function nn(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:nn(n)}}function qr(t){const e=t||window.event,n=e.target;return nn(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const We=new WeakMap;function jr(t,e=!1){const n=Ve(e);let a=null,i="";ue(Hr(t),o=>{const l=Fe(V(o));if(l){const u=l;if(We.get(u)||We.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(i=u.style.overflow),u.style.overflow==="hidden")return n.value=!0;if(n.value)return u.style.overflow="hidden"}},{immediate:!0});const r=()=>{const o=Fe(V(t));!o||n.value||(Oe&&(a=Pe(o,"touchmove",l=>{qr(l)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},s=()=>{const o=Fe(V(t));!o||!n.value||(Oe&&a?.(),o.style.overflow=i,We.delete(o),n.value=!1)};return Qt(s),D({get(){return n.value},set(o){o?r():s()}})}function Vr(){let t=!1;const e=Ve(!1);return(n,a)=>{if(e.value=a.value,t)return;t=!0;const i=jr(n,a.value);ue(e,r=>i.value=r)}}Vr();const Kr=["open"],Ur={"data-testid":"dropdown-menu",class:"menu dropdown-content bg-base-100 z-1 w-52 p-2 shadow-sm"},Xr=T({__name:"dropdown",props:{color:{},variant:{},size:{},active:{type:Boolean},disabled:{type:Boolean},modifier:{},id:{}},emits:["open","close"],setup(t,{expose:e,emit:n}){const a=t,i=n,r=Et("details-ref"),s=L(!1),o=D(()=>({neutral:"btn-neutral",primary:"btn-primary",secondary:"btn-secondary",accent:"btn-accent",info:"btn-info",success:"btn-success",warning:"btn-warning",error:"btn-error",undefined:""})[a.color??"undefined"]),l=D(()=>({outline:"btn-outline",dash:"btn-dash",soft:"btn-soft",ghost:"btn-ghost",link:"btn-link",undefined:""})[a.variant??"undefined"]),u=D(()=>({xs:"btn-xs",sm:"btn-sm",md:"btn-md",lg:"btn-lg",xl:"btn-xl",undefined:""})[a.size??"undefined"]),c=D(()=>({wide:"btn-wide",block:"btn-block",square:"btn-square",circle:"btn-circle",undefined:""})[a.modifier??"undefined"]);function d(){r.value&&(r.value.open=s.value)}function v(){s.value=!1,i("close")}function m(){s.value=!0,i("open")}function g(){s.value?v():m()}return e({close:v,isOpen:s,id:a.id}),(S,f)=>(C(),R("details",{"data-testid":"dropdown-wrapper",ref:"details-ref",class:"dropdown",open:s.value,onToggle:d},[j("summary",{"data-testid":"dropdown-trigger",onClick:Pt(g,["stop"]),class:Ge(["btn",[o.value,l.value,u.value,c.value,{"btn-active":S.active,"btn-disabled":S.disabled}]])},[U(S.$slots,"label")],2),Ke((C(),R("ul",Ur,[U(S.$slots,"items")])),[[_(Gr),v,void 0,{bubble:!0}]])],40,Kr))}}),Yr={class:"flex items-center gap-2 px-2"},Jr={class:"badge badge-ghost badge-sm font-semibold"},Zr=T({__name:"active-scl-file-info",setup(t){const e=At(),{currentActiveFileDatabaseName:n}=It(e),a=D(()=>n.value?`Active file: ${n.value}`:"No active file");return(i,r)=>(C(),R("div",Yr,[r[0]||(r[0]=dt('<svg class="size-[1em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="currentColor" stroke-linejoin="miter" stroke-linecap="butt"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></circle><path d="m12,17v-5.5c0-.276-.224-.5-.5-.5h-1.5" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></path><circle cx="12" cy="7.25" r="1.25" fill="currentColor" stroke-width="2"></circle></g></svg>',1)),j("div",Jr,le(a.value),1)]))}}),Qr={class:"navbar bg-base-100 shadow-sm min-h-10 px-0.5 py-0"},es=["onClick"],ts=["onClick"],ns=T({__name:"navbar",props:{items:{}},setup(t){const e=L([]),n=t,a=D(()=>{const o=[];for(const l of n.items){const u=l.path.length>0,c=!u,d=u;if(c){if(o.find(m=>m.label===l.label))continue;o.push({id:l.id,label:l.label,children:[],action:r})}d&&i(o,l).children.push({id:l.id,label:l.label,children:[],action:l.action})}return o});function i(o,l){let u={id:"N/A",label:"N/A",action:r,children:o};for(const c of l.path){const d=u.children.find(m=>m.label===c);if(d){u=d;continue}const v={id:c,label:c,children:[],action:r};u.children.push(v),u=v}return u}function r(o){for(const l of e.value)l.id!==o&&l.close()}function s(o,l){return function(){l.action(l.id);const u=e.value.find(c=>c.id===o);if(!u){console.warn({msg:"could not find dropdown to close",itemId:o});return}u.close()}}return(o,l)=>(C(),R("nav",Qr,[j("div",null,[(C(!0),R(ie,null,be(a.value,u=>(C(),R(ie,null,[u.children.length>0?(C(),ne(_(Xr),{key:u.id,id:u.id,ref_for:!0,ref_key:"dropdowns",ref:e,color:"secondary",variant:"ghost",size:"sm",modifier:"wide",onOpen:()=>r(u.id)},{label:O(()=>[ft(le(u.label),1)]),items:O(()=>[(C(!0),R(ie,null,be(u.children,c=>(C(),R("li",{key:c.id},[j("button",{onClick:()=>s(u.id,c)()},le(c.label),9,es)]))),128))]),_:2},1032,["id","onOpen"])):ge("",!0),u.children.length===0?(C(),R("button",{key:u.id,onClick:()=>u.action(u.id)},le(u.label),9,ts)):ge("",!0)],64))),256))]),q(Zr)]))}}),as=xe(ns,[["__scopeId","data-v-cd567ad5"]]),os=T({__name:"menu",setup(t){const e=At(),n=Ro(),a=[{id:"file.open",label:"Open",path:["File"],action:e.openFiles},{id:"file.save",label:"Save",path:["File"],action:e.saveFile}],i=Mo(async()=>{const{contributions:o}=It(n),l=[];for(const u of o.value)try{const c=await r(u),d={id:u.id,label:u.label,path:u.menuPath,action:c};l.push(d)}catch(c){console.error("Error fetching action for menu contribution",{cont:u,err:c});continue}return[...a,...l]},a);async function r(o){const l=o.actionFnUrl;return l?(await import(l)).default:s}function s(){}return(o,l)=>(C(),ne(as,{items:_(i),activeFileName:_(e).currentActiveFileDatabaseName},null,8,["items","activeFileName"]))}}),rs={class:"activity-bar"},ss=["title","onClick"],is=T({__name:"activity-bar",setup(t){const e=$t();function n(r){return r.label.charAt(0).toUpperCase()}function a(r){return e.activeWidget?.id===r.id}function i(r){e.activeWidget?.id!==r.id&&e.activateWidget(r)}return(r,s)=>(C(),R("aside",rs,[(C(!0),R(ie,null,be(_(e).widgets,o=>(C(),R("button",{key:o.id,class:Ge(["btn btn-ghost",{"btn-active":a(o)}]),title:o.label,onClick:l=>i(o)},le(n(o)),11,ss))),128))]))}}),ls=xe(is,[["__scopeId","data-v-db7f343a"]]),fs=T({__name:"app-view",setup(t){return(e,n)=>(C(),ne(xr,null,{menubar:O(()=>[q(os)]),"activity-bar":O(()=>[q(ls)]),"primary-sidebar":O(()=>[q(Tr)]),"main-area":O(()=>[q(Mr)]),_:1}))}});export{fs as default};
