import{B as ea,a as ta,C as Nr,D as na,E as ra,b as sa,c as aa,F as ze,K as ia,R as oa,S as la,d as ca,T as ua,e as pa,f as da,g as fa,h as ha,i as ga,V as ma,j as ba,k as ka,l as xa,m as va,n as wa,o as Or,p as ya,q as j,r as Sa,s as Fe,t as Ce,u as B,v as R,w as _a,x as Ea,y as Ta,z as Aa,A as Ra,G as Fr,H as Br,I as le,J as Hr,L as Ca,M as X,N as za,O as Ia,P as La,Q as Pa,U as $a,W as Ma,X as Da,Y as Na,Z as Oa,_ as Fa,$ as Ba,a0 as Ur,a1 as Wr,a2 as Ha,a3 as Ua,a4 as Wa,a5 as Bt,a6 as Ga,a7 as qa,a8 as ja,a9 as Va,aa as Ya,ab as Xa,ac as Za,ad as Ka,ae as Qa,af as Gr,ag as Ja,ah as ei,ai as ti,aj as ni,ak as ri,al as si,am as ai,an as ii,ao as oi,ap as li,aq as ci,ar as qr,as as jr,at as Wt,au as ui,av as Ln,aw as pi,ax as di,ay as fi,az as hi,aA as gi,aB as mi,aC as Pn,aD as bi,aE as ki,aF as Vr,aG as xi,aH as Yr,aI as vi,aJ as wi,aK as M,aL as yi,aM as Xr,aN as Si,aO as _i,aP as Ei,aQ as Ti,aR as Zr,aS as G,aT as Ai,aU as Ri,aV as et,aW as ve,aX as Ci,aY as zi,aZ as Ii,a_ as Li,a$ as Pi,b0 as $i,b1 as Mi,b2 as Di,b3 as Ni,b4 as Oi,b5 as $n,b6 as Fi,b7 as Bi,b8 as Hi,b9 as Ie,ba as Ui,bb as Wi,bc as Gi,bd as Kr,be as Gt,bf as de,bg as qi,bh as ji,bi as I,bj as Vi,bk as Yi,bl as Xi,bm as Zi,bn as Qr,bo as Ki,bp as Qi,bq as Ji,br as eo,bs as Jr,bt as to,bu as no,bv as ro,bw as es,bx as so,by as ts,bz as ao,bA as io,bB as oo,bC as Le,bD as tt,bE as lo,bF as co,bG as uo,bH as pe,bI as po,bJ as Xt,bK as fo,bL as ho,bM as wt,bN as go,bO as ns,bP as mo}from"./index-Ba6Rwkca.js";import{u as bo,b as ko,_ as Et,a as xo,l as vo,W as rs,s as wo,c as ss,d as Mn,e as yo,f as So,g as _o}from"./widget-portal-133oaqnD.js";/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Eo=()=>{},To=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ea,BaseTransitionPropsValidators:ta,Comment:Nr,DeprecationTypes:na,EffectScope:ra,ErrorCodes:sa,ErrorTypeStrings:aa,Fragment:ze,KeepAlive:ia,ReactiveEffect:oa,Static:la,Suspense:ca,Teleport:ua,Text:pa,TrackOpTypes:da,Transition:fa,TransitionGroup:ha,TriggerOpTypes:ga,VueElement:ma,assertNumber:ba,callWithAsyncErrorHandling:ka,callWithErrorHandling:xa,camelize:va,capitalize:wa,cloneVNode:Or,compatUtils:ya,compile:Eo,computed:j,createApp:Sa,createBlock:Fe,createCommentVNode:Ce,createElementBlock:B,createElementVNode:R,createHydrationRenderer:_a,createPropsRestProxy:Ea,createRenderer:Ta,createSSRApp:Aa,createSlots:Ra,createStaticVNode:Fr,createTextVNode:Br,createVNode:le,customRef:Hr,defineAsyncComponent:Ca,defineComponent:X,defineCustomElement:za,defineEmits:Ia,defineExpose:La,defineModel:Pa,defineOptions:$a,defineProps:Ma,defineSSRCustomElement:Da,defineSlots:Na,devtools:Oa,effect:Fa,effectScope:Ba,getCurrentInstance:Ur,getCurrentScope:Wr,getCurrentWatcher:Ha,getTransitionRawChildren:Ua,guardReactiveProps:Wa,h:Bt,handleError:Ga,hasInjectionContext:qa,hydrate:ja,hydrateOnIdle:Va,hydrateOnInteraction:Ya,hydrateOnMediaQuery:Xa,hydrateOnVisible:Za,initCustomFormatter:Ka,initDirectivesForSSR:Qa,inject:Gr,isMemoSame:Ja,isProxy:ei,isReactive:ti,isReadonly:ni,isRef:ri,isRuntimeOnly:si,isShallow:ai,isVNode:ii,markRaw:oi,mergeDefaults:li,mergeModels:ci,mergeProps:qr,nextTick:jr,normalizeClass:Wt,normalizeProps:ui,normalizeStyle:Ln,onActivated:pi,onBeforeMount:di,onBeforeUnmount:fi,onBeforeUpdate:hi,onDeactivated:gi,onErrorCaptured:mi,onMounted:Pn,onRenderTracked:bi,onRenderTriggered:ki,onScopeDispose:Vr,onServerPrefetch:xi,onUnmounted:Yr,onUpdated:vi,onWatcherCleanup:wi,openBlock:M,popScopeId:yi,provide:Xr,proxyRefs:Si,pushScopeId:_i,queuePostFlushCb:Ei,reactive:Ti,readonly:Zr,ref:G,registerRuntimeCompiler:Ai,render:Ri,renderList:et,renderSlot:ve,resolveComponent:Ci,resolveDirective:zi,resolveDynamicComponent:Ii,resolveFilter:Li,resolveTransitionHooks:Pi,setBlockTracking:$i,setDevtoolsHook:Mi,setTransitionHooks:Di,shallowReactive:Ni,shallowReadonly:Oi,shallowRef:$n,ssrContextKey:Fi,ssrUtils:Bi,stop:Hi,toDisplayString:Ie,toHandlerKey:Ui,toHandlers:Wi,toRaw:Gi,toRef:Kr,toRefs:Gt,toValue:de,transformVNodeArgs:qi,triggerRef:ji,unref:I,useAttrs:Vi,useCssModule:Yi,useCssVars:Xi,useHost:Zi,useId:Qr,useModel:Ki,useSSRContext:Qi,useShadowRoot:Ji,useSlots:eo,useTemplateRef:Jr,useTransitionState:to,vModelCheckbox:no,vModelDynamic:ro,vModelRadio:es,vModelSelect:so,vModelText:ts,vShow:ao,version:io,warn:oo,watch:Le,watchEffect:tt,watchPostEffect:lo,watchSyncEffect:co,withAsyncContext:uo,withCtx:pe,withDefaults:po,withDirectives:Xt,withKeys:fo,withMemo:ho,withModifiers:wt,withScopeId:go},Symbol.toStringTag,{value:"Module"}));function Ao(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const Tt=typeof document<"u";function as(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[a=>{const l=Gr(r,a);if(l||l===null)return l;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},a=>(Xr(r,a),a)]}function is(t){return t?t.flatMap(e=>e.type===ze?is(e.children):[e]):[]}const[Dn,Eu]=as("ConfigProvider");function Ro(t){var e;const n=de(t);return(e=n?.$el)!=null?e:n}function Co(t){const e=Dn({dir:G("ltr")});return j(()=>e.dir?.value||"ltr")}function os(){const t=Ur(),e=G(),n=j(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:Ro(e)),r=Object.assign({},t.exposed),s={};for(const a in t.props)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>t.props[a]});if(Object.keys(r).length>0)for(const a in r)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:()=>r[a]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=s;function i(a){e.value=a,a&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>a instanceof Element?a:a.$el}),t.exposed=s)}return{forwardRef:i,currentRef:e,currentElement:n}}let zo=0;function Nn(t,e="reka"){if(t)return t;if("useId"in To)return`${e}-${Qr?.()}`;const n=Dn({useId:void 0});return n.useId?`${e}-${n.useId()}`:`${e}-${++zo}`}const Io=X({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=is(n.default()),s=r.findIndex(o=>o.type!==Nr);if(s===-1)return r;const i=r[s];delete i.props?.ref;const a=i.props?qr(e,i.props):e,l=Or({...i,props:{}},a);return r.length===1?l:(r[s]=l,r)}}}),Lo=["area","img","input"],On=X({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&Lo.includes(r)?()=>Bt(r,e):r!=="template"?()=>Bt(t.as,e,{default:n.default}):()=>Bt(Io,e,{default:n.default})}});function Po(t){const e=Dn({nonce:G()});return j(()=>t?.value||e.nonce?.value)}function z(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}function ls(t,e=document){if(!Tt)return null;if(e instanceof HTMLElement&&e?.dataset?.panelGroupId===t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Zt(t,e=document){if(!Tt)return null;const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function cs(t,e,n=document){return Tt?yt(t,n).findIndex(i=>i.getAttribute("data-panel-resize-handle-id")===e)??null:null}function yt(t,e=document){return Tt?Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`)):[]}function $o(t,e,n,r=document){const s=Zt(e,r),i=yt(t,r),a=s?i.indexOf(s):-1,l=n[a]?.id??null,o=n[a+1]?.id??null;return[l,o]}function us(t){return t.type==="keydown"}function ps(t){return t.type.startsWith("mouse")}function ds(t){return t.type.startsWith("touch")}function Kt(t){if(ps(t))return{x:t.clientX,y:t.clientY};if(ds(t)){const e=t.touches[0];if(e&&e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function fs(t,e){const n=t==="horizontal",{x:r,y:s}=Kt(e);return n?r:s}function Mo(t,e,n,r,s){const i=n==="horizontal",a=Zt(e,s);z(a);const l=a.getAttribute("data-panel-group-id");z(l);const{initialCursorPosition:o}=r,u=fs(n,t),p=ls(l,s);z(p);const d=p.getBoundingClientRect(),h=i?d.width:d.height;return(u-o)/h*100}function Do(t,e,n,r,s,i){if(us(t)){const a=n==="horizontal";let l=0;t.shiftKey?l=100:l=s??10;let o=0;switch(t.key){case"ArrowDown":o=a?0:l;break;case"ArrowLeft":o=a?-l:0;break;case"ArrowRight":o=a?l:0;break;case"ArrowUp":o=a?0:-l;break;case"End":o=100;break;case"Home":o=-100;break}return o}else return r==null?0:Mo(t,e,n,r,i)}function No({layout:t,panelsArray:e,pivotIndices:n}){let r=0,s=100,i=0,a=0;const l=n[0];z(l!=null),e.forEach((d,h)=>{const{constraints:g}=d,{maxSize:b=100,minSize:w=0}=g;h===l?(r=w,s=b):(i+=w,a+=b)});const o=Math.min(s,100-i),u=Math.max(r,100-a),p=t[l];return{valueMax:o,valueMin:u,valueNow:p}}function Oo({panelDataArray:t}){const e=Array.from({length:t.length}),n=t.map(i=>i.constraints);let r=0,s=100;for(let i=0;i<t.length;i++){const a=n[i];z(a);const{defaultSize:l}=a;l!=null&&(r++,e[i]=l,s-=l)}for(let i=0;i<t.length;i++){const a=n[i];z(a);const{defaultSize:l}=a;if(l!=null)continue;const o=t.length-r,u=s/o;r++,e[i]=u,s-=u}return e}function lt(t,e,n){e.forEach((r,s)=>{const i=t[s];z(i);const{callbacks:a,constraints:l,id:o}=i,{collapsedSize:u=0,collapsible:p}=l,d=n[o];if(d==null||r!==d){n[o]=r;const{onCollapse:h,onExpand:g,onResize:b}=a;b&&b(r,d),p&&(h||g)&&(g&&(d==null||d===u)&&r!==u&&g(),h&&(d==null||d!==u)&&r===u&&h())}})}function Fo(t,e=10){let n=null;return(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)}}const Fn=10;function St(t,e,n=Fn){t=Number.parseFloat(t.toFixed(n)),e=Number.parseFloat(e.toFixed(n));const r=t-e;return r===0?0:r>0?1:-1}function ue(t,e,n){return St(t,e,n)===0}function Je({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];z(r!=null);const{collapsedSize:s=0,collapsible:i,maxSize:a=100,minSize:l=0}=r;if(St(n,l)<0)if(i){const o=(s+l)/2;St(n,o)<0?n=s:n=l}else n=l;return n=Math.min(a,n),n=Number.parseFloat(n.toFixed(Fn)),n}function Mt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function mt({delta:t,layout:e,panelConstraints:n,pivotIndices:r,trigger:s}){if(ue(t,0))return e;const i=[...e],[a,l]=r;z(a!=null),z(l!=null);let o=0;if(s==="keyboard"){{const p=t<0?l:a,d=n[p];if(z(d),d.collapsible){const h=e[p];z(h!=null);const g=n[p];z(g);const{collapsedSize:b=0,minSize:w=0}=g;if(ue(h,b)){const f=w-h;St(f,Math.abs(t))>0&&(t=t<0?0-f:f)}}}{const p=t<0?a:l,d=n[p];z(d);const{collapsible:h}=d;if(h){const g=e[p];z(g!=null);const b=n[p];z(b);const{collapsedSize:w=0,minSize:f=0}=b;if(ue(g,f)){const k=g-w;St(k,Math.abs(t))>0&&(t=t<0?0-k:k)}}}}{const p=t<0?1:-1;let d=t<0?l:a,h=0;for(;;){const b=e[d];z(b!=null);const f=Je({panelConstraints:n,panelIndex:d,size:100})-b;if(h+=f,d+=p,d<0||d>=n.length)break}const g=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-g:g}{let d=t<0?a:l;for(;d>=0&&d<n.length;){const h=Math.abs(t)-Math.abs(o),g=e[d];z(g!=null);const b=g-h,w=Je({panelConstraints:n,panelIndex:d,size:b});if(!ue(g,w)&&(o+=g-w,i[d]=w,o.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(ue(o,0))return e;{const p=t<0?l:a,d=e[p];z(d!=null);const h=d+o,g=Je({panelConstraints:n,panelIndex:p,size:h});if(i[p]=g,!ue(g,h)){let b=h-g,f=t<0?l:a;for(;f>=0&&f<n.length;){const k=i[f];z(k!=null);const D=k+b,H=Je({panelConstraints:n,panelIndex:f,size:D});if(ue(k,H)||(b-=H-k,i[f]=H),ue(b,0))break;t>0?f--:f++}}}const u=i.reduce((p,d)=>d+p,0);return ue(u,100)?i:e}function hs(t,e,n){const r=cs(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Bo(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Ho(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:br(t),b:br(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;z(r);const s={a:mr(gr(n.a)),b:mr(gr(n.b))};if(s.a===s.b){const i=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let l=i.length;for(;l--;){const o=i[l];if(o===a.a)return 1;if(o===a.b)return-1}}return Math.sign(s.a-s.b)}const Uo=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Wo(t){const e=getComputedStyle(gs(t)).display;return e==="flex"||e==="inline-flex"}function Go(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Wo(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Uo.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function gr(t){let e=t.length;for(;e--;){const n=t[e];if(z(n),Go(n))return n}return null}function mr(t){return t&&Number(getComputedStyle(t).zIndex)||0}function br(t){const e=[];for(;t;)e.push(t),t=gs(t);return e}function gs(t){return t.parentNode instanceof DocumentFragment&&t.parentNode?.host||t.parentNode}const ms=1,bs=2,ks=4,xs=8;function qo(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const jo=qo()==="coarse",Oe=[];let Qt=!1;const De=new Map,Jt=new Map,_t=new Set;function Vo(t,e,n,r,s,i){const{ownerDocument:a}=e,l={direction:n,element:e,hitAreaMargins:r,nonce:s,setResizeHandlerState:i},o=De.get(a)??0;return De.set(a,o+1),_t.add(l),qt(),function(){Jt.delete(t),_t.delete(l);const p=De.get(a)??1;De.set(a,p-1),qt(),ws(),p===1&&De.delete(a)}}function Dt(t){const{target:e}=t,{x:n,y:r}=Kt(t);Qt=!0,Bn({target:e,x:n,y:r}),qt(),Oe.length>0&&(Hn("down",t),t.preventDefault())}function $e(t){const{x:e,y:n}=Kt(t);if(!Qt){const{target:r}=t;Bn({target:r,x:e,y:n})}Hn("move",t),vs(),Oe.length>0&&t.preventDefault()}function Me(t){const{target:e}=t,{x:n,y:r}=Kt(t);Jt.clear(),Qt=!1,Oe.length>0&&t.preventDefault(),Hn("up",t),Bn({target:e,x:n,y:r}),vs(),qt()}function Bn({target:t,x:e,y:n}){Oe.splice(0);let r=null;t instanceof HTMLElement&&(r=t),_t.forEach(s=>{const{element:i,hitAreaMargins:a}=s,l=i.getBoundingClientRect(),{bottom:o,left:u,right:p,top:d}=l,h=jo?a.coarse:a.fine;if(e>=u-h&&e<=p+h&&n>=d-h&&n<=o+h){if(r!==null&&i!==r&&!i.contains(r)&&!r.contains(i)&&Ho(r,i)>0){let b=r,w=!1;for(;b&&!b.contains(i);){if(Bo(b.getBoundingClientRect(),l)){w=!0;break}b=b.parentElement}if(w)return}Oe.push(s)}})}function dn(t,e){Jt.set(t,e)}function vs(){let t=!1,e=!1,n;Oe.forEach(s=>{const{direction:i,nonce:a}=s;i.value==="horizontal"?t=!0:e=!0,n=a.value});let r=0;Jt.forEach(s=>{r|=s}),t&&e?fn("intersection",r,n):t?fn("horizontal",r,n):e?fn("vertical",r,n):ws()}function qt(){De.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Me),n.removeEventListener("mousedown",Dt),n.removeEventListener("mouseleave",$e),n.removeEventListener("mousemove",$e),n.removeEventListener("touchmove",$e),n.removeEventListener("touchstart",Dt)}),window.removeEventListener("mouseup",Me),window.removeEventListener("touchcancel",Me),window.removeEventListener("touchend",Me),_t.size>0&&(Qt?(Oe.length>0&&De.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Me),n.addEventListener("mouseleave",$e),n.addEventListener("mousemove",$e),n.addEventListener("touchmove",$e,{passive:!1}))}),window.addEventListener("mouseup",Me),window.addEventListener("touchcancel",Me),window.addEventListener("touchend",Me)):De.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("mousedown",Dt),n.addEventListener("mousemove",$e),n.addEventListener("touchmove",$e,{passive:!1}),n.addEventListener("touchstart",Dt))}))}function Hn(t,e){_t.forEach(n=>{const{setResizeHandlerState:r}=n,s=Oe.includes(n);r(t,s,e)})}let _n=null,Ne=null;function Yo(t,e){if(e){const n=(e&ms)!==0,r=(e&bs)!==0,s=(e&ks)!==0,i=(e&xs)!==0;if(n)return s?"se-resize":i?"ne-resize":"e-resize";if(r)return s?"sw-resize":i?"nw-resize":"w-resize";if(s)return"s-resize";if(i)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function ws(){Ne!==null&&(document.head.removeChild(Ne),_n=null,Ne=null)}function fn(t,e,n){const r=Yo(t,e);_n!==r&&(_n=r,Ne===null&&(Ne=document.createElement("style"),n&&(Ne.nonce=n),document.head.appendChild(Ne)),Ne.innerHTML=`*{cursor: ${r}!important;}`)}function Xo({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:s,precision:i=3}){const a=n[s];let l;return a==null?l=t!==void 0?t.toPrecision(i):"1":r.length===1?l="1":l=a.toPrecision(i),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Zo({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((i,a)=>i+a,0);if(n.length!==e.length)throw new Error(`Invalid ${e.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!ue(r,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(i=>`${i}%`).join(", ")}. Layout normalization will be applied.`);for(let i=0;i<e.length;i++){const a=n[i];z(a!=null);const l=100/r*a;n[i]=l}}let s=0;for(let i=0;i<e.length;i++){const a=n[i];z(a!=null);const l=Je({panelConstraints:e,panelIndex:i,size:a});a!==l&&(s+=a-l,n[i]=l)}if(!ue(s,0))for(let i=0;i<e.length;i++){const a=n[i];z(a!=null);const l=a+s,o=Je({panelConstraints:e,panelIndex:i,size:l});if(a!==o&&(s-=o-a,n[i]=o,ue(s,0)))break}return n}function Ko({eagerValuesRef:t,groupId:e,layout:n,panelDataArray:r,panelGroupElement:s,setLayout:i}){tt(a=>{const l=s.value;if(!l)return;const o=yt(e,l);for(let u=0;u<r.length-1;u++){const{valueMax:p,valueMin:d,valueNow:h}=No({layout:n.value,panelsArray:r,pivotIndices:[u,u+1]}),g=o[u];if(g!=null){const b=r[u];z(b),g.setAttribute("aria-controls",b.id),g.setAttribute("aria-valuemax",`${Math.round(p)}`),g.setAttribute("aria-valuemin",`${Math.round(d)}`),g.setAttribute("aria-valuenow",h!=null?`${Math.round(h)}`:"")}}a(()=>{o.forEach(u=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})})}),tt(a=>{const l=s.value;if(!l)return;const o=t.value;z(o);const{panelDataArray:u}=o,p=ls(e,l);z(p!=null,`No group found for id "${e}"`);const d=yt(e,l);z(d);const h=d.map(g=>{const b=g.getAttribute("data-panel-resize-handle-id");z(b);const[w,f]=$o(e,b,u,l);if(w==null||f==null)return()=>{};const k=D=>{if(!D.defaultPrevented)switch(D.key){case"Enter":{D.preventDefault();const H=u.findIndex(C=>C.id===w);if(H>=0){const C=u[H];z(C);const N=n.value[H],{collapsedSize:J=0,collapsible:ke,minSize:q=0}=C.constraints;if(N!=null&&ke){const ee=mt({delta:ue(N,J)?q-J:J-N,layout:n.value,panelConstraints:u.map(nt=>nt.constraints),pivotIndices:hs(e,b,l),trigger:"keyboard"});n.value!==ee&&i(ee)}}break}}};return g.addEventListener("keydown",k),()=>{g.removeEventListener("keydown",k)}});a(()=>{h.forEach(g=>g())})})}function kr(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new TypeError("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function ys(t){return`reka:${t}`}function Ss(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:s,order:i}=e;return s?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function _s(t,e){try{const n=ys(t),r=e.getItem(n);if(r){const s=JSON.parse(r);if(typeof s=="object"&&s!=null)return s}}catch{}return null}function Qo(t,e,n){const r=_s(t,n)??{},s=Ss(e);return r[s]??null}function Jo(t,e,n,r,s){const i=ys(t),a=Ss(e),l=_s(t,s)??{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{s.setItem(i,JSON.stringify(l))}catch(o){console.error(o)}}const el=100,bt={getItem:t=>(kr(bt),bt.getItem(t)),setItem:(t,e)=>{kr(bt),bt.setItem(t,e)}},[Es,tl]=as("PanelGroup");var nl=X({__name:"SplitterGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1,default:null},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1,default:10},storage:{type:Object,required:!1,default:()=>bt},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["layout"],setup(t,{emit:e}){const n=t,r=e,s={},{direction:i}=Gt(n),a=Nn(n.id,"reka-splitter-group"),l=Co(),{forwardRef:o,currentElement:u}=os(),p=G(null),d=G([]),h=G({}),g=G(new Map),b=G(0),w=j(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:p.value,id:a,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),f=G({layout:d.value,panelDataArray:[],panelDataArrayChanged:!1}),k=x=>d.value=x;Ko({eagerValuesRef:f,groupId:a,layout:d,panelDataArray:f.value.panelDataArray,setLayout:k,panelGroupElement:u}),tt(()=>{const{panelDataArray:x}=f.value,{autoSaveId:T}=n;if(T){if(d.value.length===0||d.value.length!==x.length)return;let S=s[T];S||(S=Fo(Jo,el),s[T]=S);const E=[...x],_=new Map(g.value);S(T,E,_,d.value,n.storage)}});function D(x,T){const{panelDataArray:S}=f.value,E=we(S,x);return Xo({defaultSize:T,dragState:p.value,layout:d.value,panelData:S,panelIndex:E})}function H(x){const{panelDataArray:T}=f.value;T.push(x),T.sort((S,E)=>{const _=S.order,A=E.order;return _==null&&A==null?0:_==null?-1:A==null?1:_-A}),f.value.panelDataArrayChanged=!0}Le(()=>f.value.panelDataArrayChanged,()=>{if(f.value.panelDataArrayChanged){f.value.panelDataArrayChanged=!1;const{autoSaveId:x,storage:T}=w.value,{layout:S,panelDataArray:E}=f.value;let _=null;if(x){const P=Qo(x,E,T);P&&(g.value=new Map(Object.entries(P.expandToSizes)),_=P.layout)}_===null&&(_=Oo({panelDataArray:E}));const A=Zo({layout:_,panelConstraints:E.map(P=>P.constraints)});Ao(S,A)||(k(A),f.value.layout=A,r("layout",A),lt(E,A,h.value))}});function C(x){return function(S){S.preventDefault();const E=u.value;if(!E)return()=>null;const{direction:_,dragState:A,id:P,keyboardResizeBy:ce}=w.value,{layout:$,panelDataArray:U}=f.value,{initialLayout:he}=A??{},ne=hs(P,x,E);let K=Do(S,x,_,A,ce,E);if(K===0)return;const qe=_==="horizontal";l.value==="rtl"&&qe&&(K=-K);const Rt=U.map(je=>je.constraints),Pe=mt({delta:K,layout:he??$,panelConstraints:Rt,pivotIndices:ne,trigger:us(S)?"keyboard":"mouse-or-touch"}),Se=!Mt($,Pe);(ps(S)||ds(S))&&b.value!==K&&(b.value=K,Se?dn(x,0):qe?dn(x,K<0?ms:bs):dn(x,K<0?ks:xs)),Se&&(k(Pe),f.value.layout=Pe,r("layout",Pe),lt(U,Pe,h.value))}}function N(x,T){const{layout:S,panelDataArray:E}=f.value,_=E.map(he=>he.constraints),{panelSize:A,pivotIndices:P}=ye(E,x,S);z(A!=null);const $=we(E,x)===E.length-1?A-T:T-A,U=mt({delta:$,layout:S,panelConstraints:_,pivotIndices:P,trigger:"imperative-api"});Mt(S,U)||(k(U),f.value.layout=U,r("layout",U),lt(E,U,h.value))}function J(x,T){const{layout:S,panelDataArray:E}=f.value,_=we(E,x);E[_]=x,f.value.panelDataArrayChanged=!0;const{collapsedSize:A=0,collapsible:P}=T,{collapsedSize:ce=0,collapsible:$,maxSize:U=100,minSize:he=0}=x.constraints,{panelSize:ne}=ye(E,x,S);ne!==null&&(P&&$&&ne===A?A!==ce&&N(x,ce):ne<he?N(x,he):ne>U&&N(x,U))}function ke(x,T){const{direction:S}=w.value,{layout:E}=f.value;if(!u.value)return;const _=Zt(x,u.value);z(_);const A=fs(S,T);p.value={dragHandleId:x,dragHandleRect:_.getBoundingClientRect(),initialCursorPosition:A,initialLayout:E}}function q(){p.value=null}function ee(x){const{panelDataArray:T}=f.value,S=we(T,x);S>=0&&(T.splice(S,1),delete h.value[x.id],f.value.panelDataArrayChanged=!0)}function nt(x){const{layout:T,panelDataArray:S}=f.value;if(x.constraints.collapsible){const E=S.map(ce=>ce.constraints),{collapsedSize:_=0,panelSize:A,pivotIndices:P}=ye(S,x,T);if(z(A!=null,`Panel size not found for panel "${x.id}"`),A!==_){g.value.set(x.id,A);const $=we(S,x)===S.length-1?A-_:_-A,U=mt({delta:$,layout:T,panelConstraints:E,pivotIndices:P,trigger:"imperative-api"});Mt(T,U)||(k(U),f.value.layout=U,r("layout",U),lt(S,U,h.value))}}}function Z(x){const{layout:T,panelDataArray:S}=f.value;if(x.constraints.collapsible){const E=S.map($=>$.constraints),{collapsedSize:_=0,panelSize:A,minSize:P=0,pivotIndices:ce}=ye(S,x,T);if(A===_){const $=g.value.get(x.id),U=$!=null&&$>=P?$:P,ne=we(S,x)===S.length-1?A-U:U-A,K=mt({delta:ne,layout:T,panelConstraints:E,pivotIndices:ce,trigger:"imperative-api"});Mt(T,K)||(k(K),f.value.layout=K,r("layout",K),lt(S,K,h.value))}}}function rt(x){const{layout:T,panelDataArray:S}=f.value,{panelSize:E}=ye(S,x,T);return z(E!=null,`Panel size not found for panel "${x.id}"`),E}function st(x){const{layout:T,panelDataArray:S}=f.value,{collapsedSize:E=0,collapsible:_,panelSize:A}=ye(S,x,T);return _?A===void 0?x.constraints.defaultSize===x.constraints.collapsedSize:A===E:!1}function at(x){const{layout:T,panelDataArray:S}=f.value,{collapsedSize:E=0,collapsible:_,panelSize:A}=ye(S,x,T);return z(A!=null,`Panel size not found for panel "${x.id}"`),!_||A>E}tl({direction:i,dragState:p.value,groupId:a,reevaluatePanelConstraints:J,registerPanel:H,registerResizeHandle:C,resizePanel:N,startDragging:ke,stopDragging:q,unregisterPanel:ee,panelGroupElement:u,collapsePanel:nt,expandPanel:Z,isPanelCollapsed:st,isPanelExpanded:at,getPanelSize:rt,getPanelStyle:D});function we(x,T){return x.findIndex(S=>S===T||S.id===T.id)}function ye(x,T,S){const E=we(x,T),A=E===x.length-1?[E-1,E]:[E,E+1],P=S[E];return{...T.constraints,panelSize:P,pivotIndices:A}}return(x,T)=>(M(),Fe(I(On),{ref:I(o),as:x.as,"as-child":x.asChild,style:Ln({display:"flex",flexDirection:I(i)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":I(i),"data-panel-group-id":I(a)},{default:pe(()=>[ve(x.$slots,"default",{layout:d.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),rl=nl,sl=X({__name:"SplitterPanel",props:{collapsedSize:{type:Number,required:!1},collapsible:{type:Boolean,required:!1},defaultSize:{type:Number,required:!1},id:{type:String,required:!1},maxSize:{type:Number,required:!1},minSize:{type:Number,required:!1},order:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["collapse","expand","resize"],setup(t,{expose:e,emit:n}){const r=t,s=n,i=Es();if(i===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:a,expandPanel:l,getPanelSize:o,getPanelStyle:u,isPanelCollapsed:p,resizePanel:d,groupId:h,reevaluatePanelConstraints:g,registerPanel:b,unregisterPanel:w}=i,f=Nn(r.id,"reka-splitter-panel"),k=j(()=>({callbacks:{onCollapse:()=>s("collapse"),onExpand:()=>s("expand"),onResize:(...q)=>s("resize",...q)},constraints:{collapsedSize:r.collapsedSize&&Number.parseFloat(r.collapsedSize.toFixed(Fn)),collapsible:r.collapsible,defaultSize:r.defaultSize,maxSize:r.maxSize,minSize:r.minSize},id:f,idIsFromProps:r.id!==void 0,order:r.order}));Le(()=>k.value.constraints,(q,ee)=>{(ee.collapsedSize!==q.collapsedSize||ee.collapsible!==q.collapsible||ee.maxSize!==q.maxSize||ee.minSize!==q.minSize)&&g(k.value,ee)},{deep:!0}),Pn(()=>{b(k.value)}),Yr(()=>{w(k.value)});const D=j(()=>u(k.value,r.defaultSize)),H=j(()=>p(k.value)),C=j(()=>!H.value);function N(){a(k.value)}function J(){l(k.value)}function ke(q){d(k.value,q)}return e({collapse:N,expand:J,getSize(){return o(k.value)},resize:ke,isCollapsed:H,isExpanded:C}),(q,ee)=>(M(),Fe(I(On),{id:I(f),style:Ln(D.value),as:q.as,"as-child":q.asChild,"data-panel":"","data-panel-collapsible":q.collapsible||void 0,"data-panel-group-id":I(h),"data-panel-id":I(f),"data-panel-size":Number.parseFloat(`${D.value.flexGrow}`).toFixed(1),"data-state":q.collapsible?H.value?"collapsed":"expanded":void 0},{default:pe(()=>[ve(q.$slots,"default",{isCollapsed:H.value,isExpanded:C.value,expand:J,collapse:N,resize:ke})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}}),xr=sl;function al({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){tt(s=>{const i=r.value;if(t.value||n.value===null||i===null)return;const a=Zt(e,i);if(a==null)return;const l=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n.value?.(o);break}case"F6":{o.preventDefault();const u=a.getAttribute("data-panel-group-id");z(u);const p=yt(u,i),d=cs(u,e,i);z(d!==null);const h=o.shiftKey?d>0?d-1:p.length-1:d+1<p.length?d+1:0;p[h].focus();break}}};a.addEventListener("keydown",l),s(()=>{a.removeEventListener("keydown",l)})})}var il=X({__name:"SplitterResizeHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["dragging"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:s,currentElement:i}=os(),{disabled:a}=Gt(n),l=Es();if(l===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:o,groupId:u,registerResizeHandle:p,startDragging:d,stopDragging:h,panelGroupElement:g}=l,b=Nn(n.id,"reka-splitter-resize-handle"),w=G("inactive"),f=G(!1),k=G(null),{nonce:D}=Gt(n),H=Po(D);return Le(a,()=>{Tt&&(a.value?k.value=null:k.value=p(b))},{immediate:!0}),tt(C=>{if(a.value||k.value===null)return;const N=i.value;if(!N)return;z(N);const J=(ke,q,ee)=>{if(q)switch(ke){case"down":{w.value="drag",d(b,ee),r("dragging",!0);break}case"move":{w.value!=="drag"&&(w.value="hover"),k.value?.(ee);break}case"up":{w.value="hover",h(),r("dragging",!1);break}}else w.value="inactive"};C(Vo(b,N,o,{coarse:n.hitAreaMargins?.coarse??15,fine:n.hitAreaMargins?.fine??5},H,J))}),al({disabled:a,resizeHandler:k,handleId:b,panelGroupElement:g}),(C,N)=>(M(),Fe(I(On),{id:I(b),ref:I(s),style:{touchAction:"none",userSelect:"none"},as:C.as,"as-child":C.asChild,role:"separator","data-resize-handle":"",tabindex:C.tabindex,"data-state":w.value,"data-disabled":I(a)?"":void 0,"data-orientation":I(o),"data-panel-group-id":I(u),"data-resize-handle-active":w.value==="drag"?"pointer":f.value?"keyboard":void 0,"data-resize-handle-state":w.value,"data-panel-resize-handle-enabled":!I(a),"data-panel-resize-handle-id":I(b),onBlur:N[0]||(N[0]=J=>f.value=!1),onFocus:N[1]||(N[1]=J=>f.value=!1)},{default:pe(()=>[ve(C.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),ol=il;const ll={class:"layout"},cl={class:"menubar"},ul={class:"activity-bar bg-white"},pl={class:"w-full h-full overflow-hidden"},dl=X({__name:"layout",setup(t){const e=bo(ko),n=j(()=>e.greater("2xl").value?15:e.greater("xl").value?20:e.greater("lg").value?25:e.greater("md").value?30:0);return(r,s)=>(M(),B("div",ll,[R("div",cl,[ve(r.$slots,"menubar",{},void 0,!0)]),R("div",ul,[ve(r.$slots,"activity-bar",{},void 0,!0)]),R("div",pl,[le(I(rl),{direction:"horizontal",class:"h-full"},{default:pe(()=>[le(I(xr),{class:"primary-sidebar bg-white h-full","default-size":n.value},{default:pe(()=>[ve(r.$slots,"primary-sidebar",{},void 0,!0)]),_:3},8,["default-size"]),le(I(ol)),le(I(xr),{class:"layout-border h-full"},{default:pe(()=>[ve(r.$slots,"main-area",{},void 0,!0)]),_:3})]),_:3})])]))}}),fl=Et(dl,[["__scopeId","data-v-bd4dde52"]]),hl={class:"editorbar bg-primary-content"},gl={class:"tabs tabs-box"},ml=["aria-label","value"],bl=X({__name:"editorbar",props:{widgets:{}},emits:["change"],setup(t,{emit:e}){const n=e,r=G();function s(){n("change",r.value)}return(i,a)=>(M(),B("div",hl,[R("div",gl,[(M(!0),B(ze,null,et(i.widgets,l=>Xt((M(),B("input",{key:l.id,"aria-label":l.label,"onUpdate:modelValue":a[0]||(a[0]=o=>r.value=o),value:l.id,onChange:s,class:"custom-tab",type:"radio",name:"options"},null,40,ml)),[[es,r.value]])),128))])]))}}),kl=Et(bl,[["__scopeId","data-v-adf3a294"]]),xl={class:"main-area",name:"main-area"},vl={class:"editors"},wl={class:"content"},yl=["src"],Sl="/#/widget-iframe",_l=X({__name:"main-area",setup(t){const e=xo(),n=window.location.origin,r=G(new URL(Sl,n)),s=j(()=>r.value.href),i=G();Pn(async()=>{const p=await a();vo(p)});async function a(){const p="/extensions.json";try{const d=await fetch(p);if(!d.ok)throw new Error(`Failed to fetch extension list: ${d.statusText}, url:${p}`);return await d.json()}catch(d){return console.error(d),[]}}async function l(p){e.unmountExtension?.();const d=e.widgets.find(h=>h.id===p);if(!d){console.error({msg:"could not activate widget",widgetId:p});return}e.activateWidget(d),await jr(),await o()}async function o(){i.value&&e.activeWidget&&(await u(i.value),wo(e.activeWidget,i.value.contentWindow))}function u(p){return!p.contentWindow||!p.contentDocument?Promise.reject(new Error("iframe is not ready")):p.contentDocument?.readyState==="complete"?Promise.resolve():new Promise((d,h)=>{const g=()=>(p.removeEventListener("load",g),d());if(!p.contentWindow)return h(new Error("iframe contentWindow not available"));p.addEventListener("load",g)})}return(p,d)=>(M(),B("main",xl,[R("div",vl,[le(kl,{widgets:I(e).widgets,onChange:l},null,8,["widgets"])]),R("div",wl,[I(e).activeWidget?.iframe?(M(),B("iframe",{ref_key:"iframeRef",ref:i,src:s.value,key:I(e).activeWidget?.id},null,8,yl)):Ce("",!0),I(e).activeWidget?.iframe?Ce("",!0):(M(),Fe(rs,{key:1,widget:I(e).activeWidget,rootId:"main-area-widget-root"},null,8,["widget"]))])]))}}),El=Et(_l,[["__scopeId","data-v-d1b759be"]]),Tl={class:"root h-full"},Al={class:"uppercase text-sm p-2"},Rl={class:"content h-full"},Cl=X({__name:"sidebar-primary",setup(t){const e=ss();return(n,r)=>(M(),B("aside",Tl,[R("h1",Al,Ie(I(e).activeWidget?.label),1),R("div",Rl,[(M(),Fe(rs,{key:I(e).activeWidget?.id,widget:I(e).activeWidget,rootId:"sidebar-primary-widget-root"},null,8,["widget"]))])]))}});function Ts(t){return Wr()?(Vr(t),!0):!1}const As=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const zl=Object.prototype.toString,Il=t=>zl.call(t)==="[object Object]",Ue=()=>{},En=Ll();function Ll(){var t,e;return As&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Pl(...t){if(t.length!==1)return Kr(...t);const e=t[0];return typeof e=="function"?Zr(Hr(()=>({get:e,set:Ue}))):G(e)}function hn(t){return Array.isArray(t)?t:[t]}function $l(t,e,n){return Le(t,e,{...n,immediate:!0})}const Rs=As?window:void 0;function kt(t){var e;const n=de(t);return(e=n?.$el)!=null?e:n}function Ht(...t){const e=[],n=()=>{e.forEach(l=>l()),e.length=0},r=(l,o,u,p)=>(l.addEventListener(o,u,p),()=>l.removeEventListener(o,u,p)),s=j(()=>{const l=hn(de(t[0])).filter(o=>o!=null);return l.every(o=>typeof o!="string")?l:void 0}),i=$l(()=>{var l,o;return[(o=(l=s.value)==null?void 0:l.map(u=>kt(u)))!=null?o:[Rs].filter(u=>u!=null),hn(de(s.value?t[1]:t[0])),hn(I(s.value?t[2]:t[1])),de(s.value?t[3]:t[2])]},([l,o,u,p])=>{if(n(),!l?.length||!o?.length||!u?.length)return;const d=Il(p)?{...p}:p;e.push(...l.flatMap(h=>o.flatMap(g=>u.map(b=>r(h,g,b,d)))))},{flush:"post"}),a=()=>{i(),n()};return Ts(n),a}let vr=!1;function wr(t,e,n={}){const{window:r=Rs,ignore:s=[],capture:i=!0,detectIframe:a=!1,controls:l=!1}=n;if(!r)return l?{stop:Ue,cancel:Ue,trigger:Ue}:Ue;if(En&&!vr){vr=!0;const f={passive:!0};Array.from(r.document.body.children).forEach(k=>k.addEventListener("click",Ue,f)),r.document.documentElement.addEventListener("click",Ue,f)}let o=!0;const u=f=>de(s).some(k=>{if(typeof k=="string")return Array.from(r.document.querySelectorAll(k)).some(D=>D===f.target||f.composedPath().includes(D));{const D=kt(k);return D&&(f.target===D||f.composedPath().includes(D))}});function p(f){const k=de(f);return k&&k.$.subTree.shapeFlag===16}function d(f,k){const D=de(f),H=D.$.subTree&&D.$.subTree.children;return H==null||!Array.isArray(H)?!1:H.some(C=>C.el===k.target||k.composedPath().includes(C.el))}const h=f=>{const k=kt(t);if(f.target!=null&&!(!(k instanceof Element)&&p(t)&&d(t,f))&&!(!k||k===f.target||f.composedPath().includes(k))){if("detail"in f&&f.detail===0&&(o=!u(f)),!o){o=!0;return}e(f)}};let g=!1;const b=[Ht(r,"click",f=>{g||(g=!0,setTimeout(()=>{g=!1},0),h(f))},{passive:!0,capture:i}),Ht(r,"pointerdown",f=>{const k=kt(t);o=!u(f)&&!!(k&&!f.composedPath().includes(k))},{passive:!0}),a&&Ht(r,"blur",f=>{setTimeout(()=>{var k;const D=kt(t);((k=r.document.activeElement)==null?void 0:k.tagName)==="IFRAME"&&!D?.contains(r.document.activeElement)&&e(f)},0)},{passive:!0})].filter(Boolean),w=()=>b.forEach(f=>f());return l?{stop:w,cancel:()=>{o=!1},trigger:f=>{o=!0,h(f),o=!1}}:w}const gn=new WeakMap,Ml={mounted(t,e){const n=!e.modifiers.bubble;let r;if(typeof e.value=="function")r=wr(t,e.value,{capture:n});else{const[s,i]=e.value;r=wr(t,s,Object.assign({capture:n},i))}gn.set(t,r)},unmounted(t){const e=gn.get(t);e&&typeof e=="function"?e():e?.stop(),gn.delete(t)}};function mn(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function Cs(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:Cs(n)}}function Dl(t){const e=t||window.event,n=e.target;return Cs(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const bn=new WeakMap;function Nl(t,e=!1){const n=$n(e);let r=null,s="";Le(Pl(t),l=>{const o=mn(de(l));if(o){const u=o;if(bn.get(u)||bn.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(s=u.style.overflow),u.style.overflow==="hidden")return n.value=!0;if(n.value)return u.style.overflow="hidden"}},{immediate:!0});const i=()=>{const l=mn(de(t));!l||n.value||(En&&(r=Ht(l,"touchmove",o=>{Dl(o)},{passive:!1})),l.style.overflow="hidden",n.value=!0)},a=()=>{const l=mn(de(t));!l||!n.value||(En&&r?.(),l.style.overflow=s,bn.delete(l),n.value=!1)};return Ts(a),j({get(){return n.value},set(l){l?i():a()}})}function Ol(){let t=!1;const e=$n(!1);return(n,r)=>{if(e.value=r.value,t)return;t=!0;const s=Nl(n,r.value);Le(e,i=>s.value=i)}}Ol();const Fl=["open"],Bl=X({__name:"dropdown",props:{color:{},variant:{},size:{},active:{type:Boolean},disabled:{type:Boolean},modifier:{},background:{},id:{}},emits:["open","close"],setup(t,{expose:e,emit:n}){const r=t,s=n,i=Jr("details-ref"),a=G(!1),l=j(()=>({"bg-neutral":r.background==="neutral","bg-primary":r.background==="primary","bg-secondary":r.background==="secondary","bg-accent":r.background==="accent","bg-info":r.background==="info","bg-success":r.background==="success","bg-warning":r.background==="warning","bg-error":r.background==="error","bg-base-100":r.background==="base","bg-white":!r.background})),o=j(()=>({"btn-neutral":r.color==="neutral"||!r.color,"btn-primary":r.color==="primary","btn-secondary":r.color==="secondary","btn-accent":r.color==="accent","btn-info":r.color==="info","btn-success":r.color==="success","btn-warning":r.color==="warning","btn-error":r.color==="error"})),u=j(()=>({"btn-outline":r.variant==="outline","btn-dash":r.variant==="dash","btn-soft":r.variant==="soft","btn-ghost":r.variant==="ghost"||!r.variant,"btn-link":r.variant==="link"})),p=j(()=>({"btn-xs":r.size==="xs","btn-sm":r.size==="sm"||!r.size,"btn-md":r.size==="md","btn-lg":r.size==="lg","btn-xl":r.size==="xl"})),d=j(()=>({"btn-wide":r.modifier==="wide"||!r.modifier,"btn-block":r.modifier==="block","btn-square":r.modifier==="square","btn-circle":r.modifier==="circle"}));function h(){i.value&&(i.value.open=a.value)}function g(){a.value=!1,s("close")}function b(){a.value=!0,s("open")}function w(){a.value?g():b()}return e({close:g,isOpen:a,id:r.id}),(f,k)=>(M(),B("details",{"data-testid":"dropdown-wrapper",ref:"details-ref",class:"dropdown",open:a.value,onToggle:h},[R("summary",{"data-testid":"dropdown-trigger",onClick:wt(w,["stop"]),class:Wt(["btn",[o.value,u.value,p.value,d.value,{"btn-active":f.active,"btn-disabled":f.disabled}]])},[ve(f.$slots,"label",{},void 0,!0)],2),Xt((M(),B("ul",{"data-testid":"dropdown-menu",class:Wt([[l.value],"menu dropdown-content z-1 w-52 p-2 shadow-sm size-max"])},[ve(f.$slots,"items",{},void 0,!0)],2)),[[I(Ml),g,void 0,{bubble:!0}]])],40,Fl))}}),Hl=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Ul=Hl(Bl,[["__scopeId","data-v-0a93d691"]]),Wl={class:"flex items-center gap-2 px-2"},Gl={class:"text-xs font-semibold"},ql=X({__name:"active-scl-file-info",setup(t){const e=Mn(),{currentActiveFileDatabaseName:n}=ns(e),r=j(()=>n.value?`Active file: ${n.value}`:"No active file");return(s,i)=>(M(),B("div",Wl,[i[0]||(i[0]=Fr('<svg class="size-[1em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="currentColor" stroke-linejoin="miter" stroke-linecap="butt"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></circle><path d="m12,17v-5.5c0-.276-.224-.5-.5-.5h-1.5" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></path><circle cx="12" cy="7.25" r="1.25" fill="currentColor" stroke-width="2"></circle></g></svg>',1)),R("div",Gl,Ie(r.value),1)]))}}),jl={class:"navbar shadow-sm min-h-10 px-0.5 py-0 bg-white"},Vl=["onClick"],Yl=["onClick"],Xl=X({__name:"navbar",props:{items:{}},setup(t){const e=G([]),n=t,r=j(()=>{const l=[];for(const o of n.items){const u=o.path.length>0,p=!u,d=u;if(p){if(l.find(g=>g.label===o.label))continue;l.push({id:o.id,label:o.label,children:[],action:i})}d&&s(l,o).children.push({id:o.id,label:o.label,children:[],action:o.action})}return l});function s(l,o){let u={id:"N/A",label:"N/A",action:i,children:l};for(const p of o.path){const d=u.children.find(g=>g.label===p);if(d){u=d;continue}const h={id:p,label:p,children:[],action:i};u.children.push(h),u=h}return u}function i(l){for(const o of e.value)o.id!==l&&o.close()}function a(l,o){return function(){o.action(o.id);const u=e.value.find(p=>p.id===l);if(!u){console.warn({msg:"could not find dropdown to close",itemId:l});return}u.close()}}return(l,o)=>(M(),B("nav",jl,[R("div",null,[(M(!0),B(ze,null,et(r.value,u=>(M(),B(ze,null,[u.children.length>0?(M(),Fe(I(Ul),{key:u.id,id:u.id,ref_for:!0,ref_key:"dropdowns",ref:e,color:"secondary",variant:"ghost",size:"sm",modifier:"wide",onOpen:()=>i(u.id)},{label:pe(()=>[Br(Ie(u.label),1)]),items:pe(()=>[(M(!0),B(ze,null,et(u.children,p=>(M(),B("li",{key:p.id},[R("button",{onClick:()=>a(u.id,p)()},Ie(p.label),9,Vl)]))),128))]),_:2},1032,["id","onOpen"])):Ce("",!0),u.children.length===0?(M(),B("button",{key:u.id,onClick:()=>u.action(u.id)},Ie(u.label),9,Yl)):Ce("",!0)],64))),256))]),le(ql)]))}}),Zl=Et(Xl,[["__scopeId","data-v-d04632a5"]]),Kl=["open"],Ql={class:"modal-box relative"},Jl=X({__name:"new-file-modal",setup(t){const e=Mn(),n=G("");function r(){e.newFileModalOpen=!1,n.value=""}async function s(){if(!n.value.trim()){alert("Please enter a project name.");return}await e.createNewFile(n.value.trim()),r()}return(i,a)=>(M(),B("dialog",{class:"modal",open:I(e).newFileModalOpen,onCancel:wt(r,["prevent"])},[R("div",Ql,[a[4]||(a[4]=R("h3",{class:"text-lg font-bold"},"Create New Project",-1)),R("button",{class:"absolute top-[1.5rem] right-[1.5rem] cursor-pointer btn btn-sm btn-circle btn-ghost",onClick:r,"aria-label":"Close new project creation","data-testId":"close-new-file-modal"},a[1]||(a[1]=[R("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 64 64"},[R("path",{d:"M 16 14 C 15.488 14 14.976938 14.194937 14.585938 14.585938 C 13.804937 15.366937 13.804937 16.633063 14.585938 17.414062 L 29.171875 32 L 14.585938 46.585938 C 13.804938 47.366938 13.804937 48.633063 14.585938 49.414062 C 14.976937 49.805062 15.488 50 16 50 C 16.512 50 17.023062 49.805062 17.414062 49.414062 L 32 34.828125 L 46.585938 49.414062 C 47.366938 50.195063 48.633063 50.195062 49.414062 49.414062 C 50.195063 48.633062 50.195062 47.366937 49.414062 46.585938 L 34.828125 32 L 49.414062 17.414062 C 50.195063 16.633063 50.195062 15.366938 49.414062 14.585938 C 48.633062 13.804938 47.366937 13.804938 46.585938 14.585938 L 32 29.171875 L 17.414062 14.585938 C 17.023062 14.194938 16.512 14 16 14 z"})],-1)])),a[5]||(a[5]=R("p",{class:"text-sm text-gray-500 mt-2 flex items-center gap-1 select-none"}," â“˜ Please save your current project before creating a new project ",-1)),R("form",{onSubmit:wt(s,["prevent"]),class:"mt-4"},[a[3]||(a[3]=R("label",{for:"new-project-name",class:"col-start-1 self-center"},"New Project Name",-1)),Xt(R("input",{id:"new-project-name",type:"text","onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),placeholder:"Enter Project Name",required:"",autofocus:"",class:"input input-bordered w-full mt-2"},null,512),[[ts,n.value]]),R("div",{class:"flex justify-end gap-2 mt-4"},[R("button",{type:"button",class:"btn btn-ghost btn-error",onClick:r},"Cancel"),a[2]||(a[2]=R("button",{type:"submit",class:"btn btn-primary border-none text-white"},"Create",-1))])],32)])],40,Kl))}});/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:zs,setPrototypeOf:yr,isFrozen:ec,getPrototypeOf:tc,getOwnPropertyDescriptor:nc}=Object;let{freeze:ae,seal:fe,create:Tn}=Object,{apply:An,construct:Rn}=typeof Reflect<"u"&&Reflect;ae||(ae=function(e){return e});fe||(fe=function(e){return e});An||(An=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return e.apply(n,s)});Rn||(Rn=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new e(...r)});const Nt=ie(Array.prototype.forEach),rc=ie(Array.prototype.lastIndexOf),Sr=ie(Array.prototype.pop),ct=ie(Array.prototype.push),sc=ie(Array.prototype.splice),Ut=ie(String.prototype.toLowerCase),kn=ie(String.prototype.toString),xn=ie(String.prototype.match),ut=ie(String.prototype.replace),ac=ie(String.prototype.indexOf),ic=ie(String.prototype.trim),ge=ie(Object.prototype.hasOwnProperty),re=ie(RegExp.prototype.test),pt=oc(TypeError);function ie(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return An(t,e,r)}}function oc(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Rn(t,n)}}function L(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ut;yr&&yr(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(ec(e)||(e[r]=i),s=i)}t[s]=!0}return t}function lc(t){for(let e=0;e<t.length;e++)ge(t,e)||(t[e]=null);return t}function Ae(t){const e=Tn(null);for(const[n,r]of zs(t))ge(t,n)&&(Array.isArray(r)?e[n]=lc(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Ae(r):e[n]=r);return e}function dt(t,e){for(;t!==null;){const r=nc(t,e);if(r){if(r.get)return ie(r.get);if(typeof r.value=="function")return ie(r.value)}t=tc(t)}function n(){return null}return n}const _r=ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vn=ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wn=ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cc=ae(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yn=ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uc=ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Er=ae(["#text"]),Tr=ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Sn=ae(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ar=ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ot=ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pc=fe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dc=fe(/<%[\w\W]*|[\w\W]*%>/gm),fc=fe(/\$\{[\w\W]*/gm),hc=fe(/^data-[\-\w.\u00B7-\uFFFF]+$/),gc=fe(/^aria-[\-\w]+$/),Is=fe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mc=fe(/^(?:\w+script|data):/i),bc=fe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ls=fe(/^html$/i),kc=fe(/^[a-z][.\w]*(-[.\w]+)+$/i);var Rr=Object.freeze({__proto__:null,ARIA_ATTR:gc,ATTR_WHITESPACE:bc,CUSTOM_ELEMENT:kc,DATA_ATTR:hc,DOCTYPE_NAME:Ls,ERB_EXPR:dc,IS_ALLOWED_URI:Is,IS_SCRIPT_OR_DATA:mc,MUSTACHE_EXPR:pc,TMPLIT_EXPR:fc});const ft={element:1,text:3,progressingInstruction:7,comment:8,document:9},xc=function(){return typeof window>"u"?null:window},vc=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Cr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ps(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xc();const e=y=>Ps(y);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==ft.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:o,NodeFilter:u,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:g}=t,b=o.prototype,w=dt(b,"cloneNode"),f=dt(b,"remove"),k=dt(b,"nextSibling"),D=dt(b,"childNodes"),H=dt(b,"parentNode");if(typeof a=="function"){const y=n.createElement("template");y.content&&y.content.ownerDocument&&(n=y.content.ownerDocument)}let C,N="";const{implementation:J,createNodeIterator:ke,createDocumentFragment:q,getElementsByTagName:ee}=n,{importNode:nt}=r;let Z=Cr();e.isSupported=typeof zs=="function"&&typeof H=="function"&&J&&J.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:rt,ERB_EXPR:st,TMPLIT_EXPR:at,DATA_ATTR:we,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:T,CUSTOM_ELEMENT:S}=Rr;let{IS_ALLOWED_URI:E}=Rr,_=null;const A=L({},[..._r,...vn,...wn,...yn,...Er]);let P=null;const ce=L({},[...Tr,...Sn,...Ar,...Ot]);let $=Object.seal(Tn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,he=null;const ne=Object.seal(Tn(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let K=!0,qe=!0,Rt=!1,Pe=!0,Se=!1,je=!0,Be=!1,nn=!1,rn=!1,Ve=!1,Ct=!1,zt=!1,Kn=!0,Qn=!1;const js="user-content-";let sn=!0,it=!1,Ye={},Xe=null;const Jn=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let er=null;const tr=L({},["audio","video","img","source","image","track"]);let an=null;const nr=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),It="http://www.w3.org/1998/Math/MathML",Lt="http://www.w3.org/2000/svg",_e="http://www.w3.org/1999/xhtml";let Ze=_e,on=!1,ln=null;const Vs=L({},[It,Lt,_e],kn);let Pt=L({},["mi","mo","mn","ms","mtext"]),$t=L({},["annotation-xml"]);const Ys=L({},["title","style","font","a","script"]);let ot=null;const Xs=["application/xhtml+xml","text/html"],Zs="text/html";let Y=null,Ke=null;const Ks=n.createElement("form"),rr=function(c){return c instanceof RegExp||c instanceof Function},cn=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ke&&Ke===c)){if((!c||typeof c!="object")&&(c={}),c=Ae(c),ot=Xs.indexOf(c.PARSER_MEDIA_TYPE)===-1?Zs:c.PARSER_MEDIA_TYPE,Y=ot==="application/xhtml+xml"?kn:Ut,_=ge(c,"ALLOWED_TAGS")?L({},c.ALLOWED_TAGS,Y):A,P=ge(c,"ALLOWED_ATTR")?L({},c.ALLOWED_ATTR,Y):ce,ln=ge(c,"ALLOWED_NAMESPACES")?L({},c.ALLOWED_NAMESPACES,kn):Vs,an=ge(c,"ADD_URI_SAFE_ATTR")?L(Ae(nr),c.ADD_URI_SAFE_ATTR,Y):nr,er=ge(c,"ADD_DATA_URI_TAGS")?L(Ae(tr),c.ADD_DATA_URI_TAGS,Y):tr,Xe=ge(c,"FORBID_CONTENTS")?L({},c.FORBID_CONTENTS,Y):Jn,U=ge(c,"FORBID_TAGS")?L({},c.FORBID_TAGS,Y):Ae({}),he=ge(c,"FORBID_ATTR")?L({},c.FORBID_ATTR,Y):Ae({}),Ye=ge(c,"USE_PROFILES")?c.USE_PROFILES:!1,K=c.ALLOW_ARIA_ATTR!==!1,qe=c.ALLOW_DATA_ATTR!==!1,Rt=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Pe=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Se=c.SAFE_FOR_TEMPLATES||!1,je=c.SAFE_FOR_XML!==!1,Be=c.WHOLE_DOCUMENT||!1,Ve=c.RETURN_DOM||!1,Ct=c.RETURN_DOM_FRAGMENT||!1,zt=c.RETURN_TRUSTED_TYPE||!1,rn=c.FORCE_BODY||!1,Kn=c.SANITIZE_DOM!==!1,Qn=c.SANITIZE_NAMED_PROPS||!1,sn=c.KEEP_CONTENT!==!1,it=c.IN_PLACE||!1,E=c.ALLOWED_URI_REGEXP||Is,Ze=c.NAMESPACE||_e,Pt=c.MATHML_TEXT_INTEGRATION_POINTS||Pt,$t=c.HTML_INTEGRATION_POINTS||$t,$=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&rr(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&rr(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(qe=!1),Ct&&(Ve=!0),Ye&&(_=L({},Er),P=[],Ye.html===!0&&(L(_,_r),L(P,Tr)),Ye.svg===!0&&(L(_,vn),L(P,Sn),L(P,Ot)),Ye.svgFilters===!0&&(L(_,wn),L(P,Sn),L(P,Ot)),Ye.mathMl===!0&&(L(_,yn),L(P,Ar),L(P,Ot))),c.ADD_TAGS&&(typeof c.ADD_TAGS=="function"?ne.tagCheck=c.ADD_TAGS:(_===A&&(_=Ae(_)),L(_,c.ADD_TAGS,Y))),c.ADD_ATTR&&(typeof c.ADD_ATTR=="function"?ne.attributeCheck=c.ADD_ATTR:(P===ce&&(P=Ae(P)),L(P,c.ADD_ATTR,Y))),c.ADD_URI_SAFE_ATTR&&L(an,c.ADD_URI_SAFE_ATTR,Y),c.FORBID_CONTENTS&&(Xe===Jn&&(Xe=Ae(Xe)),L(Xe,c.FORBID_CONTENTS,Y)),sn&&(_["#text"]=!0),Be&&L(_,["html","head","body"]),_.table&&(L(_,["tbody"]),delete U.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw pt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=c.TRUSTED_TYPES_POLICY,N=C.createHTML("")}else C===void 0&&(C=vc(g,s)),C!==null&&typeof N=="string"&&(N=C.createHTML(""));ae&&ae(c),Ke=c}},sr=L({},[...vn,...wn,...cc]),ar=L({},[...yn,...uc]),Qs=function(c){let m=H(c);(!m||!m.tagName)&&(m={namespaceURI:Ze,tagName:"template"});const v=Ut(c.tagName),W=Ut(m.tagName);return ln[c.namespaceURI]?c.namespaceURI===Lt?m.namespaceURI===_e?v==="svg":m.namespaceURI===It?v==="svg"&&(W==="annotation-xml"||Pt[W]):!!sr[v]:c.namespaceURI===It?m.namespaceURI===_e?v==="math":m.namespaceURI===Lt?v==="math"&&$t[W]:!!ar[v]:c.namespaceURI===_e?m.namespaceURI===Lt&&!$t[W]||m.namespaceURI===It&&!Pt[W]?!1:!ar[v]&&(Ys[v]||!sr[v]):!!(ot==="application/xhtml+xml"&&ln[c.namespaceURI]):!1},xe=function(c){ct(e.removed,{element:c});try{H(c).removeChild(c)}catch{f(c)}},He=function(c,m){try{ct(e.removed,{attribute:m.getAttributeNode(c),from:m})}catch{ct(e.removed,{attribute:null,from:m})}if(m.removeAttribute(c),c==="is")if(Ve||Ct)try{xe(m)}catch{}else try{m.setAttribute(c,"")}catch{}},ir=function(c){let m=null,v=null;if(rn)c="<remove></remove>"+c;else{const V=xn(c,/^[\r\n\t ]+/);v=V&&V[0]}ot==="application/xhtml+xml"&&Ze===_e&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const W=C?C.createHTML(c):c;if(Ze===_e)try{m=new h().parseFromString(W,ot)}catch{}if(!m||!m.documentElement){m=J.createDocument(Ze,"template",null);try{m.documentElement.innerHTML=on?N:W}catch{}}const te=m.body||m.documentElement;return c&&v&&te.insertBefore(n.createTextNode(v),te.childNodes[0]||null),Ze===_e?ee.call(m,Be?"html":"body")[0]:Be?m.documentElement:te},or=function(c){return ke.call(c.ownerDocument||c,c,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},un=function(c){return c instanceof d&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof p)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},lr=function(c){return typeof l=="function"&&c instanceof l};function Ee(y,c,m){Nt(y,v=>{v.call(e,c,m,Ke)})}const cr=function(c){let m=null;if(Ee(Z.beforeSanitizeElements,c,null),un(c))return xe(c),!0;const v=Y(c.nodeName);if(Ee(Z.uponSanitizeElement,c,{tagName:v,allowedTags:_}),je&&c.hasChildNodes()&&!lr(c.firstElementChild)&&re(/<[/\w!]/g,c.innerHTML)&&re(/<[/\w!]/g,c.textContent)||c.nodeType===ft.progressingInstruction||je&&c.nodeType===ft.comment&&re(/<[/\w]/g,c.data))return xe(c),!0;if(!(ne.tagCheck instanceof Function&&ne.tagCheck(v))&&(!_[v]||U[v])){if(!U[v]&&pr(v)&&($.tagNameCheck instanceof RegExp&&re($.tagNameCheck,v)||$.tagNameCheck instanceof Function&&$.tagNameCheck(v)))return!1;if(sn&&!Xe[v]){const W=H(c)||c.parentNode,te=D(c)||c.childNodes;if(te&&W){const V=te.length;for(let oe=V-1;oe>=0;--oe){const Te=w(te[oe],!0);Te.__removalCount=(c.__removalCount||0)+1,W.insertBefore(Te,k(c))}}}return xe(c),!0}return c instanceof o&&!Qs(c)||(v==="noscript"||v==="noembed"||v==="noframes")&&re(/<\/no(script|embed|frames)/i,c.innerHTML)?(xe(c),!0):(Se&&c.nodeType===ft.text&&(m=c.textContent,Nt([rt,st,at],W=>{m=ut(m,W," ")}),c.textContent!==m&&(ct(e.removed,{element:c.cloneNode()}),c.textContent=m)),Ee(Z.afterSanitizeElements,c,null),!1)},ur=function(c,m,v){if(Kn&&(m==="id"||m==="name")&&(v in n||v in Ks))return!1;if(!(qe&&!he[m]&&re(we,m))){if(!(K&&re(ye,m))){if(!(ne.attributeCheck instanceof Function&&ne.attributeCheck(m,c))){if(!P[m]||he[m]){if(!(pr(c)&&($.tagNameCheck instanceof RegExp&&re($.tagNameCheck,c)||$.tagNameCheck instanceof Function&&$.tagNameCheck(c))&&($.attributeNameCheck instanceof RegExp&&re($.attributeNameCheck,m)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(m,c))||m==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&re($.tagNameCheck,v)||$.tagNameCheck instanceof Function&&$.tagNameCheck(v))))return!1}else if(!an[m]){if(!re(E,ut(v,T,""))){if(!((m==="src"||m==="xlink:href"||m==="href")&&c!=="script"&&ac(v,"data:")===0&&er[c])){if(!(Rt&&!re(x,ut(v,T,"")))){if(v)return!1}}}}}}}return!0},pr=function(c){return c!=="annotation-xml"&&xn(c,S)},dr=function(c){Ee(Z.beforeSanitizeAttributes,c,null);const{attributes:m}=c;if(!m||un(c))return;const v={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let W=m.length;for(;W--;){const te=m[W],{name:V,namespaceURI:oe,value:Te}=te,Qe=Y(V),pn=Te;let Q=V==="value"?pn:ic(pn);if(v.attrName=Qe,v.attrValue=Q,v.keepAttr=!0,v.forceKeepAttr=void 0,Ee(Z.uponSanitizeAttribute,c,v),Q=v.attrValue,Qn&&(Qe==="id"||Qe==="name")&&(He(V,c),Q=js+Q),je&&re(/((--!?|])>)|<\/(style|title|textarea)/i,Q)){He(V,c);continue}if(Qe==="attributename"&&xn(Q,"href")){He(V,c);continue}if(v.forceKeepAttr)continue;if(!v.keepAttr){He(V,c);continue}if(!Pe&&re(/\/>/i,Q)){He(V,c);continue}Se&&Nt([rt,st,at],hr=>{Q=ut(Q,hr," ")});const fr=Y(c.nodeName);if(!ur(fr,Qe,Q)){He(V,c);continue}if(C&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!oe)switch(g.getAttributeType(fr,Qe)){case"TrustedHTML":{Q=C.createHTML(Q);break}case"TrustedScriptURL":{Q=C.createScriptURL(Q);break}}if(Q!==pn)try{oe?c.setAttributeNS(oe,V,Q):c.setAttribute(V,Q),un(c)?xe(c):Sr(e.removed)}catch{He(V,c)}}Ee(Z.afterSanitizeAttributes,c,null)},Js=function y(c){let m=null;const v=or(c);for(Ee(Z.beforeSanitizeShadowDOM,c,null);m=v.nextNode();)Ee(Z.uponSanitizeShadowNode,m,null),cr(m),dr(m),m.content instanceof i&&y(m.content);Ee(Z.afterSanitizeShadowDOM,c,null)};return e.sanitize=function(y){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=null,v=null,W=null,te=null;if(on=!y,on&&(y="<!-->"),typeof y!="string"&&!lr(y))if(typeof y.toString=="function"){if(y=y.toString(),typeof y!="string")throw pt("dirty is not a string, aborting")}else throw pt("toString is not a function");if(!e.isSupported)return y;if(nn||cn(c),e.removed=[],typeof y=="string"&&(it=!1),it){if(y.nodeName){const Te=Y(y.nodeName);if(!_[Te]||U[Te])throw pt("root node is forbidden and cannot be sanitized in-place")}}else if(y instanceof l)m=ir("<!---->"),v=m.ownerDocument.importNode(y,!0),v.nodeType===ft.element&&v.nodeName==="BODY"||v.nodeName==="HTML"?m=v:m.appendChild(v);else{if(!Ve&&!Se&&!Be&&y.indexOf("<")===-1)return C&&zt?C.createHTML(y):y;if(m=ir(y),!m)return Ve?null:zt?N:""}m&&rn&&xe(m.firstChild);const V=or(it?y:m);for(;W=V.nextNode();)cr(W),dr(W),W.content instanceof i&&Js(W.content);if(it)return y;if(Ve){if(Ct)for(te=q.call(m.ownerDocument);m.firstChild;)te.appendChild(m.firstChild);else te=m;return(P.shadowroot||P.shadowrootmode)&&(te=nt.call(r,te,!0)),te}let oe=Be?m.outerHTML:m.innerHTML;return Be&&_["!doctype"]&&m.ownerDocument&&m.ownerDocument.doctype&&m.ownerDocument.doctype.name&&re(Ls,m.ownerDocument.doctype.name)&&(oe="<!DOCTYPE "+m.ownerDocument.doctype.name+`>
`+oe),Se&&Nt([rt,st,at],Te=>{oe=ut(oe,Te," ")}),C&&zt?C.createHTML(oe):oe},e.setConfig=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};cn(y),nn=!0},e.clearConfig=function(){Ke=null,nn=!1},e.isValidAttribute=function(y,c,m){Ke||cn({});const v=Y(y),W=Y(c);return ur(v,W,m)},e.addHook=function(y,c){typeof c=="function"&&ct(Z[y],c)},e.removeHook=function(y,c){if(c!==void 0){const m=rc(Z[y],c);return m===-1?void 0:sc(Z[y],m,1)[0]}return Sr(Z[y])},e.removeHooks=function(y){Z[y]=[]},e.removeAllHooks=function(){Z=Cr()},e}var zr=Ps();function Un(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ge=Un();function $s(t){Ge=t}var vt={exec:()=>null};function O(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(se.caret,"$1"),n=n.replace(s,a),r},getRegex:()=>new RegExp(n,e)};return r}var wc=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),se={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},yc=/^(?:[ \t]*(?:\n|$))+/,Sc=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,_c=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,At=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Ec=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Wn=/(?:[*+-]|\d{1,9}[.)])/,Ms=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ds=O(Ms).replace(/bull/g,Wn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Tc=O(Ms).replace(/bull/g,Wn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Gn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ac=/^[^\n]+/,qn=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Rc=O(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Cc=O(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Wn).getRegex(),en="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",jn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,zc=O("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",jn).replace("tag",en).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ns=O(Gn).replace("hr",At).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex(),Ic=O(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ns).getRegex(),Vn={blockquote:Ic,code:Sc,def:Rc,fences:_c,heading:Ec,hr:At,html:zc,lheading:Ds,list:Cc,newline:yc,paragraph:Ns,table:vt,text:Ac},Ir=O("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",At).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex(),Lc={...Vn,lheading:Tc,table:Ir,paragraph:O(Gn).replace("hr",At).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ir).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex()},Pc={...Vn,html:O(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",jn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:O(Gn).replace("hr",At).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ds).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},$c=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Mc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Os=/^( {2,}|\\)\n(?!\s*$)/,Dc=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,tn=/[\p{P}\p{S}]/u,Yn=/[\s\p{P}\p{S}]/u,Fs=/[^\s\p{P}\p{S}]/u,Nc=O(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Yn).getRegex(),Bs=/(?!~)[\p{P}\p{S}]/u,Oc=/(?!~)[\s\p{P}\p{S}]/u,Fc=/(?:[^\s\p{P}\p{S}]|~)/u,Bc=O(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",wc?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Hs=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Hc=O(Hs,"u").replace(/punct/g,tn).getRegex(),Uc=O(Hs,"u").replace(/punct/g,Bs).getRegex(),Us="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Wc=O(Us,"gu").replace(/notPunctSpace/g,Fs).replace(/punctSpace/g,Yn).replace(/punct/g,tn).getRegex(),Gc=O(Us,"gu").replace(/notPunctSpace/g,Fc).replace(/punctSpace/g,Oc).replace(/punct/g,Bs).getRegex(),qc=O("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Fs).replace(/punctSpace/g,Yn).replace(/punct/g,tn).getRegex(),jc=O(/\\(punct)/,"gu").replace(/punct/g,tn).getRegex(),Vc=O(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Yc=O(jn).replace("(?:-->|$)","-->").getRegex(),Xc=O("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Yc).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jt=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Zc=O(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ws=O(/^!?\[(label)\]\[(ref)\]/).replace("label",jt).replace("ref",qn).getRegex(),Gs=O(/^!?\[(ref)\](?:\[\])?/).replace("ref",qn).getRegex(),Kc=O("reflink|nolink(?!\\()","g").replace("reflink",Ws).replace("nolink",Gs).getRegex(),Lr=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Xn={_backpedal:vt,anyPunctuation:jc,autolink:Vc,blockSkip:Bc,br:Os,code:Mc,del:vt,emStrongLDelim:Hc,emStrongRDelimAst:Wc,emStrongRDelimUnd:qc,escape:$c,link:Zc,nolink:Gs,punctuation:Nc,reflink:Ws,reflinkSearch:Kc,tag:Xc,text:Dc,url:vt},Qc={...Xn,link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",jt).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jt).getRegex()},Cn={...Xn,emStrongRDelimAst:Gc,emStrongLDelim:Uc,url:O(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Lr).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:O(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Lr).getRegex()},Jc={...Cn,br:O(Os).replace("{2,}","*").getRegex(),text:O(Cn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ft={normal:Vn,gfm:Lc,pedantic:Pc},ht={normal:Xn,gfm:Cn,breaks:Jc,pedantic:Qc},eu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pr=t=>eu[t];function Re(t,e){if(e){if(se.escapeTest.test(t))return t.replace(se.escapeReplace,Pr)}else if(se.escapeTestNoEncode.test(t))return t.replace(se.escapeReplaceNoEncode,Pr);return t}function $r(t){try{t=encodeURI(t).replace(se.percentDecode,"%")}catch{return null}return t}function Mr(t,e){let n=t.replace(se.findPipe,(i,a,l)=>{let o=!1,u=a;for(;--u>=0&&l[u]==="\\";)o=!o;return o?"|":" |"}),r=n.split(se.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(se.slashPipe,"|");return r}function gt(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function tu(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function Dr(t,e,n,r,s){let i=e.href,a=e.title||null,l=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let o={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:a,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,o}function nu(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let a=i.match(n.other.beginningSpace);if(a===null)return i;let[l]=a;return l.length>=s.length?i.slice(s.length):i}).join(`
`)}var Vt=class{options;rules;lexer;constructor(t){this.options=t||Ge}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:gt(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=nu(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=gt(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:gt(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=gt(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let a=!1,l=[],o;for(o=0;o<n.length;o++)if(this.rules.other.blockquoteStart.test(n[o]))l.push(n[o]),a=!0;else if(!a)l.push(n[o]);else break;n=n.slice(o);let u=l.join(`
`),p=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,s=s?`${s}
${p}`:p;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,i,!0),this.lexer.state.top=d,n.length===0)break;let h=i.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let g=h,b=g.raw+`
`+n.join(`
`),w=this.blockquote(b);i[i.length-1]=w,r=r.substring(0,r.length-g.raw.length)+w.raw,s=s.substring(0,s.length-g.text.length)+w.text;break}else if(h?.type==="list"){let g=h,b=g.raw+`
`+n.join(`
`),w=this.list(b);i[i.length-1]=w,r=r.substring(0,r.length-h.raw.length)+w.raw,s=s.substring(0,s.length-g.raw.length)+w.raw,n=b.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),a=!1;for(;t;){let o=!1,u="",p="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),h=t.split(`
`,1)[0],g=!d.trim(),b=0;if(this.options.pedantic?(b=2,p=d.trimStart()):g?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,p=d.slice(b),b+=e[1].length),g&&this.rules.other.blankLine.test(h)&&(u+=h+`
`,t=t.substring(h.length+1),o=!0),!o){let w=this.rules.other.nextBulletRegex(b),f=this.rules.other.hrRegex(b),k=this.rules.other.fencesBeginRegex(b),D=this.rules.other.headingBeginRegex(b),H=this.rules.other.htmlBeginRegex(b);for(;t;){let C=t.split(`
`,1)[0],N;if(h=C,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),N=h):N=h.replace(this.rules.other.tabCharGlobal,"    "),k.test(h)||D.test(h)||H.test(h)||w.test(h)||f.test(h))break;if(N.search(this.rules.other.nonSpaceChar)>=b||!h.trim())p+=`
`+N.slice(b);else{if(g||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||D.test(d)||f.test(d))break;p+=`
`+h}!g&&!h.trim()&&(g=!0),u+=C+`
`,t=t.substring(C.length+1),d=N.slice(b)}}s.loose||(a?s.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(a=!0)),s.items.push({type:"list_item",raw:u,task:!!this.options.gfm&&this.rules.other.listIsTask.test(p),loose:!1,text:p,tokens:[]}),s.raw+=u}let l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let o of s.items){if(this.lexer.state.top=!1,o.tokens=this.lexer.blockTokens(o.text,[]),o.task){if(o.text=o.text.replace(this.rules.other.listReplaceTask,""),o.tokens[0]?.type==="text"||o.tokens[0]?.type==="paragraph"){o.tokens[0].raw=o.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),o.tokens[0].text=o.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let p=this.lexer.inlineQueue.length-1;p>=0;p--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[p].src)){this.lexer.inlineQueue[p].src=this.lexer.inlineQueue[p].src.replace(this.rules.other.listReplaceTask,"");break}}let u=this.rules.other.listTaskCheckbox.exec(o.raw);if(u){let p={type:"checkbox",raw:u[0]+" ",checked:u[0]!=="[ ]"};o.checked=p.checked,s.loose?o.tokens[0]&&["paragraph","text"].includes(o.tokens[0].type)&&"tokens"in o.tokens[0]&&o.tokens[0].tokens?(o.tokens[0].raw=p.raw+o.tokens[0].raw,o.tokens[0].text=p.raw+o.tokens[0].text,o.tokens[0].tokens.unshift(p)):o.tokens.unshift({type:"paragraph",raw:p.raw,text:p.raw,tokens:[p]}):o.tokens.unshift(p)}}if(!s.loose){let u=o.tokens.filter(d=>d.type==="space"),p=u.length>0&&u.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=p}}if(s.loose)for(let o of s.items){o.loose=!0;for(let u of o.tokens)u.type==="text"&&(u.type="paragraph")}return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=Mr(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)this.rules.other.tableAlignRight.test(a)?i.align.push("right"):this.rules.other.tableAlignCenter.test(a)?i.align.push("center"):this.rules.other.tableAlignLeft.test(a)?i.align.push("left"):i.align.push(null);for(let a=0;a<n.length;a++)i.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:i.align[a]});for(let a of s)i.rows.push(Mr(a,i.header.length).map((l,o)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[o]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=gt(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=tu(e[2],"()");if(i===-2)return;if(i>-1){let a=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Dr(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Dr(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,a,l=s,o=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(r=u.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(a=[...i].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){o+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+o);let p=[...r[0]][0].length,d=t.slice(0,s+r.index+p+a);if(Math.min(s,a)%2){let g=d.slice(1,-1);return{type:"em",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}let h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},me=class zn{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ge,this.options.tokenizer=this.options.tokenizer||new Vt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:se,block:Ft.normal,inline:ht.normal};this.options.pedantic?(n.block=Ft.pedantic,n.inline=ht.pedantic):this.options.gfm&&(n.block=Ft.gfm,this.options.breaks?n.inline=ht.breaks:n.inline=ht.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ft,inline:ht}}static lex(e,n){return new zn(n).lex(e)}static lexInline(e,n){return new zn(n).inlineTokens(e)}lex(e){e=e.replace(se.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(se.tabCharGlobal,"    ").replace(se.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(a=>(s=a.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let a=n.at(-1);s.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+s.raw,a.text+=`
`+s.text,this.inlineQueue.at(-1).src=a.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+s.raw,a.text+=`
`+s.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},n.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let i=e;if(this.options.extensions?.startBlock){let a=1/0,l=e.slice(1),o;this.options.extensions.startBlock.forEach(u=>{o=u.call({lexer:this},l),typeof o=="number"&&o>=0&&(a=Math.min(a,o))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){let a=n.at(-1);r&&a?.type==="paragraph"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+s.raw,a.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let a=n.at(-1);a?.type==="text"?(a.raw+=(a.raw.endsWith(`
`)?"":`
`)+s.raw,a.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(s);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)o.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=s[2]?s[2].length:0,r=r.slice(0,s.index+i)+"["+"a".repeat(s[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let a=!1,l="";for(;e;){a||(l=""),a=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=n.at(-1);o.type==="text"&&p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(e,r,l)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if(this.options.extensions?.startInline){let p=1/0,d=e.slice(1),h;this.options.extensions.startInline.forEach(g=>{h=g.call({lexer:this},d),typeof h=="number"&&h>=0&&(p=Math.min(p,h))}),p<1/0&&p>=0&&(u=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(l=o.raw.slice(-1)),a=!0;let p=n.at(-1);p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):n.push(o);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}},Yt=class{options;parser;constructor(t){this.options=t||Ge}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(se.notSpaceStart)?.[0],s=t.replace(se.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Re(r)+'">'+(n?s:Re(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:Re(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let a=0;a<t.items.length;a++){let l=t.items[a];r+=this.listitem(l)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let a=0;a<i.length;a++)n+=this.tablecell(i[a]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Re(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=$r(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+Re(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=$r(t);if(s===null)return Re(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${Re(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Re(t.text)}},Zn=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},be=class In{options;renderer;textRenderer;constructor(e){this.options=e||Ge,this.options.renderer=this.options.renderer||new Yt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Zn}static parse(e,n){return new In(n).parse(e)}static parseInline(e,n){return new In(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){n+=l||"";continue}}let i=s;switch(i.type){case"space":{n+=this.renderer.space(i);break}case"hr":{n+=this.renderer.hr(i);break}case"heading":{n+=this.renderer.heading(i);break}case"code":{n+=this.renderer.code(i);break}case"table":{n+=this.renderer.table(i);break}case"blockquote":{n+=this.renderer.blockquote(i);break}case"list":{n+=this.renderer.list(i);break}case"checkbox":{n+=this.renderer.checkbox(i);break}case"html":{n+=this.renderer.html(i);break}case"def":{n+=this.renderer.def(i);break}case"paragraph":{n+=this.renderer.paragraph(i);break}case"text":{n+=this.renderer.text(i);break}default:{let a='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=l||"";continue}}let a=i;switch(a.type){case"escape":{r+=n.text(a);break}case"html":{r+=n.html(a);break}case"link":{r+=n.link(a);break}case"image":{r+=n.image(a);break}case"checkbox":{r+=n.checkbox(a);break}case"strong":{r+=n.strong(a);break}case"em":{r+=n.em(a);break}case"codespan":{r+=n.codespan(a);break}case"br":{r+=n.br(a);break}case"del":{r+=n.del(a);break}case"text":{r+=n.text(a);break}default:{let l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}},xt=class{options;block;constructor(t){this.options=t||Ge}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?me.lex:me.lexInline}provideParser(){return this.block?be.parse:be.parseInline}},ru=class{defaults=Un();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=be;Renderer=Yt;TextRenderer=Zn;Lexer=me;Tokenizer=Vt;Hooks=xt;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let s=r;for(let i of s.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of s.rows)for(let a of i)n=n.concat(this.walkTokens(a.tokens,e));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,e));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let a=s[i].flat(1/0);n=n.concat(this.walkTokens(a,e))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=i.apply(this,a)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new Yt(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,l=n.renderer[a],o=s[a];s[a]=(...u)=>{let p=l.apply(s,u);return p===!1&&(p=o.apply(s,u)),p||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new Vt(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,l=n.tokenizer[a],o=s[a];s[a]=(...u)=>{let p=l.apply(s,u);return p===!1&&(p=o.apply(s,u)),p}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new xt;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,l=n.hooks[a],o=s[a];xt.passThroughHooks.has(i)?s[a]=u=>{if(this.defaults.async&&xt.passThroughHooksRespectAsync.has(i))return(async()=>{let d=await l.call(s,u);return o.call(s,d)})();let p=l.call(s,u);return o.call(s,p)}:s[a]=(...u)=>{if(this.defaults.async)return(async()=>{let d=await l.apply(s,u);return d===!1&&(d=await o.apply(s,u)),d})();let p=l.apply(s,u);return p===!1&&(p=o.apply(s,u)),p}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(a){let l=[];return l.push(i.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return me.lex(t,e??this.defaults)}parser(t,e){return be.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let a=s.hooks?await s.hooks.preprocess(e):e,l=await(s.hooks?await s.hooks.provideLexer():t?me.lex:me.lexInline)(a,s),o=s.hooks?await s.hooks.processAllTokens(l):l;s.walkTokens&&await Promise.all(this.walkTokens(o,s.walkTokens));let u=await(s.hooks?await s.hooks.provideParser():t?be.parse:be.parseInline)(o,s);return s.hooks?await s.hooks.postprocess(u):u})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let a=(s.hooks?s.hooks.provideLexer():t?me.lex:me.lexInline)(e,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let l=(s.hooks?s.hooks.provideParser():t?be.parse:be.parseInline)(a,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(a){return i(a)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+Re(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},We=new ru;function F(t,e){return We.parse(t,e)}F.options=F.setOptions=function(t){return We.setOptions(t),F.defaults=We.defaults,$s(F.defaults),F};F.getDefaults=Un;F.defaults=Ge;F.use=function(...t){return We.use(...t),F.defaults=We.defaults,$s(F.defaults),F};F.walkTokens=function(t,e){return We.walkTokens(t,e)};F.parseInline=We.parseInline;F.Parser=be;F.parser=be.parse;F.Renderer=Yt;F.TextRenderer=Zn;F.Lexer=me;F.lexer=me.lex;F.Tokenizer=Vt;F.Hooks=xt;F.parse=F;F.options;F.setOptions;F.use;F.walkTokens;F.parseInline;be.parse;me.lex;const qs=mo("statusbar",()=>{const t=G(!1),e=G([]);async function n(){t.value=!0;const l=await s(),o=await i();e.value=[...l,...o]}function r(){t.value=!1}async function s(){const l=yo(),o=[];for(const u of l.extensions){const p=a(u.changelog),d=zr.sanitize(await F.parse(p));o.push({name:u.label,version:u.version,changelog:d})}return o}async function i(){const l=[];try{const o=await fetch("/package.json");if(!o.ok)throw new Error("Failed to load package.json");const u=await o.json(),p=u.displayName||"",d=u.version||"unknown",h=await(await fetch("/CHANGELOG.md")).text(),g=a(h),b=zr.sanitize(await F.parse(g));l.push({name:p,version:d,changelog:b})}catch(o){console.error("[STATUSBAR]",o),l.push({name:"unknown",version:"unknown",changelog:"<p>Failed to load changelog.</p>"})}return l}function a(l){const o=l.split(`
`),u=/^## \[\d+\]\s*-?\s*(\d{4}-\d{2}-\d{2})?$/,p=[];let d=null;for(const f of o){const k=u.exec(f);k?(d&&p.push(d),d={date:k[1]?new Date(k[1]):void 0,lines:[f]}):d&&d.lines.push(f)}if(d&&p.push(d),p.length===0)return"";const h=p.find(f=>f.date!==void 0).date,g=1e3*60*60*24,b=[];for(const f of p){if(f.date){const k=(h.getTime()-f.date.getTime())/g;if(f.date&&k>30)break}b.push(f)}const w=[];for(const f of b)for(const k of f.lines){if(u.test(k)){w.push(`<p><strong>${k.replace(/^##\s*/,"")}</strong></p>`);continue}if(k.startsWith("### ")){const D=k.replace(/^###\s*/,"");w.push(`<p><i>${D}</i></p>`);continue}w.push(k)}return w.join(`
`).trim()}return{statusbarModalOpen:t,items:e,openStatusbarModal:n,closeStatusbarModal:r}}),su=["open"],au={class:"modal-box relative max-w-lg w-full max-h-[70vh] overflow-auto"},iu={class:"mb-4"},ou=["value"],lu=["value"],cu={key:0,class:"mb-6"},uu={class:"text-sm text-gray-600 select-text"},pu={key:1},du=["innerHTML"],fu={key:1,class:"overflow-auto max-h-64 p-2 border border-gray-300 rounded text-sm leading-relaxed space-y-2 [&_ul]:list-disc [&_ul]:pl-5 [&_li]:ml-4"},hu=X({__name:"statusbar-modal",setup(t){const e=qs(),n=G(""),r=j(()=>e.items.find(l=>l.name===n.value)??null);Le(()=>e.items,l=>{const o=l.find(u=>u.name==="shell");o?n.value=o.name:l.length>0&&!n.value&&(n.value=l[0].name)},{immediate:!0});function s(l){const o=l.target;n.value=o.value}function i(){e.closeStatusbarModal()}function a(l){l.target.nodeName==="DIALOG"&&i()}return(l,o)=>(M(),B("dialog",{class:"modal",role:"dialog","aria-modal":"true",open:I(e).statusbarModalOpen,onCancel:wt(i,["prevent"]),onClick:a},[R("div",au,[R("button",{class:"absolute top-[1.5rem] right-[1.5rem] cursor-pointer btn btn-sm btn-circle btn-ghost",onClick:i,"aria-label":"Close statusbar modal"},o[0]||(o[0]=[R("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 64 64"},[R("path",{d:"M 16 14 C 15.488 14 14.976938 14.194937 14.585938 14.585938 C 13.804937 15.366937 13.804937 16.633063 14.585938 17.414062 L 29.171875 32 L 14.585938 46.585938 C 13.804938 47.366938 13.804937 48.633063 14.585938 49.414062 C 14.976937 49.805062 15.488 50 16 50 C 16.512 50 17.023062 49.805062 17.414062 49.414062 L 32 34.828125 L 46.585938 49.414062 C 47.366938 50.195063 48.633063 50.195062 49.414062 49.414062 C 50.195063 48.633062 50.195062 47.366937 49.414062 46.585938 L 34.828125 32 L 49.414062 17.414062 C 50.195063 16.633063 50.195062 15.366938 49.414062 14.585938 C 48.633062 13.804938 47.366937 13.804938 46.585938 14.585938 L 32 29.171875 L 17.414062 14.585938 C 17.023062 14.194938 16.512 14 16 14 z"})],-1)])),R("section",iu,[o[2]||(o[2]=R("h4",{class:"text-md font-semibold mb-3"},"Select App/Extension",-1)),R("select",{class:"select select-bordered w-full","data-testId":"statusbar-select",value:n.value,onChange:s},[o[1]||(o[1]=R("option",{disabled:"",value:""},"Select App/Extension",-1)),(M(!0),B(ze,null,et(I(e).items,u=>(M(),B("option",{key:u.name,value:u.name},Ie(u.name),9,lu))),128))],40,ou)]),r.value?(M(),B("section",cu,[o[3]||(o[3]=R("h4",{class:"text-md font-semibold mb-1"},"Version",-1)),R("p",uu,"v"+Ie(r.value.version),1)])):Ce("",!0),r.value?(M(),B("section",pu,[o[5]||(o[5]=R("h4",{class:"text-md font-semibold mb-2"},"Changelog",-1)),r.value.changelog?(M(),B("div",{key:0,class:"overflow-auto max-h-64 p-2 border border-gray-300 rounded text-sm leading-relaxed space-y-2 [&_ul]:list-disc [&_ul]:pl-5 [&_li]:ml-4",innerHTML:r.value.changelog},null,8,du)):Ce("",!0),r.value.changelog?Ce("",!0):(M(),B("div",fu,o[4]||(o[4]=[R("em",null,"No changelog available.",-1)])))])):Ce("",!0)])],40,su))}}),gu=X({__name:"menu",setup(t){const e=Mn(),n=qs(),r=So(),s=[{id:"file.open",label:"Open",path:["File"],action:e.openFiles},{id:"file.save",label:"Save a Copy",path:["File"],action:e.saveFile},{id:"file.new",label:"New",path:["File"],action:()=>e.openNewFileModal()},{id:"help.changelog",label:"Changelog",path:["Help"],action:()=>n.openStatusbarModal()}],i=_o(async()=>{const{contributions:o}=ns(r),u=[];for(const p of o.value)try{const d=await a(p),h={id:p.id,label:p.label,path:p.menuPath,action:d};u.push(h)}catch(d){console.error("Error fetching action for menu contribution",{cont:p,err:d});continue}return[...s,...u]},s);async function a(o){const u=o.actionFnUrl;return u?(await import(u)).default:l}function l(){}return(o,u)=>(M(),B(ze,null,[le(Zl,{items:I(i),activeFileName:I(e).currentActiveFileDatabaseName},null,8,["items","activeFileName"]),le(Jl),le(hu)],64))}}),mu={class:"activity-bar"},bu=["title","onClick"],ku={class:"widget-wrapper"},xu=["src","alt"],vu={class:"widget-label"},wu=X({__name:"activity-bar",setup(t){const e=ss();function n(s){return e.activeWidget?.id===s.id}function r(s){e.activeWidget?.id!==s.id&&e.activateWidget(s)}return Le(()=>e.widgets,s=>{if(s.length&&!e.activeWidget){const i=s.find(a=>a.defaultActive);i&&e.activateWidget(i)}},{immediate:!0}),(s,i)=>(M(),B("aside",mu,[(M(!0),B(ze,null,et(I(e).widgets,a=>(M(),B("button",{key:a.id,class:Wt(["btn btn-ghost widget-button",{"btn-active":n(a)}]),title:a.label,onClick:l=>r(a)},[R("div",ku,[R("img",{src:a.icon,alt:a.label,class:"widget-icon"},null,8,xu),R("div",vu,Ie(a.label),1)])],10,bu))),128))]))}}),yu=Et(wu,[["__scopeId","data-v-c045b804"]]),Tu=X({__name:"app-view",setup(t){return(e,n)=>(M(),Fe(fl,null,{menubar:pe(()=>[le(gu)]),"activity-bar":pe(()=>[le(yu)]),"primary-sidebar":pe(()=>[le(Cl)]),"main-area":pe(()=>[le(El)]),_:1}))}});export{Tu as default};
