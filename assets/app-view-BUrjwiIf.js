import{B as dn,a as fn,C as dt,D as pn,E as vn,b as mn,c as gn,F as te,K as hn,R as bn,S as yn,d as wn,T as Sn,e as xn,f as zn,g as _n,h as En,i as Cn,V as Pn,j as In,k as kn,l as $n,m as An,n as Rn,o as ft,p as Mn,q as D,r as Ln,s as ue,t as he,u as k,v as P,w as Nn,x as Dn,y as Tn,z as Fn,A as Bn,G as pt,H as vt,I as O,J as mt,L as Wn,M as F,N as Hn,O as On,P as jn,Q as Gn,U as qn,W as Vn,X as Kn,Y as Un,Z as Xn,_ as Yn,$ as Jn,a0 as gt,a1 as ht,a2 as Zn,a3 as Qn,a4 as ea,a5 as Ce,a6 as ta,a7 as na,a8 as aa,a9 as oa,aa as sa,ab as ra,ac as ia,ad as la,ae as ua,af as bt,ag as ca,ah as da,ai as fa,aj as pa,ak as va,al as ma,am as ga,an as ha,ao as ba,ap as ya,aq as wa,ar as yt,as as wt,at as qe,au as Sa,av as Ve,aw as xa,ax as za,ay as _a,az as Ea,aA as Ca,aB as Pa,aC as Ke,aD as Ia,aE as ka,aF as St,aG as $a,aH as xt,aI as Aa,aJ as Ra,aK as C,aL as Ma,aM as zt,aN as La,aO as Na,aP as Da,aQ as Ta,aR as _t,aS as L,aT as Fa,aU as Ba,aV as be,aW as U,aX as Wa,aY as Ha,aZ as Oa,a_ as ja,a$ as Ga,b0 as qa,b1 as Va,b2 as Ka,b3 as Ua,b4 as Xa,b5 as Ue,b6 as Ya,b7 as Ja,b8 as Za,b9 as le,ba as Qa,bb as eo,bc as to,bd as Et,be as Ie,bf as V,bg as no,bh as ao,bi as _,bj as oo,bk as so,bl as ro,bm as io,bn as Ct,bo as lo,bp as uo,bq as co,br as fo,bs as Pt,bt as po,bu as vo,bv as mo,bw as It,bx as go,by as kt,bz as ho,bA as bo,bB as yo,bC as ae,bD as de,bE as wo,bF as So,bG as xo,bH as G,bI as zo,bJ as Ae,bK as _o,bL as Eo,bM as ke,bN as Co,bO as $t}from"./index-DXKkE3rH.js";import{u as Po,b as Io,_ as xe,a as ko,l as $o,W as At,s as Ao,c as Rt,d as Xe,e as Ro,f as Mo}from"./widget-portal-DKfez09N.js";/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Lo=()=>{},No=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:dn,BaseTransitionPropsValidators:fn,Comment:dt,DeprecationTypes:pn,EffectScope:vn,ErrorCodes:mn,ErrorTypeStrings:gn,Fragment:te,KeepAlive:hn,ReactiveEffect:bn,Static:yn,Suspense:wn,Teleport:Sn,Text:xn,TrackOpTypes:zn,Transition:_n,TransitionGroup:En,TriggerOpTypes:Cn,VueElement:Pn,assertNumber:In,callWithAsyncErrorHandling:kn,callWithErrorHandling:$n,camelize:An,capitalize:Rn,cloneVNode:ft,compatUtils:Mn,compile:Lo,computed:D,createApp:Ln,createBlock:ue,createCommentVNode:he,createElementBlock:k,createElementVNode:P,createHydrationRenderer:Nn,createPropsRestProxy:Dn,createRenderer:Tn,createSSRApp:Fn,createSlots:Bn,createStaticVNode:pt,createTextVNode:vt,createVNode:O,customRef:mt,defineAsyncComponent:Wn,defineComponent:F,defineCustomElement:Hn,defineEmits:On,defineExpose:jn,defineModel:Gn,defineOptions:qn,defineProps:Vn,defineSSRCustomElement:Kn,defineSlots:Un,devtools:Xn,effect:Yn,effectScope:Jn,getCurrentInstance:gt,getCurrentScope:ht,getCurrentWatcher:Zn,getTransitionRawChildren:Qn,guardReactiveProps:ea,h:Ce,handleError:ta,hasInjectionContext:na,hydrate:aa,hydrateOnIdle:oa,hydrateOnInteraction:sa,hydrateOnMediaQuery:ra,hydrateOnVisible:ia,initCustomFormatter:la,initDirectivesForSSR:ua,inject:bt,isMemoSame:ca,isProxy:da,isReactive:fa,isReadonly:pa,isRef:va,isRuntimeOnly:ma,isShallow:ga,isVNode:ha,markRaw:ba,mergeDefaults:ya,mergeModels:wa,mergeProps:yt,nextTick:wt,normalizeClass:qe,normalizeProps:Sa,normalizeStyle:Ve,onActivated:xa,onBeforeMount:za,onBeforeUnmount:_a,onBeforeUpdate:Ea,onDeactivated:Ca,onErrorCaptured:Pa,onMounted:Ke,onRenderTracked:Ia,onRenderTriggered:ka,onScopeDispose:St,onServerPrefetch:$a,onUnmounted:xt,onUpdated:Aa,onWatcherCleanup:Ra,openBlock:C,popScopeId:Ma,provide:zt,proxyRefs:La,pushScopeId:Na,queuePostFlushCb:Da,reactive:Ta,readonly:_t,ref:L,registerRuntimeCompiler:Fa,render:Ba,renderList:be,renderSlot:U,resolveComponent:Wa,resolveDirective:Ha,resolveDynamicComponent:Oa,resolveFilter:ja,resolveTransitionHooks:Ga,setBlockTracking:qa,setDevtoolsHook:Va,setTransitionHooks:Ka,shallowReactive:Ua,shallowReadonly:Xa,shallowRef:Ue,ssrContextKey:Ya,ssrUtils:Ja,stop:Za,toDisplayString:le,toHandlerKey:Qa,toHandlers:eo,toRaw:to,toRef:Et,toRefs:Ie,toValue:V,transformVNodeArgs:no,triggerRef:ao,unref:_,useAttrs:oo,useCssModule:so,useCssVars:ro,useHost:io,useId:Ct,useModel:lo,useSSRContext:uo,useShadowRoot:co,useSlots:fo,useTemplateRef:Pt,useTransitionState:po,vModelCheckbox:vo,vModelDynamic:mo,vModelRadio:It,vModelSelect:go,vModelText:kt,vShow:ho,version:bo,warn:yo,watch:ae,watchEffect:de,watchPostEffect:wo,watchSyncEffect:So,withAsyncContext:xo,withCtx:G,withDefaults:zo,withDirectives:Ae,withKeys:_o,withMemo:Eo,withModifiers:ke,withScopeId:Co},Symbol.toStringTag,{value:"Module"}));function Do(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const ze=typeof document<"u";function Mt(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,a=Symbol(n);return[o=>{const s=bt(a,o);if(s||s===null)return s;throw new Error(`Injection \`${a.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(zt(a,o),o)]}function Lt(t){return t?t.flatMap(e=>e.type===te?Lt(e.children):[e]):[]}const[Ye,hr]=Mt("ConfigProvider");function To(t){var e;const n=V(t);return(e=n?.$el)!=null?e:n}function Fo(t){const e=Ye({dir:L("ltr")});return D(()=>e.dir?.value||"ltr")}function Nt(){const t=gt(),e=L(),n=D(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:To(e)),a=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(a).length>0)for(const o in a)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>a[o]});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=i;function r(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=i)}return{forwardRef:r,currentRef:e,currentElement:n}}let Bo=0;function Je(t,e="reka"){if(t)return t;if("useId"in No)return`${e}-${Ct?.()}`;const n=Ye({useId:void 0});return n.useId?`${e}-${n.useId()}`:`${e}-${++Bo}`}const Wo=F({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const a=Lt(n.default()),i=a.findIndex(l=>l.type!==dt);if(i===-1)return a;const r=a[i];delete r.props?.ref;const o=r.props?yt(e,r.props):e,s=ft({...r,props:{}},o);return a.length===1?s:(a[i]=s,a)}}}),Ho=["area","img","input"],Ze=F({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const a=t.asChild?"template":t.as;return typeof a=="string"&&Ho.includes(a)?()=>Ce(a,e):a!=="template"?()=>Ce(t.as,e,{default:n.default}):()=>Ce(Wo,e,{default:n.default})}});function Oo(t){const e=Ye({nonce:L()});return D(()=>t?.value||e.nonce?.value)}function z(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}function Dt(t,e=document){if(!ze)return null;if(e instanceof HTMLElement&&e?.dataset?.panelGroupId===t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Re(t,e=document){if(!ze)return null;const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function Tt(t,e,n=document){return ze?ye(t,n).findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e)??null:null}function ye(t,e=document){return ze?Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`)):[]}function jo(t,e,n,a=document){const i=Re(e,a),r=ye(t,a),o=i?r.indexOf(i):-1,s=n[o]?.id??null,l=n[o+1]?.id??null;return[s,l]}function Ft(t){return t.type==="keydown"}function Bt(t){return t.type.startsWith("mouse")}function Wt(t){return t.type.startsWith("touch")}function Me(t){if(Bt(t))return{x:t.clientX,y:t.clientY};if(Wt(t)){const e=t.touches[0];if(e&&e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function Ht(t,e){const n=t==="horizontal",{x:a,y:i}=Me(e);return n?a:i}function Go(t,e,n,a,i){const r=n==="horizontal",o=Re(e,i);z(o);const s=o.getAttribute("data-panel-group-id");z(s);const{initialCursorPosition:l}=a,u=Ht(n,t),c=Dt(s,i);z(c);const d=c.getBoundingClientRect(),v=r?d.width:d.height;return(u-l)/v*100}function qo(t,e,n,a,i,r){if(Ft(t)){const o=n==="horizontal";let s=0;t.shiftKey?s=100:s=i??10;let l=0;switch(t.key){case"ArrowDown":l=o?0:s;break;case"ArrowLeft":l=o?-s:0;break;case"ArrowRight":l=o?s:0;break;case"ArrowUp":l=o?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return a==null?0:Go(t,e,n,a,r)}function Vo({layout:t,panelsArray:e,pivotIndices:n}){let a=0,i=100,r=0,o=0;const s=n[0];z(s!=null),e.forEach((d,v)=>{const{constraints:m}=d,{maxSize:h=100,minSize:S=0}=m;v===s?(a=S,i=h):(r+=S,o+=h)});const l=Math.min(i,100-r),u=Math.max(a,100-o),c=t[s];return{valueMax:l,valueMin:u,valueNow:c}}function Ko({panelDataArray:t}){const e=Array.from({length:t.length}),n=t.map(r=>r.constraints);let a=0,i=100;for(let r=0;r<t.length;r++){const o=n[r];z(o);const{defaultSize:s}=o;s!=null&&(a++,e[r]=s,i-=s)}for(let r=0;r<t.length;r++){const o=n[r];z(o);const{defaultSize:s}=o;if(s!=null)continue;const l=t.length-a,u=i/l;a++,e[r]=u,i-=u}return e}function pe(t,e,n){e.forEach((a,i)=>{const r=t[i];z(r);const{callbacks:o,constraints:s,id:l}=r,{collapsedSize:u=0,collapsible:c}=s,d=n[l];if(d==null||a!==d){n[l]=a;const{onCollapse:v,onExpand:m,onResize:h}=o;h&&h(a,d),c&&(v||m)&&(m&&(d==null||d===u)&&a!==u&&m(),v&&(d==null||d!==u)&&a===u&&v())}})}function Uo(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}const Qe=10;function we(t,e,n=Qe){t=Number.parseFloat(t.toFixed(n)),e=Number.parseFloat(e.toFixed(n));const a=t-e;return a===0?0:a>0?1:-1}function j(t,e,n){return we(t,e,n)===0}function ce({panelConstraints:t,panelIndex:e,size:n}){const a=t[e];z(a!=null);const{collapsedSize:i=0,collapsible:r,maxSize:o=100,minSize:s=0}=a;if(we(n,s)<0)if(r){const l=(i+s)/2;we(n,l)<0?n=i:n=s}else n=s;return n=Math.min(o,n),n=Number.parseFloat(n.toFixed(Qe)),n}function _e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ve({delta:t,layout:e,panelConstraints:n,pivotIndices:a,trigger:i}){if(j(t,0))return e;const r=[...e],[o,s]=a;z(o!=null),z(s!=null);let l=0;if(i==="keyboard"){{const c=t<0?s:o,d=n[c];if(z(d),d.collapsible){const v=e[c];z(v!=null);const m=n[c];z(m);const{collapsedSize:h=0,minSize:S=0}=m;if(j(v,h)){const f=S-v;we(f,Math.abs(t))>0&&(t=t<0?0-f:f)}}}{const c=t<0?o:s,d=n[c];z(d);const{collapsible:v}=d;if(v){const m=e[c];z(m!=null);const h=n[c];z(h);const{collapsedSize:S=0,minSize:f=0}=h;if(j(m,f)){const g=m-S;we(g,Math.abs(t))>0&&(t=t<0?0-g:g)}}}}{const c=t<0?1:-1;let d=t<0?s:o,v=0;for(;;){const h=e[d];z(h!=null);const f=ce({panelConstraints:n,panelIndex:d,size:100})-h;if(v+=f,d+=c,d<0||d>=n.length)break}const m=Math.min(Math.abs(t),Math.abs(v));t=t<0?0-m:m}{let d=t<0?o:s;for(;d>=0&&d<n.length;){const v=Math.abs(t)-Math.abs(l),m=e[d];z(m!=null);const h=m-v,S=ce({panelConstraints:n,panelIndex:d,size:h});if(!j(m,S)&&(l+=m-S,r[d]=S,l.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(j(l,0))return e;{const c=t<0?s:o,d=e[c];z(d!=null);const v=d+l,m=ce({panelConstraints:n,panelIndex:c,size:v});if(r[c]=m,!j(m,v)){let h=v-m,f=t<0?s:o;for(;f>=0&&f<n.length;){const g=r[f];z(g!=null);const I=g+h,$=ce({panelConstraints:n,panelIndex:f,size:I});if(j(g,$)||(h-=$-g,r[f]=$),j(h,0))break;t>0?f--:f++}}}const u=r.reduce((c,d)=>d+c,0);return j(u,100)?r:e}function Ot(t,e,n){const a=Tt(t,e,n);return a!=null?[a,a+1]:[-1,-1]}function Xo(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Yo(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:rt(t),b:rt(e)};let a;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),a=t;z(a);const i={a:st(ot(n.a)),b:st(ot(n.b))};if(i.a===i.b){const r=a.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let s=r.length;for(;s--;){const l=r[s];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const Jo=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Zo(t){const e=getComputedStyle(jt(t)).display;return e==="flex"||e==="inline-flex"}function Qo(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Zo(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Jo.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function ot(t){let e=t.length;for(;e--;){const n=t[e];if(z(n),Qo(n))return n}return null}function st(t){return t&&Number(getComputedStyle(t).zIndex)||0}function rt(t){const e=[];for(;t;)e.push(t),t=jt(t);return e}function jt(t){return t.parentNode instanceof DocumentFragment&&t.parentNode?.host||t.parentNode}const Gt=1,qt=2,Vt=4,Kt=8;function es(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const ts=es()==="coarse",ne=[];let Le=!1;const Q=new Map,Ne=new Map,Se=new Set;function ns(t,e,n,a,i,r){const{ownerDocument:o}=e,s={direction:n,element:e,hitAreaMargins:a,nonce:i,setResizeHandlerState:r},l=Q.get(o)??0;return Q.set(o,l+1),Se.add(s),$e(),function(){Ne.delete(t),Se.delete(s);const c=Q.get(o)??1;Q.set(o,c-1),$e(),Xt(),c===1&&Q.delete(o)}}function Ee(t){const{target:e}=t,{x:n,y:a}=Me(t);Le=!0,et({target:e,x:n,y:a}),$e(),ne.length>0&&(tt("down",t),t.preventDefault())}function J(t){const{x:e,y:n}=Me(t);if(!Le){const{target:a}=t;et({target:a,x:e,y:n})}tt("move",t),Ut(),ne.length>0&&t.preventDefault()}function Z(t){const{target:e}=t,{x:n,y:a}=Me(t);Ne.clear(),Le=!1,ne.length>0&&t.preventDefault(),tt("up",t),et({target:e,x:n,y:a}),Ut(),$e()}function et({target:t,x:e,y:n}){ne.splice(0);let a=null;t instanceof HTMLElement&&(a=t),Se.forEach(i=>{const{element:r,hitAreaMargins:o}=i,s=r.getBoundingClientRect(),{bottom:l,left:u,right:c,top:d}=s,v=ts?o.coarse:o.fine;if(e>=u-v&&e<=c+v&&n>=d-v&&n<=l+v){if(a!==null&&r!==a&&!r.contains(a)&&!a.contains(r)&&Yo(a,r)>0){let h=a,S=!1;for(;h&&!h.contains(r);){if(Xo(h.getBoundingClientRect(),s)){S=!0;break}h=h.parentElement}if(S)return}ne.push(i)}})}function Te(t,e){Ne.set(t,e)}function Ut(){let t=!1,e=!1,n;ne.forEach(i=>{const{direction:r,nonce:o}=i;r.value==="horizontal"?t=!0:e=!0,n=o.value});let a=0;Ne.forEach(i=>{a|=i}),t&&e?Fe("intersection",a,n):t?Fe("horizontal",a,n):e?Fe("vertical",a,n):Xt()}function $e(){Q.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Z),n.removeEventListener("mousedown",Ee),n.removeEventListener("mouseleave",J),n.removeEventListener("mousemove",J),n.removeEventListener("touchmove",J),n.removeEventListener("touchstart",Ee)}),window.removeEventListener("mouseup",Z),window.removeEventListener("touchcancel",Z),window.removeEventListener("touchend",Z),Se.size>0&&(Le?(ne.length>0&&Q.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Z),n.addEventListener("mouseleave",J),n.addEventListener("mousemove",J),n.addEventListener("touchmove",J,{passive:!1}))}),window.addEventListener("mouseup",Z),window.addEventListener("touchcancel",Z),window.addEventListener("touchend",Z)):Q.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("mousedown",Ee),n.addEventListener("mousemove",J),n.addEventListener("touchmove",J,{passive:!1}),n.addEventListener("touchstart",Ee))}))}function tt(t,e){Se.forEach(n=>{const{setResizeHandlerState:a}=n,i=ne.includes(n);a(t,i,e)})}let je=null,ee=null;function as(t,e){if(e){const n=(e&Gt)!==0,a=(e&qt)!==0,i=(e&Vt)!==0,r=(e&Kt)!==0;if(n)return i?"se-resize":r?"ne-resize":"e-resize";if(a)return i?"sw-resize":r?"nw-resize":"w-resize";if(i)return"s-resize";if(r)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Xt(){ee!==null&&(document.head.removeChild(ee),je=null,ee=null)}function Fe(t,e,n){const a=as(t,e);je!==a&&(je=a,ee===null&&(ee=document.createElement("style"),n&&(ee.nonce=n),document.head.appendChild(ee)),ee.innerHTML=`*{cursor: ${a}!important;}`)}function os({defaultSize:t,dragState:e,layout:n,panelData:a,panelIndex:i,precision:r=3}){const o=n[i];let s;return o==null?s=t!==void 0?t.toPrecision(r):"1":a.length===1?s="1":s=o.toPrecision(r),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function ss({layout:t,panelConstraints:e}){const n=[...t],a=n.reduce((r,o)=>r+o,0);if(n.length!==e.length)throw new Error(`Invalid ${e.length} panel layout: ${n.map(r=>`${r}%`).join(", ")}`);if(!j(a,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(r=>`${r}%`).join(", ")}. Layout normalization will be applied.`);for(let r=0;r<e.length;r++){const o=n[r];z(o!=null);const s=100/a*o;n[r]=s}}let i=0;for(let r=0;r<e.length;r++){const o=n[r];z(o!=null);const s=ce({panelConstraints:e,panelIndex:r,size:o});o!==s&&(i+=o-s,n[r]=s)}if(!j(i,0))for(let r=0;r<e.length;r++){const o=n[r];z(o!=null);const s=o+i,l=ce({panelConstraints:e,panelIndex:r,size:s});if(o!==l&&(i-=l-o,n[r]=l,j(i,0)))break}return n}function rs({eagerValuesRef:t,groupId:e,layout:n,panelDataArray:a,panelGroupElement:i,setLayout:r}){de(o=>{const s=i.value;if(!s)return;const l=ye(e,s);for(let u=0;u<a.length-1;u++){const{valueMax:c,valueMin:d,valueNow:v}=Vo({layout:n.value,panelsArray:a,pivotIndices:[u,u+1]}),m=l[u];if(m!=null){const h=a[u];z(h),m.setAttribute("aria-controls",h.id),m.setAttribute("aria-valuemax",`${Math.round(c)}`),m.setAttribute("aria-valuemin",`${Math.round(d)}`),m.setAttribute("aria-valuenow",v!=null?`${Math.round(v)}`:"")}}o(()=>{l.forEach(u=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})})}),de(o=>{const s=i.value;if(!s)return;const l=t.value;z(l);const{panelDataArray:u}=l,c=Dt(e,s);z(c!=null,`No group found for id "${e}"`);const d=ye(e,s);z(d);const v=d.map(m=>{const h=m.getAttribute("data-panel-resize-handle-id");z(h);const[S,f]=jo(e,h,u,s);if(S==null||f==null)return()=>{};const g=I=>{if(!I.defaultPrevented)switch(I.key){case"Enter":{I.preventDefault();const $=u.findIndex(N=>N.id===S);if($>=0){const N=u[$];z(N);const A=n.value[$],{collapsedSize:q=0,collapsible:X,minSize:R=0}=N.constraints;if(A!=null&&X){const B=ve({delta:j(A,q)?R-q:q-A,layout:n.value,panelConstraints:u.map(De=>De.constraints),pivotIndices:Ot(e,h,s),trigger:"keyboard"});n.value!==B&&r(B)}}break}}};return m.addEventListener("keydown",g),()=>{m.removeEventListener("keydown",g)}});o(()=>{v.forEach(m=>m())})})}function it(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new TypeError("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Yt(t){return`reka:${t}`}function Jt(t){return t.map(e=>{const{constraints:n,id:a,idIsFromProps:i,order:r}=e;return i?a:r?`${r}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Zt(t,e){try{const n=Yt(t),a=e.getItem(n);if(a){const i=JSON.parse(a);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function is(t,e,n){const a=Zt(t,n)??{},i=Jt(e);return a[i]??null}function ls(t,e,n,a,i){const r=Yt(t),o=Jt(e),s=Zt(t,i)??{};s[o]={expandToSizes:Object.fromEntries(n.entries()),layout:a};try{i.setItem(r,JSON.stringify(s))}catch(l){console.error(l)}}const us=100,me={getItem:t=>(it(me),me.getItem(t)),setItem:(t,e)=>{it(me),me.setItem(t,e)}},[Qt,cs]=Mt("PanelGroup");var ds=F({__name:"SplitterGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1,default:null},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1,default:10},storage:{type:Object,required:!1,default:()=>me},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["layout"],setup(t,{emit:e}){const n=t,a=e,i={},{direction:r}=Ie(n),o=Je(n.id,"reka-splitter-group"),s=Fo(),{forwardRef:l,currentElement:u}=Nt(),c=L(null),d=L([]),v=L({}),m=L(new Map),h=L(0),S=D(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:c.value,id:o,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),f=L({layout:d.value,panelDataArray:[],panelDataArrayChanged:!1}),g=p=>d.value=p;rs({eagerValuesRef:f,groupId:o,layout:d,panelDataArray:f.value.panelDataArray,setLayout:g,panelGroupElement:u}),de(()=>{const{panelDataArray:p}=f.value,{autoSaveId:w}=n;if(w){if(d.value.length===0||d.value.length!==p.length)return;let b=i[w];b||(b=Uo(ls,us),i[w]=b);const y=[...p],E=new Map(m.value);b(w,y,E,d.value,n.storage)}});function I(p,w){const{panelDataArray:b}=f.value,y=oe(b,p);return os({defaultSize:w,dragState:c.value,layout:d.value,panelData:b,panelIndex:y})}function $(p){const{panelDataArray:w}=f.value;w.push(p),w.sort((b,y)=>{const E=b.order,x=y.order;return E==null&&x==null?0:E==null?-1:x==null?1:E-x}),f.value.panelDataArrayChanged=!0}ae(()=>f.value.panelDataArrayChanged,()=>{if(f.value.panelDataArrayChanged){f.value.panelDataArrayChanged=!1;const{autoSaveId:p,storage:w}=S.value,{layout:b,panelDataArray:y}=f.value;let E=null;if(p){const T=is(p,y,w);T&&(m.value=new Map(Object.entries(T.expandToSizes)),E=T.layout)}E===null&&(E=Ko({panelDataArray:y}));const x=ss({layout:E,panelConstraints:y.map(T=>T.constraints)});Do(b,x)||(g(x),f.value.layout=x,a("layout",x),pe(y,x,v.value))}});function N(p){return function(b){b.preventDefault();const y=u.value;if(!y)return()=>null;const{direction:E,dragState:x,id:T,keyboardResizeBy:K}=S.value,{layout:W,panelDataArray:M}=f.value,{initialLayout:re}=x??{},Y=Ot(T,p,y);let H=qo(b,p,E,x,K,y);if(H===0)return;const nt=E==="horizontal";s.value==="rtl"&&nt&&(H=-H);const un=M.map(cn=>cn.constraints),fe=ve({delta:H,layout:re??W,panelConstraints:un,pivotIndices:Y,trigger:Ft(b)?"keyboard":"mouse-or-touch"}),at=!_e(W,fe);(Bt(b)||Wt(b))&&h.value!==H&&(h.value=H,at?Te(p,0):nt?Te(p,H<0?Gt:qt):Te(p,H<0?Vt:Kt)),at&&(g(fe),f.value.layout=fe,a("layout",fe),pe(M,fe,v.value))}}function A(p,w){const{layout:b,panelDataArray:y}=f.value,E=y.map(re=>re.constraints),{panelSize:x,pivotIndices:T}=se(y,p,b);z(x!=null);const W=oe(y,p)===y.length-1?x-w:w-x,M=ve({delta:W,layout:b,panelConstraints:E,pivotIndices:T,trigger:"imperative-api"});_e(b,M)||(g(M),f.value.layout=M,a("layout",M),pe(y,M,v.value))}function q(p,w){const{layout:b,panelDataArray:y}=f.value,E=oe(y,p);y[E]=p,f.value.panelDataArrayChanged=!0;const{collapsedSize:x=0,collapsible:T}=w,{collapsedSize:K=0,collapsible:W,maxSize:M=100,minSize:re=0}=p.constraints,{panelSize:Y}=se(y,p,b);Y!==null&&(T&&W&&Y===x?x!==K&&A(p,K):Y<re?A(p,re):Y>M&&A(p,M))}function X(p,w){const{direction:b}=S.value,{layout:y}=f.value;if(!u.value)return;const E=Re(p,u.value);z(E);const x=Ht(b,w);c.value={dragHandleId:p,dragHandleRect:E.getBoundingClientRect(),initialCursorPosition:x,initialLayout:y}}function R(){c.value=null}function B(p){const{panelDataArray:w}=f.value,b=oe(w,p);b>=0&&(w.splice(b,1),delete v.value[p.id],f.value.panelDataArrayChanged=!0)}function De(p){const{layout:w,panelDataArray:b}=f.value;if(p.constraints.collapsible){const y=b.map(K=>K.constraints),{collapsedSize:E=0,panelSize:x,pivotIndices:T}=se(b,p,w);if(z(x!=null,`Panel size not found for panel "${p.id}"`),x!==E){m.value.set(p.id,x);const W=oe(b,p)===b.length-1?x-E:E-x,M=ve({delta:W,layout:w,panelConstraints:y,pivotIndices:T,trigger:"imperative-api"});_e(w,M)||(g(M),f.value.layout=M,a("layout",M),pe(b,M,v.value))}}}function on(p){const{layout:w,panelDataArray:b}=f.value;if(p.constraints.collapsible){const y=b.map(W=>W.constraints),{collapsedSize:E=0,panelSize:x,minSize:T=0,pivotIndices:K}=se(b,p,w);if(x===E){const W=m.value.get(p.id),M=W!=null&&W>=T?W:T,Y=oe(b,p)===b.length-1?x-M:M-x,H=ve({delta:Y,layout:w,panelConstraints:y,pivotIndices:K,trigger:"imperative-api"});_e(w,H)||(g(H),f.value.layout=H,a("layout",H),pe(b,H,v.value))}}}function sn(p){const{layout:w,panelDataArray:b}=f.value,{panelSize:y}=se(b,p,w);return z(y!=null,`Panel size not found for panel "${p.id}"`),y}function rn(p){const{layout:w,panelDataArray:b}=f.value,{collapsedSize:y=0,collapsible:E,panelSize:x}=se(b,p,w);return E?x===void 0?p.constraints.defaultSize===p.constraints.collapsedSize:x===y:!1}function ln(p){const{layout:w,panelDataArray:b}=f.value,{collapsedSize:y=0,collapsible:E,panelSize:x}=se(b,p,w);return z(x!=null,`Panel size not found for panel "${p.id}"`),!E||x>y}cs({direction:r,dragState:c.value,groupId:o,reevaluatePanelConstraints:q,registerPanel:$,registerResizeHandle:N,resizePanel:A,startDragging:X,stopDragging:R,unregisterPanel:B,panelGroupElement:u,collapsePanel:De,expandPanel:on,isPanelCollapsed:rn,isPanelExpanded:ln,getPanelSize:sn,getPanelStyle:I});function oe(p,w){return p.findIndex(b=>b===w||b.id===w.id)}function se(p,w,b){const y=oe(p,w),x=y===p.length-1?[y-1,y]:[y,y+1],T=b[y];return{...w.constraints,panelSize:T,pivotIndices:x}}return(p,w)=>(C(),ue(_(Ze),{ref:_(l),as:p.as,"as-child":p.asChild,style:Ve({display:"flex",flexDirection:_(r)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":_(r),"data-panel-group-id":_(o)},{default:G(()=>[U(p.$slots,"default",{layout:d.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),fs=ds,ps=F({__name:"SplitterPanel",props:{collapsedSize:{type:Number,required:!1},collapsible:{type:Boolean,required:!1},defaultSize:{type:Number,required:!1},id:{type:String,required:!1},maxSize:{type:Number,required:!1},minSize:{type:Number,required:!1},order:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["collapse","expand","resize"],setup(t,{expose:e,emit:n}){const a=t,i=n,r=Qt();if(r===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:o,expandPanel:s,getPanelSize:l,getPanelStyle:u,isPanelCollapsed:c,resizePanel:d,groupId:v,reevaluatePanelConstraints:m,registerPanel:h,unregisterPanel:S}=r,f=Je(a.id,"reka-splitter-panel"),g=D(()=>({callbacks:{onCollapse:()=>i("collapse"),onExpand:()=>i("expand"),onResize:(...R)=>i("resize",...R)},constraints:{collapsedSize:a.collapsedSize&&Number.parseFloat(a.collapsedSize.toFixed(Qe)),collapsible:a.collapsible,defaultSize:a.defaultSize,maxSize:a.maxSize,minSize:a.minSize},id:f,idIsFromProps:a.id!==void 0,order:a.order}));ae(()=>g.value.constraints,(R,B)=>{(B.collapsedSize!==R.collapsedSize||B.collapsible!==R.collapsible||B.maxSize!==R.maxSize||B.minSize!==R.minSize)&&m(g.value,B)},{deep:!0}),Ke(()=>{h(g.value)}),xt(()=>{S(g.value)});const I=D(()=>u(g.value,a.defaultSize)),$=D(()=>c(g.value)),N=D(()=>!$.value);function A(){o(g.value)}function q(){s(g.value)}function X(R){d(g.value,R)}return e({collapse:A,expand:q,getSize(){return l(g.value)},resize:X,isCollapsed:$,isExpanded:N}),(R,B)=>(C(),ue(_(Ze),{id:_(f),style:Ve(I.value),as:R.as,"as-child":R.asChild,"data-panel":"","data-panel-collapsible":R.collapsible||void 0,"data-panel-group-id":_(v),"data-panel-id":_(f),"data-panel-size":Number.parseFloat(`${I.value.flexGrow}`).toFixed(1),"data-state":R.collapsible?$.value?"collapsed":"expanded":void 0},{default:G(()=>[U(R.$slots,"default",{isCollapsed:$.value,isExpanded:N.value,expand:q,collapse:A,resize:X})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}}),lt=ps;function vs({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:a}){de(i=>{const r=a.value;if(t.value||n.value===null||r===null)return;const o=Re(e,r);if(o==null)return;const s=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),n.value?.(l);break}case"F6":{l.preventDefault();const u=o.getAttribute("data-panel-group-id");z(u);const c=ye(u,r),d=Tt(u,e,r);z(d!==null);const v=l.shiftKey?d>0?d-1:c.length-1:d+1<c.length?d+1:0;c[v].focus();break}}};o.addEventListener("keydown",s),i(()=>{o.removeEventListener("keydown",s)})})}var ms=F({__name:"SplitterResizeHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["dragging"],setup(t,{emit:e}){const n=t,a=e,{forwardRef:i,currentElement:r}=Nt(),{disabled:o}=Ie(n),s=Qt();if(s===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:l,groupId:u,registerResizeHandle:c,startDragging:d,stopDragging:v,panelGroupElement:m}=s,h=Je(n.id,"reka-splitter-resize-handle"),S=L("inactive"),f=L(!1),g=L(null),{nonce:I}=Ie(n),$=Oo(I);return ae(o,()=>{ze&&(o.value?g.value=null:g.value=c(h))},{immediate:!0}),de(N=>{if(o.value||g.value===null)return;const A=r.value;if(!A)return;z(A);const q=(X,R,B)=>{if(R)switch(X){case"down":{S.value="drag",d(h,B),a("dragging",!0);break}case"move":{S.value!=="drag"&&(S.value="hover"),g.value?.(B);break}case"up":{S.value="hover",v(),a("dragging",!1);break}}else S.value="inactive"};N(ns(h,A,l,{coarse:n.hitAreaMargins?.coarse??15,fine:n.hitAreaMargins?.fine??5},$,q))}),vs({disabled:o,resizeHandler:g,handleId:h,panelGroupElement:m}),(N,A)=>(C(),ue(_(Ze),{id:_(h),ref:_(i),style:{touchAction:"none",userSelect:"none"},as:N.as,"as-child":N.asChild,role:"separator","data-resize-handle":"",tabindex:N.tabindex,"data-state":S.value,"data-disabled":_(o)?"":void 0,"data-orientation":_(l),"data-panel-group-id":_(u),"data-resize-handle-active":S.value==="drag"?"pointer":f.value?"keyboard":void 0,"data-resize-handle-state":S.value,"data-panel-resize-handle-enabled":!_(o),"data-panel-resize-handle-id":_(h),onBlur:A[0]||(A[0]=q=>f.value=!1),onFocus:A[1]||(A[1]=q=>f.value=!1)},{default:G(()=>[U(N.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),gs=ms;const hs={class:"layout"},bs={class:"menubar"},ys={class:"activity-bar"},ws={class:"w-full h-full overflow-hidden"},Ss=F({__name:"layout",setup(t){const e=Po(Io),n=D(()=>e.greater("2xl").value?15:e.greater("xl").value?20:e.greater("lg").value?25:e.greater("md").value?30:0);return(a,i)=>(C(),k("div",hs,[P("div",bs,[U(a.$slots,"menubar",{},void 0,!0)]),P("div",ys,[U(a.$slots,"activity-bar",{},void 0,!0)]),P("div",ws,[O(_(fs),{direction:"horizontal",class:"h-full"},{default:G(()=>[O(_(lt),{class:"border h-full","default-size":n.value},{default:G(()=>[U(a.$slots,"primary-sidebar",{},void 0,!0)]),_:3},8,["default-size"]),O(_(gs),{class:"w-1"}),O(_(lt),{class:"border h-full"},{default:G(()=>[U(a.$slots,"main-area",{},void 0,!0)]),_:3})]),_:3})])]))}}),xs=xe(Ss,[["__scopeId","data-v-1f70c27d"]]),zs={class:"tabs tabs-box"},_s=["aria-label","value"],Es=F({__name:"editorbar",props:{widgets:{}},emits:["change"],setup(t,{emit:e}){const n=e,a=L();function i(){n("change",a.value)}return(r,o)=>(C(),k("div",zs,[(C(!0),k(te,null,be(r.widgets,s=>Ae((C(),k("input",{key:s.id,"aria-label":s.label,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value=l),value:s.id,onChange:i,class:"tab",type:"radio",name:"options"},null,40,_s)),[[It,a.value]])),128))]))}}),Cs=xe(Es,[["__scopeId","data-v-e8354deb"]]),Ps={class:"main-area",name:"main-area"},Is={class:"editors"},ks={class:"content"},$s=["src"],As="/#/widget-iframe",Rs=F({__name:"main-area",setup(t){const e=ko(),n=window.location.origin,a=L(new URL(As,n)),i=D(()=>a.value.href),r=L();Ke(async()=>{const c=await o();$o(c)});async function o(){const c="/extensions.json";try{const d=await fetch(c);if(!d.ok)throw new Error(`Failed to fetch extension list: ${d.statusText}, url:${c}`);return await d.json()}catch(d){return console.error(d),[]}}async function s(c){e.unmountExtension?.();const d=e.widgets.find(v=>v.id===c);if(!d){console.error({msg:"could not activate widget",widgetId:c});return}e.activateWidget(d),await wt(),await l()}async function l(){r.value&&e.activeWidget&&(await u(r.value),Ao(e.activeWidget,r.value.contentWindow))}function u(c){return!c.contentWindow||!c.contentDocument?Promise.reject(new Error("iframe is not ready")):c.contentDocument?.readyState==="complete"?Promise.resolve():new Promise((d,v)=>{const m=()=>(c.removeEventListener("load",m),d());if(!c.contentWindow)return v(new Error("iframe contentWindow not available"));c.addEventListener("load",m)})}return(c,d)=>(C(),k("main",Ps,[P("div",Is,[O(Cs,{widgets:_(e).widgets,onChange:s},null,8,["widgets"])]),P("div",ks,[_(e).activeWidget?.iframe?(C(),k("iframe",{ref_key:"iframeRef",ref:r,src:i.value,key:_(e).activeWidget?.id},null,8,$s)):he("",!0),_(e).activeWidget?.iframe?he("",!0):(C(),ue(At,{key:1,widget:_(e).activeWidget,rootId:"main-area-widget-root"},null,8,["widget"]))])]))}}),Ms=xe(Rs,[["__scopeId","data-v-d1b759be"]]),Ls={class:"root h-full"},Ns={class:"uppercase text-sm p-2"},Ds={class:"content h-full"},Ts=F({__name:"sidebar-primary",setup(t){const e=Rt();return(n,a)=>(C(),k("aside",Ls,[P("h1",Ns,le(_(e).activeWidget?.label),1),P("div",Ds,[O(At,{widget:_(e).activeWidget,rootId:"sidebar-primary-widget-root"},null,8,["widget"])])]))}});function en(t){return ht()?(St(t),!0):!1}const tn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Fs=Object.prototype.toString,Bs=t=>Fs.call(t)==="[object Object]",ie=()=>{},Ge=Ws();function Ws(){var t,e;return tn&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Hs(...t){if(t.length!==1)return Et(...t);const e=t[0];return typeof e=="function"?_t(mt(()=>({get:e,set:ie}))):L(e)}function Be(t){return Array.isArray(t)?t:[t]}function Os(t,e,n){return ae(t,e,{...n,immediate:!0})}const nn=tn?window:void 0;function ge(t){var e;const n=V(t);return(e=n?.$el)!=null?e:n}function Pe(...t){const e=[],n=()=>{e.forEach(s=>s()),e.length=0},a=(s,l,u,c)=>(s.addEventListener(l,u,c),()=>s.removeEventListener(l,u,c)),i=D(()=>{const s=Be(V(t[0])).filter(l=>l!=null);return s.every(l=>typeof l!="string")?s:void 0}),r=Os(()=>{var s,l;return[(l=(s=i.value)==null?void 0:s.map(u=>ge(u)))!=null?l:[nn].filter(u=>u!=null),Be(V(i.value?t[1]:t[0])),Be(_(i.value?t[2]:t[1])),V(i.value?t[3]:t[2])]},([s,l,u,c])=>{if(n(),!s?.length||!l?.length||!u?.length)return;const d=Bs(c)?{...c}:c;e.push(...s.flatMap(v=>l.flatMap(m=>u.map(h=>a(v,m,h,d)))))},{flush:"post"}),o=()=>{r(),n()};return en(n),o}let ut=!1;function ct(t,e,n={}){const{window:a=nn,ignore:i=[],capture:r=!0,detectIframe:o=!1,controls:s=!1}=n;if(!a)return s?{stop:ie,cancel:ie,trigger:ie}:ie;if(Ge&&!ut){ut=!0;const f={passive:!0};Array.from(a.document.body.children).forEach(g=>g.addEventListener("click",ie,f)),a.document.documentElement.addEventListener("click",ie,f)}let l=!0;const u=f=>V(i).some(g=>{if(typeof g=="string")return Array.from(a.document.querySelectorAll(g)).some(I=>I===f.target||f.composedPath().includes(I));{const I=ge(g);return I&&(f.target===I||f.composedPath().includes(I))}});function c(f){const g=V(f);return g&&g.$.subTree.shapeFlag===16}function d(f,g){const I=V(f),$=I.$.subTree&&I.$.subTree.children;return $==null||!Array.isArray($)?!1:$.some(N=>N.el===g.target||g.composedPath().includes(N.el))}const v=f=>{const g=ge(t);if(f.target!=null&&!(!(g instanceof Element)&&c(t)&&d(t,f))&&!(!g||g===f.target||f.composedPath().includes(g))){if("detail"in f&&f.detail===0&&(l=!u(f)),!l){l=!0;return}e(f)}};let m=!1;const h=[Pe(a,"click",f=>{m||(m=!0,setTimeout(()=>{m=!1},0),v(f))},{passive:!0,capture:r}),Pe(a,"pointerdown",f=>{const g=ge(t);l=!u(f)&&!!(g&&!f.composedPath().includes(g))},{passive:!0}),o&&Pe(a,"blur",f=>{setTimeout(()=>{var g;const I=ge(t);((g=a.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!I?.contains(a.document.activeElement)&&e(f)},0)},{passive:!0})].filter(Boolean),S=()=>h.forEach(f=>f());return s?{stop:S,cancel:()=>{l=!1},trigger:f=>{l=!0,v(f),l=!1}}:S}const We=new WeakMap,js={mounted(t,e){const n=!e.modifiers.bubble;let a;if(typeof e.value=="function")a=ct(t,e.value,{capture:n});else{const[i,r]=e.value;a=ct(t,i,Object.assign({capture:n},r))}We.set(t,a)},unmounted(t){const e=We.get(t);e&&typeof e=="function"?e():e?.stop(),We.delete(t)}};function He(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function an(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:an(n)}}function Gs(t){const e=t||window.event,n=e.target;return an(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const Oe=new WeakMap;function qs(t,e=!1){const n=Ue(e);let a=null,i="";ae(Hs(t),s=>{const l=He(V(s));if(l){const u=l;if(Oe.get(u)||Oe.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(i=u.style.overflow),u.style.overflow==="hidden")return n.value=!0;if(n.value)return u.style.overflow="hidden"}},{immediate:!0});const r=()=>{const s=He(V(t));!s||n.value||(Ge&&(a=Pe(s,"touchmove",l=>{Gs(l)},{passive:!1})),s.style.overflow="hidden",n.value=!0)},o=()=>{const s=He(V(t));!s||!n.value||(Ge&&a?.(),s.style.overflow=i,Oe.delete(s),n.value=!1)};return en(o),D({get(){return n.value},set(s){s?r():o()}})}function Vs(){let t=!1;const e=Ue(!1);return(n,a)=>{if(e.value=a.value,t)return;t=!0;const i=qs(n,a.value);ae(e,r=>i.value=r)}}Vs();const Ks=["open"],Us={"data-testid":"dropdown-menu",class:"menu dropdown-content bg-base-100 z-1 w-52 p-2 shadow-sm"},Xs=F({__name:"dropdown",props:{color:{},variant:{},size:{},active:{type:Boolean},disabled:{type:Boolean},modifier:{},id:{}},emits:["open","close"],setup(t,{expose:e,emit:n}){const a=t,i=n,r=Pt("details-ref"),o=L(!1),s=D(()=>({neutral:"btn-neutral",primary:"btn-primary",secondary:"btn-secondary",accent:"btn-accent",info:"btn-info",success:"btn-success",warning:"btn-warning",error:"btn-error",undefined:""})[a.color??"undefined"]),l=D(()=>({outline:"btn-outline",dash:"btn-dash",soft:"btn-soft",ghost:"btn-ghost",link:"btn-link",undefined:""})[a.variant??"undefined"]),u=D(()=>({xs:"btn-xs",sm:"btn-sm",md:"btn-md",lg:"btn-lg",xl:"btn-xl",undefined:""})[a.size??"undefined"]),c=D(()=>({wide:"btn-wide",block:"btn-block",square:"btn-square",circle:"btn-circle",undefined:""})[a.modifier??"undefined"]);function d(){r.value&&(r.value.open=o.value)}function v(){o.value=!1,i("close")}function m(){o.value=!0,i("open")}function h(){o.value?v():m()}return e({close:v,isOpen:o,id:a.id}),(S,f)=>(C(),k("details",{"data-testid":"dropdown-wrapper",ref:"details-ref",class:"dropdown",open:o.value,onToggle:d},[P("summary",{"data-testid":"dropdown-trigger",onClick:ke(h,["stop"]),class:qe(["btn",[s.value,l.value,u.value,c.value,{"btn-active":S.active,"btn-disabled":S.disabled}]])},[U(S.$slots,"label")],2),Ae((C(),k("ul",Us,[U(S.$slots,"items")])),[[_(js),v,void 0,{bubble:!0}]])],40,Ks))}}),Ys={class:"flex items-center gap-2 px-2"},Js={class:"badge badge-ghost badge-sm font-semibold"},Zs=F({__name:"active-scl-file-info",setup(t){const e=Xe(),{currentActiveFileDatabaseName:n}=$t(e),a=D(()=>n.value?`Active file: ${n.value}`:"No active file");return(i,r)=>(C(),k("div",Ys,[r[0]||(r[0]=pt('<svg class="size-[1em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="currentColor" stroke-linejoin="miter" stroke-linecap="butt"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></circle><path d="m12,17v-5.5c0-.276-.224-.5-.5-.5h-1.5" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></path><circle cx="12" cy="7.25" r="1.25" fill="currentColor" stroke-width="2"></circle></g></svg>',1)),P("div",Js,le(a.value),1)]))}}),Qs={class:"navbar bg-base-100 shadow-sm min-h-10 px-0.5 py-0"},er=["onClick"],tr=["onClick"],nr=F({__name:"navbar",props:{items:{}},setup(t){const e=L([]),n=t,a=D(()=>{const s=[];for(const l of n.items){const u=l.path.length>0,c=!u,d=u;if(c){if(s.find(m=>m.label===l.label))continue;s.push({id:l.id,label:l.label,children:[],action:r})}d&&i(s,l).children.push({id:l.id,label:l.label,children:[],action:l.action})}return s});function i(s,l){let u={id:"N/A",label:"N/A",action:r,children:s};for(const c of l.path){const d=u.children.find(m=>m.label===c);if(d){u=d;continue}const v={id:c,label:c,children:[],action:r};u.children.push(v),u=v}return u}function r(s){for(const l of e.value)l.id!==s&&l.close()}function o(s,l){return function(){l.action(l.id);const u=e.value.find(c=>c.id===s);if(!u){console.warn({msg:"could not find dropdown to close",itemId:s});return}u.close()}}return(s,l)=>(C(),k("nav",Qs,[P("div",null,[(C(!0),k(te,null,be(a.value,u=>(C(),k(te,null,[u.children.length>0?(C(),ue(_(Xs),{key:u.id,id:u.id,ref_for:!0,ref_key:"dropdowns",ref:e,color:"secondary",variant:"ghost",size:"sm",modifier:"wide",onOpen:()=>r(u.id)},{label:G(()=>[vt(le(u.label),1)]),items:G(()=>[(C(!0),k(te,null,be(u.children,c=>(C(),k("li",{key:c.id},[P("button",{onClick:()=>o(u.id,c)()},le(c.label),9,er)]))),128))]),_:2},1032,["id","onOpen"])):he("",!0),u.children.length===0?(C(),k("button",{key:u.id,onClick:()=>u.action(u.id)},le(u.label),9,tr)):he("",!0)],64))),256))]),O(Zs)]))}}),ar=xe(nr,[["__scopeId","data-v-cd567ad5"]]),or=["open"],sr={class:"modal-box relative"},rr=F({__name:"new-file-modal",setup(t){const e=Xe(),n=L("");function a(){e.newFileModalOpen=!1,n.value=""}async function i(){if(!n.value.trim()){alert("Please enter a project name.");return}await e.createNewFile(n.value.trim()),a()}return(r,o)=>(C(),k("dialog",{class:"modal",open:_(e).newFileModalOpen,onCancel:ke(a,["prevent"])},[P("div",sr,[o[4]||(o[4]=P("h3",{class:"text-lg font-bold"},"Create New Project",-1)),P("button",{class:"absolute top-[1.5rem] right-[1.5rem] cursor-pointer",onClick:a,"aria-label":"Close new project creation","data-testId":"close-new-file-modal"},o[1]||(o[1]=[P("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 64 64"},[P("path",{d:"M 16 14 C 15.488 14 14.976938 14.194937 14.585938 14.585938 C 13.804937 15.366937 13.804937 16.633063 14.585938 17.414062 L 29.171875 32 L 14.585938 46.585938 C 13.804938 47.366938 13.804937 48.633063 14.585938 49.414062 C 14.976937 49.805062 15.488 50 16 50 C 16.512 50 17.023062 49.805062 17.414062 49.414062 L 32 34.828125 L 46.585938 49.414062 C 47.366938 50.195063 48.633063 50.195062 49.414062 49.414062 C 50.195063 48.633062 50.195062 47.366937 49.414062 46.585938 L 34.828125 32 L 49.414062 17.414062 C 50.195063 16.633063 50.195062 15.366938 49.414062 14.585938 C 48.633062 13.804938 47.366937 13.804938 46.585938 14.585938 L 32 29.171875 L 17.414062 14.585938 C 17.023062 14.194938 16.512 14 16 14 z"})],-1)])),o[5]||(o[5]=P("p",{class:"text-sm text-gray-500 mt-2 flex items-center gap-1 select-none"}," â“˜ Please save your current project before creating a new project ",-1)),P("form",{onSubmit:ke(i,["prevent"]),class:"mt-4"},[o[3]||(o[3]=P("label",{for:"new-project-name",class:"col-start-1 self-center"},"New Project Name",-1)),Ae(P("input",{id:"new-project-name",type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>n.value=s),placeholder:"Enter Project Name",required:"",autofocus:"",class:"input input-bordered w-full mt-2"},null,512),[[kt,n.value]]),P("div",{class:"flex justify-end gap-2 mt-4"},[P("button",{type:"button",class:"btn btn-ghost",onClick:a},"Cancel"),o[2]||(o[2]=P("button",{type:"submit",class:"btn bg-(--color-primary) border-none text-white"}," Create ",-1))])],32)])],40,or))}}),ir=F({__name:"menu",setup(t){const e=Xe(),n=Ro(),a=[{id:"file.open",label:"Open",path:["File"],action:e.openFiles},{id:"file.save",label:"Save",path:["File"],action:e.saveFile},{id:"file.new",label:"New",path:["File"],action:()=>e.openNewFileModal()}],i=Mo(async()=>{const{contributions:s}=$t(n),l=[];for(const u of s.value)try{const c=await r(u),d={id:u.id,label:u.label,path:u.menuPath,action:c};l.push(d)}catch(c){console.error("Error fetching action for menu contribution",{cont:u,err:c});continue}return[...a,...l]},a);async function r(s){const l=s.actionFnUrl;return l?(await import(l)).default:o}function o(){}return(s,l)=>(C(),k(te,null,[O(ar,{items:_(i),activeFileName:_(e).currentActiveFileDatabaseName},null,8,["items","activeFileName"]),O(rr)],64))}}),lr={class:"activity-bar"},ur=["title","onClick"],cr={class:"widget-wrapper"},dr=["src","alt"],fr={class:"widget-label"},pr=F({__name:"activity-bar",setup(t){const e=Rt();function n(i){return e.activeWidget?.id===i.id}function a(i){e.activeWidget?.id!==i.id&&e.activateWidget(i)}return ae(()=>e.widgets,i=>{if(i.length&&!e.activeWidget){const r=i.find(o=>o.defaultActive);r&&e.activateWidget(r)}},{immediate:!0}),(i,r)=>(C(),k("aside",lr,[(C(!0),k(te,null,be(_(e).widgets,o=>(C(),k("button",{key:o.id,class:qe(["btn btn-ghost widget-button",{"btn-active":n(o)}]),title:o.label,onClick:s=>a(o)},[P("div",cr,[P("img",{src:o.icon,alt:o.label,class:"widget-icon"},null,8,dr),P("div",fr,le(o.label),1)])],10,ur))),128))]))}}),vr=xe(pr,[["__scopeId","data-v-c045b804"]]),br=F({__name:"app-view",setup(t){return(e,n)=>(C(),ue(xs,null,{menubar:G(()=>[O(ir)]),"activity-bar":G(()=>[O(vr)]),"primary-sidebar":G(()=>[O(Ts)]),"main-area":G(()=>[O(Ms)]),_:1}))}});export{br as default};
