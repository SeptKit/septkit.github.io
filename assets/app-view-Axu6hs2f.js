import{B as Ja,a as es,C as Dr,D as ts,E as ns,b as rs,c as as,F as Ce,K as ss,R as is,S as os,d as ls,T as cs,e as us,f as ps,g as ds,h as fs,i as hs,V as gs,j as ms,k as bs,l as ks,m as xs,n as vs,o as Nr,p as ws,q as j,r as ys,s as Ge,t as He,u as H,v as R,w as Ss,x as _s,y as Es,z as Ts,A as As,G as Or,H as Fr,I as ae,J as Br,L as Rs,M as X,N as Cs,O as zs,P as Is,Q as Ls,U as Ps,W as $s,X as Ms,Y as Ds,Z as Ns,_ as Os,$ as Fs,a0 as Hr,a1 as Ur,a2 as Bs,a3 as Hs,a4 as Us,a5 as Bt,a6 as Gs,a7 as Ws,a8 as qs,a9 as js,aa as Vs,ab as Ys,ac as Xs,ad as Zs,ae as Ks,af as Gr,ag as Qs,ah as Js,ai as ei,aj as ti,ak as ni,al as ri,am as ai,an as si,ao as ii,ap as oi,aq as li,ar as Wr,as as qr,at as Gt,au as ci,av as Ln,aw as ui,ax as pi,ay as di,az as fi,aA as hi,aB as gi,aC as Pn,aD as mi,aE as bi,aF as jr,aG as ki,aH as Vr,aI as xi,aJ as vi,aK as M,aL as wi,aM as Yr,aN as yi,aO as Si,aP as _i,aQ as Ei,aR as Xr,aS as W,aT as Ti,aU as Ai,aV as et,aW as ve,aX as Ri,aY as Ci,aZ as zi,a_ as Ii,a$ as Li,b0 as Pi,b1 as $i,b2 as Mi,b3 as Di,b4 as Ni,b5 as $n,b6 as Oi,b7 as Fi,b8 as Bi,b9 as ze,ba as Hi,bb as Ui,bc as Gi,bd as Zr,be as Wt,bf as de,bg as Wi,bh as qi,bi as I,bj as ji,bk as Vi,bl as Yi,bm as Xi,bn as Kr,bo as Zi,bp as Ki,bq as Qi,br as Ji,bs as Qr,bt as eo,bu as to,bv as no,bw as Jr,bx as ro,by as ea,bz as ao,bA as so,bB as io,bC as Ie,bD as tt,bE as oo,bF as lo,bG as co,bH as pe,bI as uo,bJ as Xt,bK as po,bL as fo,bM as wt,bN as ho,bO as ta,bP as go}from"./index-DZ7eFuVP.js";import{u as mo,b as bo,_ as Et,a as ko,l as xo,W as na,s as vo,c as ra,d as Mn,e as wo,f as yo}from"./widget-portal-ZJLHap5n.js";/**
* vue v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const So=()=>{},_o=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ja,BaseTransitionPropsValidators:es,Comment:Dr,DeprecationTypes:ts,EffectScope:ns,ErrorCodes:rs,ErrorTypeStrings:as,Fragment:Ce,KeepAlive:ss,ReactiveEffect:is,Static:os,Suspense:ls,Teleport:cs,Text:us,TrackOpTypes:ps,Transition:ds,TransitionGroup:fs,TriggerOpTypes:hs,VueElement:gs,assertNumber:ms,callWithAsyncErrorHandling:bs,callWithErrorHandling:ks,camelize:xs,capitalize:vs,cloneVNode:Nr,compatUtils:ws,compile:So,computed:j,createApp:ys,createBlock:Ge,createCommentVNode:He,createElementBlock:H,createElementVNode:R,createHydrationRenderer:Ss,createPropsRestProxy:_s,createRenderer:Es,createSSRApp:Ts,createSlots:As,createStaticVNode:Or,createTextVNode:Fr,createVNode:ae,customRef:Br,defineAsyncComponent:Rs,defineComponent:X,defineCustomElement:Cs,defineEmits:zs,defineExpose:Is,defineModel:Ls,defineOptions:Ps,defineProps:$s,defineSSRCustomElement:Ms,defineSlots:Ds,devtools:Ns,effect:Os,effectScope:Fs,getCurrentInstance:Hr,getCurrentScope:Ur,getCurrentWatcher:Bs,getTransitionRawChildren:Hs,guardReactiveProps:Us,h:Bt,handleError:Gs,hasInjectionContext:Ws,hydrate:qs,hydrateOnIdle:js,hydrateOnInteraction:Vs,hydrateOnMediaQuery:Ys,hydrateOnVisible:Xs,initCustomFormatter:Zs,initDirectivesForSSR:Ks,inject:Gr,isMemoSame:Qs,isProxy:Js,isReactive:ei,isReadonly:ti,isRef:ni,isRuntimeOnly:ri,isShallow:ai,isVNode:si,markRaw:ii,mergeDefaults:oi,mergeModels:li,mergeProps:Wr,nextTick:qr,normalizeClass:Gt,normalizeProps:ci,normalizeStyle:Ln,onActivated:ui,onBeforeMount:pi,onBeforeUnmount:di,onBeforeUpdate:fi,onDeactivated:hi,onErrorCaptured:gi,onMounted:Pn,onRenderTracked:mi,onRenderTriggered:bi,onScopeDispose:jr,onServerPrefetch:ki,onUnmounted:Vr,onUpdated:xi,onWatcherCleanup:vi,openBlock:M,popScopeId:wi,provide:Yr,proxyRefs:yi,pushScopeId:Si,queuePostFlushCb:_i,reactive:Ei,readonly:Xr,ref:W,registerRuntimeCompiler:Ti,render:Ai,renderList:et,renderSlot:ve,resolveComponent:Ri,resolveDirective:Ci,resolveDynamicComponent:zi,resolveFilter:Ii,resolveTransitionHooks:Li,setBlockTracking:Pi,setDevtoolsHook:$i,setTransitionHooks:Mi,shallowReactive:Di,shallowReadonly:Ni,shallowRef:$n,ssrContextKey:Oi,ssrUtils:Fi,stop:Bi,toDisplayString:ze,toHandlerKey:Hi,toHandlers:Ui,toRaw:Gi,toRef:Zr,toRefs:Wt,toValue:de,transformVNodeArgs:Wi,triggerRef:qi,unref:I,useAttrs:ji,useCssModule:Vi,useCssVars:Yi,useHost:Xi,useId:Kr,useModel:Zi,useSSRContext:Ki,useShadowRoot:Qi,useSlots:Ji,useTemplateRef:Qr,useTransitionState:eo,vModelCheckbox:to,vModelDynamic:no,vModelRadio:Jr,vModelSelect:ro,vModelText:ea,vShow:ao,version:so,warn:io,watch:Ie,watchEffect:tt,watchPostEffect:oo,watchSyncEffect:lo,withAsyncContext:co,withCtx:pe,withDefaults:uo,withDirectives:Xt,withKeys:po,withMemo:fo,withModifiers:wt,withScopeId:ho},Symbol.toStringTag,{value:"Module"}));function Eo(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const Tt=typeof document<"u";function aa(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[s=>{const l=Gr(r,s);if(l||l===null)return l;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},s=>(Yr(r,s),s)]}function sa(t){return t?t.flatMap(e=>e.type===Ce?sa(e.children):[e]):[]}const[Dn,wu]=aa("ConfigProvider");function To(t){var e;const n=de(t);return(e=n?.$el)!=null?e:n}function Ao(t){const e=Dn({dir:W("ltr")});return j(()=>e.dir?.value||"ltr")}function ia(){const t=Hr(),e=W(),n=j(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:To(e)),r=Object.assign({},t.exposed),a={};for(const s in t.props)Object.defineProperty(a,s,{enumerable:!0,configurable:!0,get:()=>t.props[s]});if(Object.keys(r).length>0)for(const s in r)Object.defineProperty(a,s,{enumerable:!0,configurable:!0,get:()=>r[s]});Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=a;function i(s){e.value=s,s&&(Object.defineProperty(a,"$el",{enumerable:!0,configurable:!0,get:()=>s instanceof Element?s:s.$el}),t.exposed=a)}return{forwardRef:i,currentRef:e,currentElement:n}}let Ro=0;function Nn(t,e="reka"){if(t)return t;if("useId"in _o)return`${e}-${Kr?.()}`;const n=Dn({useId:void 0});return n.useId?`${e}-${n.useId()}`:`${e}-${++Ro}`}const Co=X({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=sa(n.default()),a=r.findIndex(o=>o.type!==Dr);if(a===-1)return r;const i=r[a];delete i.props?.ref;const s=i.props?Wr(e,i.props):e,l=Nr({...i,props:{}},s);return r.length===1?l:(r[a]=l,r)}}}),zo=["area","img","input"],On=X({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&zo.includes(r)?()=>Bt(r,e):r!=="template"?()=>Bt(t.as,e,{default:n.default}):()=>Bt(Co,e,{default:n.default})}});function Io(t){const e=Dn({nonce:W()});return j(()=>t?.value||e.nonce?.value)}function z(t,e="Assertion failed!"){if(!t)throw console.error(e),new Error(e)}function oa(t,e=document){if(!Tt)return null;if(e instanceof HTMLElement&&e?.dataset?.panelGroupId===t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function Zt(t,e=document){if(!Tt)return null;const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function la(t,e,n=document){return Tt?yt(t,n).findIndex(i=>i.getAttribute("data-panel-resize-handle-id")===e)??null:null}function yt(t,e=document){return Tt?Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`)):[]}function Lo(t,e,n,r=document){const a=Zt(e,r),i=yt(t,r),s=a?i.indexOf(a):-1,l=n[s]?.id??null,o=n[s+1]?.id??null;return[l,o]}function ca(t){return t.type==="keydown"}function ua(t){return t.type.startsWith("mouse")}function pa(t){return t.type.startsWith("touch")}function Kt(t){if(ua(t))return{x:t.clientX,y:t.clientY};if(pa(t)){const e=t.touches[0];if(e&&e.clientX&&e.clientY)return{x:e.clientX,y:e.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function da(t,e){const n=t==="horizontal",{x:r,y:a}=Kt(e);return n?r:a}function Po(t,e,n,r,a){const i=n==="horizontal",s=Zt(e,a);z(s);const l=s.getAttribute("data-panel-group-id");z(l);const{initialCursorPosition:o}=r,u=da(n,t),p=oa(l,a);z(p);const d=p.getBoundingClientRect(),h=i?d.width:d.height;return(u-o)/h*100}function $o(t,e,n,r,a,i){if(ca(t)){const s=n==="horizontal";let l=0;t.shiftKey?l=100:l=a??10;let o=0;switch(t.key){case"ArrowDown":o=s?0:l;break;case"ArrowLeft":o=s?-l:0;break;case"ArrowRight":o=s?l:0;break;case"ArrowUp":o=s?0:-l;break;case"End":o=100;break;case"Home":o=-100;break}return o}else return r==null?0:Po(t,e,n,r,i)}function Mo({layout:t,panelsArray:e,pivotIndices:n}){let r=0,a=100,i=0,s=0;const l=n[0];z(l!=null),e.forEach((d,h)=>{const{constraints:g}=d,{maxSize:b=100,minSize:w=0}=g;h===l?(r=w,a=b):(i+=w,s+=b)});const o=Math.min(a,100-i),u=Math.max(r,100-s),p=t[l];return{valueMax:o,valueMin:u,valueNow:p}}function Do({panelDataArray:t}){const e=Array.from({length:t.length}),n=t.map(i=>i.constraints);let r=0,a=100;for(let i=0;i<t.length;i++){const s=n[i];z(s);const{defaultSize:l}=s;l!=null&&(r++,e[i]=l,a-=l)}for(let i=0;i<t.length;i++){const s=n[i];z(s);const{defaultSize:l}=s;if(l!=null)continue;const o=t.length-r,u=a/o;r++,e[i]=u,a-=u}return e}function lt(t,e,n){e.forEach((r,a)=>{const i=t[a];z(i);const{callbacks:s,constraints:l,id:o}=i,{collapsedSize:u=0,collapsible:p}=l,d=n[o];if(d==null||r!==d){n[o]=r;const{onCollapse:h,onExpand:g,onResize:b}=s;b&&b(r,d),p&&(h||g)&&(g&&(d==null||d===u)&&r!==u&&g(),h&&(d==null||d!==u)&&r===u&&h())}})}function No(t,e=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...a)},e)}}const Fn=10;function St(t,e,n=Fn){t=Number.parseFloat(t.toFixed(n)),e=Number.parseFloat(e.toFixed(n));const r=t-e;return r===0?0:r>0?1:-1}function ue(t,e,n){return St(t,e,n)===0}function Je({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];z(r!=null);const{collapsedSize:a=0,collapsible:i,maxSize:s=100,minSize:l=0}=r;if(St(n,l)<0)if(i){const o=(a+l)/2;St(n,o)<0?n=a:n=l}else n=l;return n=Math.min(s,n),n=Number.parseFloat(n.toFixed(Fn)),n}function Mt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function mt({delta:t,layout:e,panelConstraints:n,pivotIndices:r,trigger:a}){if(ue(t,0))return e;const i=[...e],[s,l]=r;z(s!=null),z(l!=null);let o=0;if(a==="keyboard"){{const p=t<0?l:s,d=n[p];if(z(d),d.collapsible){const h=e[p];z(h!=null);const g=n[p];z(g);const{collapsedSize:b=0,minSize:w=0}=g;if(ue(h,b)){const f=w-h;St(f,Math.abs(t))>0&&(t=t<0?0-f:f)}}}{const p=t<0?s:l,d=n[p];z(d);const{collapsible:h}=d;if(h){const g=e[p];z(g!=null);const b=n[p];z(b);const{collapsedSize:w=0,minSize:f=0}=b;if(ue(g,f)){const k=g-w;St(k,Math.abs(t))>0&&(t=t<0?0-k:k)}}}}{const p=t<0?1:-1;let d=t<0?l:s,h=0;for(;;){const b=e[d];z(b!=null);const f=Je({panelConstraints:n,panelIndex:d,size:100})-b;if(h+=f,d+=p,d<0||d>=n.length)break}const g=Math.min(Math.abs(t),Math.abs(h));t=t<0?0-g:g}{let d=t<0?s:l;for(;d>=0&&d<n.length;){const h=Math.abs(t)-Math.abs(o),g=e[d];z(g!=null);const b=g-h,w=Je({panelConstraints:n,panelIndex:d,size:b});if(!ue(g,w)&&(o+=g-w,i[d]=w,o.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?d--:d++}}if(ue(o,0))return e;{const p=t<0?l:s,d=e[p];z(d!=null);const h=d+o,g=Je({panelConstraints:n,panelIndex:p,size:h});if(i[p]=g,!ue(g,h)){let b=h-g,f=t<0?l:s;for(;f>=0&&f<n.length;){const k=i[f];z(k!=null);const O=k+b,B=Je({panelConstraints:n,panelIndex:f,size:O});if(ue(k,B)||(b-=B-k,i[f]=B),ue(b,0))break;t>0?f--:f++}}}const u=i.reduce((p,d)=>d+p,0);return ue(u,100)?i:e}function fa(t,e,n){const r=la(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Oo(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Fo(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:br(t),b:br(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;z(r);const a={a:mr(gr(n.a)),b:mr(gr(n.b))};if(a.a===a.b){const i=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let l=i.length;for(;l--;){const o=i[l];if(o===s.a)return 1;if(o===s.b)return-1}}return Math.sign(a.a-a.b)}const Bo=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Ho(t){const e=getComputedStyle(ha(t)).display;return e==="flex"||e==="inline-flex"}function Uo(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Ho(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Bo.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function gr(t){let e=t.length;for(;e--;){const n=t[e];if(z(n),Uo(n))return n}return null}function mr(t){return t&&Number(getComputedStyle(t).zIndex)||0}function br(t){const e=[];for(;t;)e.push(t),t=ha(t);return e}function ha(t){return t.parentNode instanceof DocumentFragment&&t.parentNode?.host||t.parentNode}const ga=1,ma=2,ba=4,ka=8;function Go(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const Wo=Go()==="coarse",Ne=[];let Qt=!1;const Me=new Map,Jt=new Map,_t=new Set;function qo(t,e,n,r,a,i){const{ownerDocument:s}=e,l={direction:n,element:e,hitAreaMargins:r,nonce:a,setResizeHandlerState:i},o=Me.get(s)??0;return Me.set(s,o+1),_t.add(l),qt(),function(){Jt.delete(t),_t.delete(l);const p=Me.get(s)??1;Me.set(s,p-1),qt(),va(),p===1&&Me.delete(s)}}function Dt(t){const{target:e}=t,{x:n,y:r}=Kt(t);Qt=!0,Bn({target:e,x:n,y:r}),qt(),Ne.length>0&&(Hn("down",t),t.preventDefault())}function Pe(t){const{x:e,y:n}=Kt(t);if(!Qt){const{target:r}=t;Bn({target:r,x:e,y:n})}Hn("move",t),xa(),Ne.length>0&&t.preventDefault()}function $e(t){const{target:e}=t,{x:n,y:r}=Kt(t);Jt.clear(),Qt=!1,Ne.length>0&&t.preventDefault(),Hn("up",t),Bn({target:e,x:n,y:r}),xa(),qt()}function Bn({target:t,x:e,y:n}){Ne.splice(0);let r=null;t instanceof HTMLElement&&(r=t),_t.forEach(a=>{const{element:i,hitAreaMargins:s}=a,l=i.getBoundingClientRect(),{bottom:o,left:u,right:p,top:d}=l,h=Wo?s.coarse:s.fine;if(e>=u-h&&e<=p+h&&n>=d-h&&n<=o+h){if(r!==null&&i!==r&&!i.contains(r)&&!r.contains(i)&&Fo(r,i)>0){let b=r,w=!1;for(;b&&!b.contains(i);){if(Oo(b.getBoundingClientRect(),l)){w=!0;break}b=b.parentElement}if(w)return}Ne.push(a)}})}function dn(t,e){Jt.set(t,e)}function xa(){let t=!1,e=!1,n;Ne.forEach(a=>{const{direction:i,nonce:s}=a;i.value==="horizontal"?t=!0:e=!0,n=s.value});let r=0;Jt.forEach(a=>{r|=a}),t&&e?fn("intersection",r,n):t?fn("horizontal",r,n):e?fn("vertical",r,n):va()}function qt(){Me.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",$e),n.removeEventListener("mousedown",Dt),n.removeEventListener("mouseleave",Pe),n.removeEventListener("mousemove",Pe),n.removeEventListener("touchmove",Pe),n.removeEventListener("touchstart",Dt)}),window.removeEventListener("mouseup",$e),window.removeEventListener("touchcancel",$e),window.removeEventListener("touchend",$e),_t.size>0&&(Qt?(Ne.length>0&&Me.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",$e),n.addEventListener("mouseleave",Pe),n.addEventListener("mousemove",Pe),n.addEventListener("touchmove",Pe,{passive:!1}))}),window.addEventListener("mouseup",$e),window.addEventListener("touchcancel",$e),window.addEventListener("touchend",$e)):Me.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("mousedown",Dt),n.addEventListener("mousemove",Pe),n.addEventListener("touchmove",Pe,{passive:!1}),n.addEventListener("touchstart",Dt))}))}function Hn(t,e){_t.forEach(n=>{const{setResizeHandlerState:r}=n,a=Ne.includes(n);r(t,a,e)})}let _n=null,De=null;function jo(t,e){if(e){const n=(e&ga)!==0,r=(e&ma)!==0,a=(e&ba)!==0,i=(e&ka)!==0;if(n)return a?"se-resize":i?"ne-resize":"e-resize";if(r)return a?"sw-resize":i?"nw-resize":"w-resize";if(a)return"s-resize";if(i)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function va(){De!==null&&(document.head.removeChild(De),_n=null,De=null)}function fn(t,e,n){const r=jo(t,e);_n!==r&&(_n=r,De===null&&(De=document.createElement("style"),n&&(De.nonce=n),document.head.appendChild(De)),De.innerHTML=`*{cursor: ${r}!important;}`)}function Vo({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:a,precision:i=3}){const s=n[a];let l;return s==null?l=t!==void 0?t.toPrecision(i):"1":r.length===1?l="1":l=s.toPrecision(i),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Yo({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((i,s)=>i+s,0);if(n.length!==e.length)throw new Error(`Invalid ${e.length} panel layout: ${n.map(i=>`${i}%`).join(", ")}`);if(!ue(r,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(i=>`${i}%`).join(", ")}. Layout normalization will be applied.`);for(let i=0;i<e.length;i++){const s=n[i];z(s!=null);const l=100/r*s;n[i]=l}}let a=0;for(let i=0;i<e.length;i++){const s=n[i];z(s!=null);const l=Je({panelConstraints:e,panelIndex:i,size:s});s!==l&&(a+=s-l,n[i]=l)}if(!ue(a,0))for(let i=0;i<e.length;i++){const s=n[i];z(s!=null);const l=s+a,o=Je({panelConstraints:e,panelIndex:i,size:l});if(s!==o&&(a-=o-s,n[i]=o,ue(a,0)))break}return n}function Xo({eagerValuesRef:t,groupId:e,layout:n,panelDataArray:r,panelGroupElement:a,setLayout:i}){tt(s=>{const l=a.value;if(!l)return;const o=yt(e,l);for(let u=0;u<r.length-1;u++){const{valueMax:p,valueMin:d,valueNow:h}=Mo({layout:n.value,panelsArray:r,pivotIndices:[u,u+1]}),g=o[u];if(g!=null){const b=r[u];z(b),g.setAttribute("aria-controls",b.id),g.setAttribute("aria-valuemax",`${Math.round(p)}`),g.setAttribute("aria-valuemin",`${Math.round(d)}`),g.setAttribute("aria-valuenow",h!=null?`${Math.round(h)}`:"")}}s(()=>{o.forEach(u=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})})}),tt(s=>{const l=a.value;if(!l)return;const o=t.value;z(o);const{panelDataArray:u}=o,p=oa(e,l);z(p!=null,`No group found for id "${e}"`);const d=yt(e,l);z(d);const h=d.map(g=>{const b=g.getAttribute("data-panel-resize-handle-id");z(b);const[w,f]=Lo(e,b,u,l);if(w==null||f==null)return()=>{};const k=O=>{if(!O.defaultPrevented)switch(O.key){case"Enter":{O.preventDefault();const B=u.findIndex(C=>C.id===w);if(B>=0){const C=u[B];z(C);const D=n.value[B],{collapsedSize:J=0,collapsible:ke,minSize:q=0}=C.constraints;if(D!=null&&ke){const ee=mt({delta:ue(D,J)?q-J:J-D,layout:n.value,panelConstraints:u.map(nt=>nt.constraints),pivotIndices:fa(e,b,l),trigger:"keyboard"});n.value!==ee&&i(ee)}}break}}};return g.addEventListener("keydown",k),()=>{g.removeEventListener("keydown",k)}});s(()=>{h.forEach(g=>g())})})}function kr(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new TypeError("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function wa(t){return`reka:${t}`}function ya(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:a,order:i}=e;return a?r:i?`${i}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Sa(t,e){try{const n=wa(t),r=e.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function Zo(t,e,n){const r=Sa(t,n)??{},a=ya(e);return r[a]??null}function Ko(t,e,n,r,a){const i=wa(t),s=ya(e),l=Sa(t,a)??{};l[s]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(i,JSON.stringify(l))}catch(o){console.error(o)}}const Qo=100,bt={getItem:t=>(kr(bt),bt.getItem(t)),setItem:(t,e)=>{kr(bt),bt.setItem(t,e)}},[_a,Jo]=aa("PanelGroup");var el=X({__name:"SplitterGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1,default:null},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1,default:10},storage:{type:Object,required:!1,default:()=>bt},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["layout"],setup(t,{emit:e}){const n=t,r=e,a={},{direction:i}=Wt(n),s=Nn(n.id,"reka-splitter-group"),l=Ao(),{forwardRef:o,currentElement:u}=ia(),p=W(null),d=W([]),h=W({}),g=W(new Map),b=W(0),w=j(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:p.value,id:s,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),f=W({layout:d.value,panelDataArray:[],panelDataArrayChanged:!1}),k=x=>d.value=x;Xo({eagerValuesRef:f,groupId:s,layout:d,panelDataArray:f.value.panelDataArray,setLayout:k,panelGroupElement:u}),tt(()=>{const{panelDataArray:x}=f.value,{autoSaveId:T}=n;if(T){if(d.value.length===0||d.value.length!==x.length)return;let S=a[T];S||(S=No(Ko,Qo),a[T]=S);const E=[...x],_=new Map(g.value);S(T,E,_,d.value,n.storage)}});function O(x,T){const{panelDataArray:S}=f.value,E=we(S,x);return Vo({defaultSize:T,dragState:p.value,layout:d.value,panelData:S,panelIndex:E})}function B(x){const{panelDataArray:T}=f.value;T.push(x),T.sort((S,E)=>{const _=S.order,A=E.order;return _==null&&A==null?0:_==null?-1:A==null?1:_-A}),f.value.panelDataArrayChanged=!0}Ie(()=>f.value.panelDataArrayChanged,()=>{if(f.value.panelDataArrayChanged){f.value.panelDataArrayChanged=!1;const{autoSaveId:x,storage:T}=w.value,{layout:S,panelDataArray:E}=f.value;let _=null;if(x){const P=Zo(x,E,T);P&&(g.value=new Map(Object.entries(P.expandToSizes)),_=P.layout)}_===null&&(_=Do({panelDataArray:E}));const A=Yo({layout:_,panelConstraints:E.map(P=>P.constraints)});Eo(S,A)||(k(A),f.value.layout=A,r("layout",A),lt(E,A,h.value))}});function C(x){return function(S){S.preventDefault();const E=u.value;if(!E)return()=>null;const{direction:_,dragState:A,id:P,keyboardResizeBy:ce}=w.value,{layout:$,panelDataArray:U}=f.value,{initialLayout:he}=A??{},ne=fa(P,x,E);let K=$o(S,x,_,A,ce,E);if(K===0)return;const qe=_==="horizontal";l.value==="rtl"&&qe&&(K=-K);const Rt=U.map(je=>je.constraints),Le=mt({delta:K,layout:he??$,panelConstraints:Rt,pivotIndices:ne,trigger:ca(S)?"keyboard":"mouse-or-touch"}),Se=!Mt($,Le);(ua(S)||pa(S))&&b.value!==K&&(b.value=K,Se?dn(x,0):qe?dn(x,K<0?ga:ma):dn(x,K<0?ba:ka)),Se&&(k(Le),f.value.layout=Le,r("layout",Le),lt(U,Le,h.value))}}function D(x,T){const{layout:S,panelDataArray:E}=f.value,_=E.map(he=>he.constraints),{panelSize:A,pivotIndices:P}=ye(E,x,S);z(A!=null);const $=we(E,x)===E.length-1?A-T:T-A,U=mt({delta:$,layout:S,panelConstraints:_,pivotIndices:P,trigger:"imperative-api"});Mt(S,U)||(k(U),f.value.layout=U,r("layout",U),lt(E,U,h.value))}function J(x,T){const{layout:S,panelDataArray:E}=f.value,_=we(E,x);E[_]=x,f.value.panelDataArrayChanged=!0;const{collapsedSize:A=0,collapsible:P}=T,{collapsedSize:ce=0,collapsible:$,maxSize:U=100,minSize:he=0}=x.constraints,{panelSize:ne}=ye(E,x,S);ne!==null&&(P&&$&&ne===A?A!==ce&&D(x,ce):ne<he?D(x,he):ne>U&&D(x,U))}function ke(x,T){const{direction:S}=w.value,{layout:E}=f.value;if(!u.value)return;const _=Zt(x,u.value);z(_);const A=da(S,T);p.value={dragHandleId:x,dragHandleRect:_.getBoundingClientRect(),initialCursorPosition:A,initialLayout:E}}function q(){p.value=null}function ee(x){const{panelDataArray:T}=f.value,S=we(T,x);S>=0&&(T.splice(S,1),delete h.value[x.id],f.value.panelDataArrayChanged=!0)}function nt(x){const{layout:T,panelDataArray:S}=f.value;if(x.constraints.collapsible){const E=S.map(ce=>ce.constraints),{collapsedSize:_=0,panelSize:A,pivotIndices:P}=ye(S,x,T);if(z(A!=null,`Panel size not found for panel "${x.id}"`),A!==_){g.value.set(x.id,A);const $=we(S,x)===S.length-1?A-_:_-A,U=mt({delta:$,layout:T,panelConstraints:E,pivotIndices:P,trigger:"imperative-api"});Mt(T,U)||(k(U),f.value.layout=U,r("layout",U),lt(S,U,h.value))}}}function Z(x){const{layout:T,panelDataArray:S}=f.value;if(x.constraints.collapsible){const E=S.map($=>$.constraints),{collapsedSize:_=0,panelSize:A,minSize:P=0,pivotIndices:ce}=ye(S,x,T);if(A===_){const $=g.value.get(x.id),U=$!=null&&$>=P?$:P,ne=we(S,x)===S.length-1?A-U:U-A,K=mt({delta:ne,layout:T,panelConstraints:E,pivotIndices:ce,trigger:"imperative-api"});Mt(T,K)||(k(K),f.value.layout=K,r("layout",K),lt(S,K,h.value))}}}function rt(x){const{layout:T,panelDataArray:S}=f.value,{panelSize:E}=ye(S,x,T);return z(E!=null,`Panel size not found for panel "${x.id}"`),E}function at(x){const{layout:T,panelDataArray:S}=f.value,{collapsedSize:E=0,collapsible:_,panelSize:A}=ye(S,x,T);return _?A===void 0?x.constraints.defaultSize===x.constraints.collapsedSize:A===E:!1}function st(x){const{layout:T,panelDataArray:S}=f.value,{collapsedSize:E=0,collapsible:_,panelSize:A}=ye(S,x,T);return z(A!=null,`Panel size not found for panel "${x.id}"`),!_||A>E}Jo({direction:i,dragState:p.value,groupId:s,reevaluatePanelConstraints:J,registerPanel:B,registerResizeHandle:C,resizePanel:D,startDragging:ke,stopDragging:q,unregisterPanel:ee,panelGroupElement:u,collapsePanel:nt,expandPanel:Z,isPanelCollapsed:at,isPanelExpanded:st,getPanelSize:rt,getPanelStyle:O});function we(x,T){return x.findIndex(S=>S===T||S.id===T.id)}function ye(x,T,S){const E=we(x,T),A=E===x.length-1?[E-1,E]:[E,E+1],P=S[E];return{...T.constraints,panelSize:P,pivotIndices:A}}return(x,T)=>(M(),Ge(I(On),{ref:I(o),as:x.as,"as-child":x.asChild,style:Ln({display:"flex",flexDirection:I(i)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":I(i),"data-panel-group-id":I(s)},{default:pe(()=>[ve(x.$slots,"default",{layout:d.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),tl=el,nl=X({__name:"SplitterPanel",props:{collapsedSize:{type:Number,required:!1},collapsible:{type:Boolean,required:!1},defaultSize:{type:Number,required:!1},id:{type:String,required:!1},maxSize:{type:Number,required:!1},minSize:{type:Number,required:!1},order:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["collapse","expand","resize"],setup(t,{expose:e,emit:n}){const r=t,a=n,i=_a();if(i===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:s,expandPanel:l,getPanelSize:o,getPanelStyle:u,isPanelCollapsed:p,resizePanel:d,groupId:h,reevaluatePanelConstraints:g,registerPanel:b,unregisterPanel:w}=i,f=Nn(r.id,"reka-splitter-panel"),k=j(()=>({callbacks:{onCollapse:()=>a("collapse"),onExpand:()=>a("expand"),onResize:(...q)=>a("resize",...q)},constraints:{collapsedSize:r.collapsedSize&&Number.parseFloat(r.collapsedSize.toFixed(Fn)),collapsible:r.collapsible,defaultSize:r.defaultSize,maxSize:r.maxSize,minSize:r.minSize},id:f,idIsFromProps:r.id!==void 0,order:r.order}));Ie(()=>k.value.constraints,(q,ee)=>{(ee.collapsedSize!==q.collapsedSize||ee.collapsible!==q.collapsible||ee.maxSize!==q.maxSize||ee.minSize!==q.minSize)&&g(k.value,ee)},{deep:!0}),Pn(()=>{b(k.value)}),Vr(()=>{w(k.value)});const O=j(()=>u(k.value,r.defaultSize)),B=j(()=>p(k.value)),C=j(()=>!B.value);function D(){s(k.value)}function J(){l(k.value)}function ke(q){d(k.value,q)}return e({collapse:D,expand:J,getSize(){return o(k.value)},resize:ke,isCollapsed:B,isExpanded:C}),(q,ee)=>(M(),Ge(I(On),{id:I(f),style:Ln(O.value),as:q.as,"as-child":q.asChild,"data-panel":"","data-panel-collapsible":q.collapsible||void 0,"data-panel-group-id":I(h),"data-panel-id":I(f),"data-panel-size":Number.parseFloat(`${O.value.flexGrow}`).toFixed(1),"data-state":q.collapsible?B.value?"collapsed":"expanded":void 0},{default:pe(()=>[ve(q.$slots,"default",{isCollapsed:B.value,isExpanded:C.value,expand:J,collapse:D,resize:ke})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}}),xr=nl;function rl({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){tt(a=>{const i=r.value;if(t.value||n.value===null||i===null)return;const s=Zt(e,i);if(s==null)return;const l=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n.value?.(o);break}case"F6":{o.preventDefault();const u=s.getAttribute("data-panel-group-id");z(u);const p=yt(u,i),d=la(u,e,i);z(d!==null);const h=o.shiftKey?d>0?d-1:p.length-1:d+1<p.length?d+1:0;p[h].focus();break}}};s.addEventListener("keydown",l),a(()=>{s.removeEventListener("keydown",l)})})}var al=X({__name:"SplitterResizeHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["dragging"],setup(t,{emit:e}){const n=t,r=e,{forwardRef:a,currentElement:i}=ia(),{disabled:s}=Wt(n),l=_a();if(l===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:o,groupId:u,registerResizeHandle:p,startDragging:d,stopDragging:h,panelGroupElement:g}=l,b=Nn(n.id,"reka-splitter-resize-handle"),w=W("inactive"),f=W(!1),k=W(null),{nonce:O}=Wt(n),B=Io(O);return Ie(s,()=>{Tt&&(s.value?k.value=null:k.value=p(b))},{immediate:!0}),tt(C=>{if(s.value||k.value===null)return;const D=i.value;if(!D)return;z(D);const J=(ke,q,ee)=>{if(q)switch(ke){case"down":{w.value="drag",d(b,ee),r("dragging",!0);break}case"move":{w.value!=="drag"&&(w.value="hover"),k.value?.(ee);break}case"up":{w.value="hover",h(),r("dragging",!1);break}}else w.value="inactive"};C(qo(b,D,o,{coarse:n.hitAreaMargins?.coarse??15,fine:n.hitAreaMargins?.fine??5},B,J))}),rl({disabled:s,resizeHandler:k,handleId:b,panelGroupElement:g}),(C,D)=>(M(),Ge(I(On),{id:I(b),ref:I(a),style:{touchAction:"none",userSelect:"none"},as:C.as,"as-child":C.asChild,role:"separator","data-resize-handle":"",tabindex:C.tabindex,"data-state":w.value,"data-disabled":I(s)?"":void 0,"data-orientation":I(o),"data-panel-group-id":I(u),"data-resize-handle-active":w.value==="drag"?"pointer":f.value?"keyboard":void 0,"data-resize-handle-state":w.value,"data-panel-resize-handle-enabled":!I(s),"data-panel-resize-handle-id":I(b),onBlur:D[0]||(D[0]=J=>f.value=!1),onFocus:D[1]||(D[1]=J=>f.value=!1)},{default:pe(()=>[ve(C.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),sl=al;const il={class:"layout"},ol={class:"menubar"},ll={class:"activity-bar bg-white"},cl={class:"w-full h-full overflow-hidden"},ul=X({__name:"layout",setup(t){const e=mo(bo),n=j(()=>e.greater("2xl").value?15:e.greater("xl").value?20:e.greater("lg").value?25:e.greater("md").value?30:0);return(r,a)=>(M(),H("div",il,[R("div",ol,[ve(r.$slots,"menubar",{},void 0,!0)]),R("div",ll,[ve(r.$slots,"activity-bar",{},void 0,!0)]),R("div",cl,[ae(I(tl),{direction:"horizontal",class:"h-full"},{default:pe(()=>[ae(I(xr),{class:"primary-sidebar bg-white h-full","default-size":n.value},{default:pe(()=>[ve(r.$slots,"primary-sidebar",{},void 0,!0)]),_:3},8,["default-size"]),ae(I(sl)),ae(I(xr),{class:"layout-border h-full"},{default:pe(()=>[ve(r.$slots,"main-area",{},void 0,!0)]),_:3})]),_:3})])]))}}),pl=Et(ul,[["__scopeId","data-v-bd4dde52"]]),dl={class:"editorbar bg-primary-content"},fl={class:"tabs tabs-box"},hl=["aria-label","value"],gl=X({__name:"editorbar",props:{widgets:{}},emits:["change"],setup(t,{emit:e}){const n=e,r=W();function a(){n("change",r.value)}return(i,s)=>(M(),H("div",dl,[R("div",fl,[(M(!0),H(Ce,null,et(i.widgets,l=>Xt((M(),H("input",{key:l.id,"aria-label":l.label,"onUpdate:modelValue":s[0]||(s[0]=o=>r.value=o),value:l.id,onChange:a,class:"custom-tab",type:"radio",name:"options"},null,40,hl)),[[Jr,r.value]])),128))])]))}}),ml=Et(gl,[["__scopeId","data-v-adf3a294"]]),bl={class:"main-area",name:"main-area"},kl={class:"editors"},xl={class:"content"},vl=["src"],wl="/#/widget-iframe",yl=X({__name:"main-area",setup(t){const e=ko(),n=window.location.origin,r=W(new URL(wl,n)),a=j(()=>r.value.href),i=W();Pn(async()=>{const p=await s();xo(p)});async function s(){const p="/extensions.json";try{const d=await fetch(p);if(!d.ok)throw new Error(`Failed to fetch extension list: ${d.statusText}, url:${p}`);return await d.json()}catch(d){return console.error(d),[]}}async function l(p){e.unmountExtension?.();const d=e.widgets.find(h=>h.id===p);if(!d){console.error({msg:"could not activate widget",widgetId:p});return}e.activateWidget(d),await qr(),await o()}async function o(){i.value&&e.activeWidget&&(await u(i.value),vo(e.activeWidget,i.value.contentWindow))}function u(p){return!p.contentWindow||!p.contentDocument?Promise.reject(new Error("iframe is not ready")):p.contentDocument?.readyState==="complete"?Promise.resolve():new Promise((d,h)=>{const g=()=>(p.removeEventListener("load",g),d());if(!p.contentWindow)return h(new Error("iframe contentWindow not available"));p.addEventListener("load",g)})}return(p,d)=>(M(),H("main",bl,[R("div",kl,[ae(ml,{widgets:I(e).widgets,onChange:l},null,8,["widgets"])]),R("div",xl,[I(e).activeWidget?.iframe?(M(),H("iframe",{ref_key:"iframeRef",ref:i,src:a.value,key:I(e).activeWidget?.id},null,8,vl)):He("",!0),I(e).activeWidget?.iframe?He("",!0):(M(),Ge(na,{key:1,widget:I(e).activeWidget,rootId:"main-area-widget-root"},null,8,["widget"]))])]))}}),Sl=Et(yl,[["__scopeId","data-v-d1b759be"]]),_l={class:"root h-full"},El={class:"uppercase text-sm p-2"},Tl={class:"content h-full"},Al=X({__name:"sidebar-primary",setup(t){const e=ra();return(n,r)=>(M(),H("aside",_l,[R("h1",El,ze(I(e).activeWidget?.label),1),R("div",Tl,[ae(na,{widget:I(e).activeWidget,rootId:"sidebar-primary-widget-root"},null,8,["widget"])])]))}});function Ea(t){return Ur()?(jr(t),!0):!1}const Ta=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Rl=Object.prototype.toString,Cl=t=>Rl.call(t)==="[object Object]",Be=()=>{},En=zl();function zl(){var t,e;return Ta&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Il(...t){if(t.length!==1)return Zr(...t);const e=t[0];return typeof e=="function"?Xr(Br(()=>({get:e,set:Be}))):W(e)}function hn(t){return Array.isArray(t)?t:[t]}function Ll(t,e,n){return Ie(t,e,{...n,immediate:!0})}const Aa=Ta?window:void 0;function kt(t){var e;const n=de(t);return(e=n?.$el)!=null?e:n}function Ht(...t){const e=[],n=()=>{e.forEach(l=>l()),e.length=0},r=(l,o,u,p)=>(l.addEventListener(o,u,p),()=>l.removeEventListener(o,u,p)),a=j(()=>{const l=hn(de(t[0])).filter(o=>o!=null);return l.every(o=>typeof o!="string")?l:void 0}),i=Ll(()=>{var l,o;return[(o=(l=a.value)==null?void 0:l.map(u=>kt(u)))!=null?o:[Aa].filter(u=>u!=null),hn(de(a.value?t[1]:t[0])),hn(I(a.value?t[2]:t[1])),de(a.value?t[3]:t[2])]},([l,o,u,p])=>{if(n(),!l?.length||!o?.length||!u?.length)return;const d=Cl(p)?{...p}:p;e.push(...l.flatMap(h=>o.flatMap(g=>u.map(b=>r(h,g,b,d)))))},{flush:"post"}),s=()=>{i(),n()};return Ea(n),s}let vr=!1;function wr(t,e,n={}){const{window:r=Aa,ignore:a=[],capture:i=!0,detectIframe:s=!1,controls:l=!1}=n;if(!r)return l?{stop:Be,cancel:Be,trigger:Be}:Be;if(En&&!vr){vr=!0;const f={passive:!0};Array.from(r.document.body.children).forEach(k=>k.addEventListener("click",Be,f)),r.document.documentElement.addEventListener("click",Be,f)}let o=!0;const u=f=>de(a).some(k=>{if(typeof k=="string")return Array.from(r.document.querySelectorAll(k)).some(O=>O===f.target||f.composedPath().includes(O));{const O=kt(k);return O&&(f.target===O||f.composedPath().includes(O))}});function p(f){const k=de(f);return k&&k.$.subTree.shapeFlag===16}function d(f,k){const O=de(f),B=O.$.subTree&&O.$.subTree.children;return B==null||!Array.isArray(B)?!1:B.some(C=>C.el===k.target||k.composedPath().includes(C.el))}const h=f=>{const k=kt(t);if(f.target!=null&&!(!(k instanceof Element)&&p(t)&&d(t,f))&&!(!k||k===f.target||f.composedPath().includes(k))){if("detail"in f&&f.detail===0&&(o=!u(f)),!o){o=!0;return}e(f)}};let g=!1;const b=[Ht(r,"click",f=>{g||(g=!0,setTimeout(()=>{g=!1},0),h(f))},{passive:!0,capture:i}),Ht(r,"pointerdown",f=>{const k=kt(t);o=!u(f)&&!!(k&&!f.composedPath().includes(k))},{passive:!0}),s&&Ht(r,"blur",f=>{setTimeout(()=>{var k;const O=kt(t);((k=r.document.activeElement)==null?void 0:k.tagName)==="IFRAME"&&!O?.contains(r.document.activeElement)&&e(f)},0)},{passive:!0})].filter(Boolean),w=()=>b.forEach(f=>f());return l?{stop:w,cancel:()=>{o=!1},trigger:f=>{o=!0,h(f),o=!1}}:w}const gn=new WeakMap,Pl={mounted(t,e){const n=!e.modifiers.bubble;let r;if(typeof e.value=="function")r=wr(t,e.value,{capture:n});else{const[a,i]=e.value;r=wr(t,a,Object.assign({capture:n},i))}gn.set(t,r)},unmounted(t){const e=gn.get(t);e&&typeof e=="function"?e():e?.stop(),gn.delete(t)}};function mn(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function Ra(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const n=t.parentNode;return!n||n.tagName==="BODY"?!1:Ra(n)}}function $l(t){const e=t||window.event,n=e.target;return Ra(n)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const bn=new WeakMap;function Ml(t,e=!1){const n=$n(e);let r=null,a="";Ie(Il(t),l=>{const o=mn(de(l));if(o){const u=o;if(bn.get(u)||bn.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(a=u.style.overflow),u.style.overflow==="hidden")return n.value=!0;if(n.value)return u.style.overflow="hidden"}},{immediate:!0});const i=()=>{const l=mn(de(t));!l||n.value||(En&&(r=Ht(l,"touchmove",o=>{$l(o)},{passive:!1})),l.style.overflow="hidden",n.value=!0)},s=()=>{const l=mn(de(t));!l||!n.value||(En&&r?.(),l.style.overflow=a,bn.delete(l),n.value=!1)};return Ea(s),j({get(){return n.value},set(l){l?i():s()}})}function Dl(){let t=!1;const e=$n(!1);return(n,r)=>{if(e.value=r.value,t)return;t=!0;const a=Ml(n,r.value);Ie(e,i=>a.value=i)}}Dl();const Nl=["open"],Ol=X({__name:"dropdown",props:{color:{},variant:{},size:{},active:{type:Boolean},disabled:{type:Boolean},modifier:{},background:{},id:{}},emits:["open","close"],setup(t,{expose:e,emit:n}){const r=t,a=n,i=Qr("details-ref"),s=W(!1),l=j(()=>({"bg-neutral":r.background==="neutral","bg-primary":r.background==="primary","bg-secondary":r.background==="secondary","bg-accent":r.background==="accent","bg-info":r.background==="info","bg-success":r.background==="success","bg-warning":r.background==="warning","bg-error":r.background==="error","bg-base-100":r.background==="base","bg-white":!r.background})),o=j(()=>({"btn-neutral":r.color==="neutral"||!r.color,"btn-primary":r.color==="primary","btn-secondary":r.color==="secondary","btn-accent":r.color==="accent","btn-info":r.color==="info","btn-success":r.color==="success","btn-warning":r.color==="warning","btn-error":r.color==="error"})),u=j(()=>({"btn-outline":r.variant==="outline","btn-dash":r.variant==="dash","btn-soft":r.variant==="soft","btn-ghost":r.variant==="ghost"||!r.variant,"btn-link":r.variant==="link"})),p=j(()=>({"btn-xs":r.size==="xs","btn-sm":r.size==="sm"||!r.size,"btn-md":r.size==="md","btn-lg":r.size==="lg","btn-xl":r.size==="xl"})),d=j(()=>({"btn-wide":r.modifier==="wide"||!r.modifier,"btn-block":r.modifier==="block","btn-square":r.modifier==="square","btn-circle":r.modifier==="circle"}));function h(){i.value&&(i.value.open=s.value)}function g(){s.value=!1,a("close")}function b(){s.value=!0,a("open")}function w(){s.value?g():b()}return e({close:g,isOpen:s,id:r.id}),(f,k)=>(M(),H("details",{"data-testid":"dropdown-wrapper",ref:"details-ref",class:"dropdown",open:s.value,onToggle:h},[R("summary",{"data-testid":"dropdown-trigger",onClick:wt(w,["stop"]),class:Gt(["btn",[o.value,u.value,p.value,d.value,{"btn-active":f.active,"btn-disabled":f.disabled}]])},[ve(f.$slots,"label")],2),Xt((M(),H("ul",{"data-testid":"dropdown-menu",class:Gt([[l.value],"menu dropdown-content z-1 w-52 p-2 shadow-sm"])},[ve(f.$slots,"items")],2)),[[I(Pl),g,void 0,{bubble:!0}]])],40,Nl))}}),Fl={class:"flex items-center gap-2 px-2"},Bl={class:"text-xs font-semibold"},Hl=X({__name:"active-scl-file-info",setup(t){const e=Mn(),{currentActiveFileDatabaseName:n}=ta(e),r=j(()=>n.value?`Active file: ${n.value}`:"No active file");return(a,i)=>(M(),H("div",Fl,[i[0]||(i[0]=Or('<svg class="size-[1em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="currentColor" stroke-linejoin="miter" stroke-linecap="butt"><circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></circle><path d="m12,17v-5.5c0-.276-.224-.5-.5-.5h-1.5" fill="none" stroke="currentColor" stroke-linecap="square" stroke-miterlimit="10" stroke-width="2"></path><circle cx="12" cy="7.25" r="1.25" fill="currentColor" stroke-width="2"></circle></g></svg>',1)),R("div",Bl,ze(r.value),1)]))}}),Ul={class:"navbar shadow-sm min-h-10 px-0.5 py-0 bg-white"},Gl=["onClick"],Wl=["onClick"],ql=X({__name:"navbar",props:{items:{}},setup(t){const e=W([]),n=t,r=j(()=>{const l=[];for(const o of n.items){const u=o.path.length>0,p=!u,d=u;if(p){if(l.find(g=>g.label===o.label))continue;l.push({id:o.id,label:o.label,children:[],action:i})}d&&a(l,o).children.push({id:o.id,label:o.label,children:[],action:o.action})}return l});function a(l,o){let u={id:"N/A",label:"N/A",action:i,children:l};for(const p of o.path){const d=u.children.find(g=>g.label===p);if(d){u=d;continue}const h={id:p,label:p,children:[],action:i};u.children.push(h),u=h}return u}function i(l){for(const o of e.value)o.id!==l&&o.close()}function s(l,o){return function(){o.action(o.id);const u=e.value.find(p=>p.id===l);if(!u){console.warn({msg:"could not find dropdown to close",itemId:l});return}u.close()}}return(l,o)=>(M(),H("nav",Ul,[R("div",null,[(M(!0),H(Ce,null,et(r.value,u=>(M(),H(Ce,null,[u.children.length>0?(M(),Ge(I(Ol),{key:u.id,id:u.id,ref_for:!0,ref_key:"dropdowns",ref:e,color:"secondary",variant:"ghost",size:"sm",modifier:"wide",onOpen:()=>i(u.id)},{label:pe(()=>[Fr(ze(u.label),1)]),items:pe(()=>[(M(!0),H(Ce,null,et(u.children,p=>(M(),H("li",{key:p.id},[R("button",{onClick:()=>s(u.id,p)()},ze(p.label),9,Gl)]))),128))]),_:2},1032,["id","onOpen"])):He("",!0),u.children.length===0?(M(),H("button",{key:u.id,onClick:()=>u.action(u.id)},ze(u.label),9,Wl)):He("",!0)],64))),256))]),ae(Hl)]))}}),jl=Et(ql,[["__scopeId","data-v-d04632a5"]]),Vl=["open"],Yl={class:"modal-box relative"},Xl=X({__name:"new-file-modal",setup(t){const e=Mn(),n=W("");function r(){e.newFileModalOpen=!1,n.value=""}async function a(){if(!n.value.trim()){alert("Please enter a project name.");return}await e.createNewFile(n.value.trim()),r()}return(i,s)=>(M(),H("dialog",{class:"modal",open:I(e).newFileModalOpen,onCancel:wt(r,["prevent"])},[R("div",Yl,[s[4]||(s[4]=R("h3",{class:"text-lg font-bold"},"Create New Project",-1)),R("button",{class:"absolute top-[1.5rem] right-[1.5rem] cursor-pointer btn btn-sm btn-circle btn-ghost",onClick:r,"aria-label":"Close new project creation","data-testId":"close-new-file-modal"},s[1]||(s[1]=[R("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 64 64"},[R("path",{d:"M 16 14 C 15.488 14 14.976938 14.194937 14.585938 14.585938 C 13.804937 15.366937 13.804937 16.633063 14.585938 17.414062 L 29.171875 32 L 14.585938 46.585938 C 13.804938 47.366938 13.804937 48.633063 14.585938 49.414062 C 14.976937 49.805062 15.488 50 16 50 C 16.512 50 17.023062 49.805062 17.414062 49.414062 L 32 34.828125 L 46.585938 49.414062 C 47.366938 50.195063 48.633063 50.195062 49.414062 49.414062 C 50.195063 48.633062 50.195062 47.366937 49.414062 46.585938 L 34.828125 32 L 49.414062 17.414062 C 50.195063 16.633063 50.195062 15.366938 49.414062 14.585938 C 48.633062 13.804938 47.366937 13.804938 46.585938 14.585938 L 32 29.171875 L 17.414062 14.585938 C 17.023062 14.194938 16.512 14 16 14 z"})],-1)])),s[5]||(s[5]=R("p",{class:"text-sm text-gray-500 mt-2 flex items-center gap-1 select-none"}," â“˜ Please save your current project before creating a new project ",-1)),R("form",{onSubmit:wt(a,["prevent"]),class:"mt-4"},[s[3]||(s[3]=R("label",{for:"new-project-name",class:"col-start-1 self-center"},"New Project Name",-1)),Xt(R("input",{id:"new-project-name",type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),placeholder:"Enter Project Name",required:"",autofocus:"",class:"input input-bordered w-full mt-2"},null,512),[[ea,n.value]]),R("div",{class:"flex justify-end gap-2 mt-4"},[R("button",{type:"button",class:"btn btn-ghost btn-error",onClick:r},"Cancel"),s[2]||(s[2]=R("button",{type:"submit",class:"btn btn-primary border-none text-white"},"Create",-1))])],32)])],40,Vl))}});function Un(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var We=Un();function Ca(t){We=t}var vt={exec:()=>null};function N(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(a,i)=>{let s=typeof i=="string"?i:i.source;return s=s.replace(se.caret,"$1"),n=n.replace(a,s),r},getRegex:()=>new RegExp(n,e)};return r}var Zl=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),se={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Kl=/^(?:[ \t]*(?:\n|$))+/,Ql=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jl=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,At=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ec=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Gn=/(?:[*+-]|\d{1,9}[.)])/,za=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ia=N(za).replace(/bull/g,Gn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),tc=N(za).replace(/bull/g,Gn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Wn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nc=/^[^\n]+/,qn=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,rc=N(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",qn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ac=N(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Gn).getRegex(),en="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",jn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,sc=N("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",jn).replace("tag",en).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),La=N(Wn).replace("hr",At).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex(),ic=N(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",La).getRegex(),Vn={blockquote:ic,code:Ql,def:rc,fences:Jl,heading:ec,hr:At,html:sc,lheading:Ia,list:ac,newline:Kl,paragraph:La,table:vt,text:nc},yr=N("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",At).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex(),oc={...Vn,lheading:tc,table:yr,paragraph:N(Wn).replace("hr",At).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yr).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",en).getRegex()},lc={...Vn,html:N(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",jn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:N(Wn).replace("hr",At).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ia).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},cc=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,uc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Pa=/^( {2,}|\\)\n(?!\s*$)/,pc=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,tn=/[\p{P}\p{S}]/u,Yn=/[\s\p{P}\p{S}]/u,$a=/[^\s\p{P}\p{S}]/u,dc=N(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Yn).getRegex(),Ma=/(?!~)[\p{P}\p{S}]/u,fc=/(?!~)[\s\p{P}\p{S}]/u,hc=/(?:[^\s\p{P}\p{S}]|~)/u,gc=N(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Zl?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Da=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,mc=N(Da,"u").replace(/punct/g,tn).getRegex(),bc=N(Da,"u").replace(/punct/g,Ma).getRegex(),Na="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kc=N(Na,"gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Yn).replace(/punct/g,tn).getRegex(),xc=N(Na,"gu").replace(/notPunctSpace/g,hc).replace(/punctSpace/g,fc).replace(/punct/g,Ma).getRegex(),vc=N("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Yn).replace(/punct/g,tn).getRegex(),wc=N(/\\(punct)/,"gu").replace(/punct/g,tn).getRegex(),yc=N(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Sc=N(jn).replace("(?:-->|$)","-->").getRegex(),_c=N("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Sc).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jt=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Ec=N(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Oa=N(/^!?\[(label)\]\[(ref)\]/).replace("label",jt).replace("ref",qn).getRegex(),Fa=N(/^!?\[(ref)\](?:\[\])?/).replace("ref",qn).getRegex(),Tc=N("reflink|nolink(?!\\()","g").replace("reflink",Oa).replace("nolink",Fa).getRegex(),Sr=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Xn={_backpedal:vt,anyPunctuation:wc,autolink:yc,blockSkip:gc,br:Pa,code:uc,del:vt,emStrongLDelim:mc,emStrongRDelimAst:kc,emStrongRDelimUnd:vc,escape:cc,link:Ec,nolink:Fa,punctuation:dc,reflink:Oa,reflinkSearch:Tc,tag:_c,text:pc,url:vt},Ac={...Xn,link:N(/^!?\[(label)\]\((.*?)\)/).replace("label",jt).getRegex(),reflink:N(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jt).getRegex()},Tn={...Xn,emStrongRDelimAst:xc,emStrongLDelim:bc,url:N(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Sr).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:N(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Sr).getRegex()},Rc={...Tn,br:N(Pa).replace("{2,}","*").getRegex(),text:N(Tn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nt={normal:Vn,gfm:oc,pedantic:lc},ct={normal:Xn,gfm:Tn,breaks:Rc,pedantic:Ac},Cc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_r=t=>Cc[t];function Ae(t,e){if(e){if(se.escapeTest.test(t))return t.replace(se.escapeReplace,_r)}else if(se.escapeTestNoEncode.test(t))return t.replace(se.escapeReplaceNoEncode,_r);return t}function Er(t){try{t=encodeURI(t).replace(se.percentDecode,"%")}catch{return null}return t}function Tr(t,e){let n=t.replace(se.findPipe,(i,s,l)=>{let o=!1,u=s;for(;--u>=0&&l[u]==="\\";)o=!o;return o?"|":" |"}),r=n.split(se.splitPipe),a=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;a<r.length;a++)r[a]=r[a].trim().replace(se.slashPipe,"|");return r}function ut(t,e,n){let r=t.length;if(r===0)return"";let a=0;for(;a<r&&t.charAt(r-a-1)===e;)a++;return t.slice(0,r-a)}function zc(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function Ar(t,e,n,r,a){let i=e.href,s=e.title||null,l=t[1].replace(a.other.outputLinkReplace,"$1");r.state.inLink=!0;let o={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:s,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,o}function Ic(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let a=r[1];return e.split(`
`).map(i=>{let s=i.match(n.other.beginningSpace);if(s===null)return i;let[l]=s;return l.length>=a.length?i.slice(a.length):i}).join(`
`)}var Vt=class{options;rules;lexer;constructor(t){this.options=t||We}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:ut(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=Ic(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=ut(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:ut(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=ut(e[0],`
`).split(`
`),r="",a="",i=[];for(;n.length>0;){let s=!1,l=[],o;for(o=0;o<n.length;o++)if(this.rules.other.blockquoteStart.test(n[o]))l.push(n[o]),s=!0;else if(!s)l.push(n[o]);else break;n=n.slice(o);let u=l.join(`
`),p=u.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${u}`:u,a=a?`${a}
${p}`:p;let d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,i,!0),this.lexer.state.top=d,n.length===0)break;let h=i.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let g=h,b=g.raw+`
`+n.join(`
`),w=this.blockquote(b);i[i.length-1]=w,r=r.substring(0,r.length-g.raw.length)+w.raw,a=a.substring(0,a.length-g.text.length)+w.text;break}else if(h?.type==="list"){let g=h,b=g.raw+`
`+n.join(`
`),w=this.list(b);i[i.length-1]=w,r=r.substring(0,r.length-h.raw.length)+w.raw,a=a.substring(0,a.length-g.raw.length)+w.raw,n=b.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:a}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,a={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),s=!1;for(;t;){let o=!1,u="",p="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;u=e[0],t=t.substring(u.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),h=t.split(`
`,1)[0],g=!d.trim(),b=0;if(this.options.pedantic?(b=2,p=d.trimStart()):g?b=e[1].length+1:(b=e[2].search(this.rules.other.nonSpaceChar),b=b>4?1:b,p=d.slice(b),b+=e[1].length),g&&this.rules.other.blankLine.test(h)&&(u+=h+`
`,t=t.substring(h.length+1),o=!0),!o){let w=this.rules.other.nextBulletRegex(b),f=this.rules.other.hrRegex(b),k=this.rules.other.fencesBeginRegex(b),O=this.rules.other.headingBeginRegex(b),B=this.rules.other.htmlBeginRegex(b);for(;t;){let C=t.split(`
`,1)[0],D;if(h=C,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),D=h):D=h.replace(this.rules.other.tabCharGlobal,"    "),k.test(h)||O.test(h)||B.test(h)||w.test(h)||f.test(h))break;if(D.search(this.rules.other.nonSpaceChar)>=b||!h.trim())p+=`
`+D.slice(b);else{if(g||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||O.test(d)||f.test(d))break;p+=`
`+h}!g&&!h.trim()&&(g=!0),u+=C+`
`,t=t.substring(C.length+1),d=D.slice(b)}}a.loose||(s?a.loose=!0:this.rules.other.doubleBlankLine.test(u)&&(s=!0)),a.items.push({type:"list_item",raw:u,task:!!this.options.gfm&&this.rules.other.listIsTask.test(p),loose:!1,text:p,tokens:[]}),a.raw+=u}let l=a.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;a.raw=a.raw.trimEnd();for(let o of a.items){if(this.lexer.state.top=!1,o.tokens=this.lexer.blockTokens(o.text,[]),o.task){if(o.text=o.text.replace(this.rules.other.listReplaceTask,""),o.tokens[0]?.type==="text"||o.tokens[0]?.type==="paragraph"){o.tokens[0].raw=o.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),o.tokens[0].text=o.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let p=this.lexer.inlineQueue.length-1;p>=0;p--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[p].src)){this.lexer.inlineQueue[p].src=this.lexer.inlineQueue[p].src.replace(this.rules.other.listReplaceTask,"");break}}let u=this.rules.other.listTaskCheckbox.exec(o.raw);if(u){let p={type:"checkbox",raw:u[0]+" ",checked:u[0]!=="[ ]"};o.checked=p.checked,a.loose?o.tokens[0]&&["paragraph","text"].includes(o.tokens[0].type)&&"tokens"in o.tokens[0]&&o.tokens[0].tokens?(o.tokens[0].raw=p.raw+o.tokens[0].raw,o.tokens[0].text=p.raw+o.tokens[0].text,o.tokens[0].tokens.unshift(p)):o.tokens.unshift({type:"paragraph",raw:p.raw,text:p.raw,tokens:[p]}):o.tokens.unshift(p)}}if(!a.loose){let u=o.tokens.filter(d=>d.type==="space"),p=u.length>0&&u.some(d=>this.rules.other.anyLine.test(d.raw));a.loose=p}}if(a.loose)for(let o of a.items){o.loose=!0;for(let u of o.tokens)u.type==="text"&&(u.type="paragraph")}return a}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:a}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=Tr(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),a=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<n.length;s++)i.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:i.align[s]});for(let s of a)i.rows.push(Tr(s,i.header.length).map((l,o)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[o]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=ut(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=zc(e[2],"()");if(i===-2)return;if(i>-1){let s=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,s).trim(),e[3]=""}}let r=e[2],a="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],a=i[3])}else a=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),Ar(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),a=e[r.toLowerCase()];if(!a){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Ar(n,a,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let a=[...r[0]].length-1,i,s,l=a,o=0,u=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+a);(r=u.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){l+=s;continue}else if((r[5]||r[6])&&a%3&&!((a+s)%3)){o+=s;continue}if(l-=s,l>0)continue;s=Math.min(s,s+l+o);let p=[...r[0]][0].length,d=t.slice(0,a+r.index+p+s);if(Math.min(a,s)%2){let g=d.slice(1,-1);return{type:"em",raw:d,text:g,tokens:this.lexer.inlineTokens(g)}}let h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),a=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&a&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let a;do a=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(a!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},me=class An{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||We,this.options.tokenizer=this.options.tokenizer||new Vt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:se,block:Nt.normal,inline:ct.normal};this.options.pedantic?(n.block=Nt.pedantic,n.inline=ct.pedantic):this.options.gfm&&(n.block=Nt.gfm,this.options.breaks?n.inline=ct.breaks:n.inline=ct.gfm),this.tokenizer.rules=n}static get rules(){return{block:Nt,inline:ct}}static lex(e,n){return new An(n).lex(e)}static lexInline(e,n){return new An(n).inlineTokens(e)}lex(e){e=e.replace(se.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(se.tabCharGlobal,"    ").replace(se.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(s=>(a=s.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let s=n.at(-1);a.raw.length===1&&s!==void 0?s.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.at(-1).src=s.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let s=n.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},n.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let i=e;if(this.options.extensions?.startBlock){let s=1/0,l=e.slice(1),o;this.options.extensions.startBlock.forEach(u=>{o=u.call({lexer:this},l),typeof o=="number"&&o>=0&&(s=Math.min(s,o))}),s<1/0&&s>=0&&(i=e.substring(0,s+1))}if(this.state.top&&(a=this.tokenizer.paragraph(i))){let s=n.at(-1);r&&s?.type==="paragraph"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(a),r=i.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let s=n.at(-1);s?.type==="text"?(s.raw+=(s.raw.endsWith(`
`)?"":`
`)+a.raw,s.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(a);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,a=null;if(this.tokens.links){let o=Object.keys(this.tokens.links);if(o.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)o.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,a.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=a[2]?a[2].length:0,r=r.slice(0,a.index+i)+"["+"a".repeat(a[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let s=!1,l="";for(;e;){s||(l=""),s=!1;let o;if(this.options.extensions?.inline?.some(p=>(o=p.call({lexer:this},e,n))?(e=e.substring(o.raw.length),n.push(o),!0):!1))continue;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);let p=n.at(-1);o.type==="text"&&p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(e,r,l)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),n.push(o);continue}let u=e;if(this.options.extensions?.startInline){let p=1/0,d=e.slice(1),h;this.options.extensions.startInline.forEach(g=>{h=g.call({lexer:this},d),typeof h=="number"&&h>=0&&(p=Math.min(p,h))}),p<1/0&&p>=0&&(u=e.substring(0,p+1))}if(o=this.tokenizer.inlineText(u)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(l=o.raw.slice(-1)),s=!0;let p=n.at(-1);p?.type==="text"?(p.raw+=o.raw,p.text+=o.text):n.push(o);continue}if(e){let p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}else throw new Error(p)}}return n}},Yt=class{options;parser;constructor(t){this.options=t||We}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(se.notSpaceStart)?.[0],a=t.replace(se.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Ae(r)+'">'+(n?a:Ae(a,!0))+`</code></pre>
`:"<pre><code>"+(n?a:Ae(a,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let s=0;s<t.items.length;s++){let l=t.items[s];r+=this.listitem(l)}let a=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+a+i+`>
`+r+"</"+a+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let a=0;a<t.header.length;a++)n+=this.tablecell(t.header[a]);e+=this.tablerow({text:n});let r="";for(let a=0;a<t.rows.length;a++){let i=t.rows[a];n="";for(let s=0;s<i.length;s++)n+=this.tablecell(i[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Ae(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),a=Er(t);if(a===null)return r;t=a;let i='<a href="'+t+'"';return e&&(i+=' title="'+Ae(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let a=Er(t);if(a===null)return Ae(n);t=a;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${Ae(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Ae(t.text)}},Zn=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},be=class Rn{options;renderer;textRenderer;constructor(e){this.options=e||We,this.options.renderer=this.options.renderer||new Yt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Zn}static parse(e,n){return new Rn(n).parse(e)}static parseInline(e,n){return new Rn(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let a=e[r];if(this.options.extensions?.renderers?.[a.type]){let s=a,l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(s.type)){n+=l||"";continue}}let i=a;switch(i.type){case"space":{n+=this.renderer.space(i);break}case"hr":{n+=this.renderer.hr(i);break}case"heading":{n+=this.renderer.heading(i);break}case"code":{n+=this.renderer.code(i);break}case"table":{n+=this.renderer.table(i);break}case"blockquote":{n+=this.renderer.blockquote(i);break}case"list":{n+=this.renderer.list(i);break}case"checkbox":{n+=this.renderer.checkbox(i);break}case"html":{n+=this.renderer.html(i);break}case"def":{n+=this.renderer.def(i);break}case"paragraph":{n+=this.renderer.paragraph(i);break}case"text":{n+=this.renderer.text(i);break}default:{let s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(e,n=this.renderer){let r="";for(let a=0;a<e.length;a++){let i=e[a];if(this.options.extensions?.renderers?.[i.type]){let l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=l||"";continue}}let s=i;switch(s.type){case"escape":{r+=n.text(s);break}case"html":{r+=n.html(s);break}case"link":{r+=n.link(s);break}case"image":{r+=n.image(s);break}case"checkbox":{r+=n.checkbox(s);break}case"strong":{r+=n.strong(s);break}case"em":{r+=n.em(s);break}case"codespan":{r+=n.codespan(s);break}case"br":{r+=n.br(s);break}case"del":{r+=n.del(s);break}case"text":{r+=n.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}},xt=class{options;block;constructor(t){this.options=t||We}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?me.lex:me.lexInline}provideParser(){return this.block?be.parse:be.parseInline}},Lc=class{defaults=Un();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=be;Renderer=Yt;TextRenderer=Zn;Lexer=me;Tokenizer=Vt;Hooks=xt;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let a=r;for(let i of a.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of a.rows)for(let s of i)n=n.concat(this.walkTokens(s.tokens,e));break}case"list":{let a=r;n=n.concat(this.walkTokens(a.items,e));break}default:{let a=r;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(i=>{let s=a[i].flat(1/0);n=n.concat(this.walkTokens(s,e))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){let i=e.renderers[a.name];i?e.renderers[a.name]=function(...s){let l=a.renderer.apply(this,s);return l===!1&&(l=i.apply(this,s)),l}:e.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[a.level];i?i.unshift(a.tokenizer):e[a.level]=[a.tokenizer],a.start&&(a.level==="block"?e.startBlock?e.startBlock.push(a.start):e.startBlock=[a.start]:a.level==="inline"&&(e.startInline?e.startInline.push(a.start):e.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(e.childTokens[a.name]=a.childTokens)}),r.extensions=e),n.renderer){let a=this.defaults.renderer||new Yt(this.defaults);for(let i in n.renderer){if(!(i in a))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let s=i,l=n.renderer[s],o=a[s];a[s]=(...u)=>{let p=l.apply(a,u);return p===!1&&(p=o.apply(a,u)),p||""}}r.renderer=a}if(n.tokenizer){let a=this.defaults.tokenizer||new Vt(this.defaults);for(let i in n.tokenizer){if(!(i in a))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let s=i,l=n.tokenizer[s],o=a[s];a[s]=(...u)=>{let p=l.apply(a,u);return p===!1&&(p=o.apply(a,u)),p}}r.tokenizer=a}if(n.hooks){let a=this.defaults.hooks||new xt;for(let i in n.hooks){if(!(i in a))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let s=i,l=n.hooks[s],o=a[s];xt.passThroughHooks.has(i)?a[s]=u=>{if(this.defaults.async&&xt.passThroughHooksRespectAsync.has(i))return(async()=>{let d=await l.call(a,u);return o.call(a,d)})();let p=l.call(a,u);return o.call(a,p)}:a[s]=(...u)=>{if(this.defaults.async)return(async()=>{let d=await l.apply(a,u);return d===!1&&(d=await o.apply(a,u)),d})();let p=l.apply(a,u);return p===!1&&(p=o.apply(a,u)),p}}r.hooks=a}if(n.walkTokens){let a=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(s){let l=[];return l.push(i.call(this,s)),a&&(l=l.concat(a.call(this,s))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return me.lex(t,e??this.defaults)}parser(t,e){return be.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},a={...this.defaults,...r},i=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(a.hooks&&(a.hooks.options=a,a.hooks.block=t),a.async)return(async()=>{let s=a.hooks?await a.hooks.preprocess(e):e,l=await(a.hooks?await a.hooks.provideLexer():t?me.lex:me.lexInline)(s,a),o=a.hooks?await a.hooks.processAllTokens(l):l;a.walkTokens&&await Promise.all(this.walkTokens(o,a.walkTokens));let u=await(a.hooks?await a.hooks.provideParser():t?be.parse:be.parseInline)(o,a);return a.hooks?await a.hooks.postprocess(u):u})().catch(i);try{a.hooks&&(e=a.hooks.preprocess(e));let s=(a.hooks?a.hooks.provideLexer():t?me.lex:me.lexInline)(e,a);a.hooks&&(s=a.hooks.processAllTokens(s)),a.walkTokens&&this.walkTokens(s,a.walkTokens);let l=(a.hooks?a.hooks.provideParser():t?be.parse:be.parseInline)(s,a);return a.hooks&&(l=a.hooks.postprocess(l)),l}catch(s){return i(s)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+Ae(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Ue=new Lc;function F(t,e){return Ue.parse(t,e)}F.options=F.setOptions=function(t){return Ue.setOptions(t),F.defaults=Ue.defaults,Ca(F.defaults),F};F.getDefaults=Un;F.defaults=We;F.use=function(...t){return Ue.use(...t),F.defaults=Ue.defaults,Ca(F.defaults),F};F.walkTokens=function(t,e){return Ue.walkTokens(t,e)};F.parseInline=Ue.parseInline;F.Parser=be;F.parser=be.parse;F.Renderer=Yt;F.TextRenderer=Zn;F.Lexer=me;F.lexer=me.lex;F.Tokenizer=Vt;F.Hooks=xt;F.parse=F;F.options;F.setOptions;F.use;F.walkTokens;F.parseInline;be.parse;me.lex;/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:Ba,setPrototypeOf:Rr,isFrozen:Pc,getPrototypeOf:$c,getOwnPropertyDescriptor:Mc}=Object;let{freeze:ie,seal:fe,create:Cn}=Object,{apply:zn,construct:In}=typeof Reflect<"u"&&Reflect;ie||(ie=function(e){return e});fe||(fe=function(e){return e});zn||(zn=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return e.apply(n,a)});In||(In=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new e(...r)});const Ot=oe(Array.prototype.forEach),Dc=oe(Array.prototype.lastIndexOf),Cr=oe(Array.prototype.pop),pt=oe(Array.prototype.push),Nc=oe(Array.prototype.splice),Ut=oe(String.prototype.toLowerCase),kn=oe(String.prototype.toString),xn=oe(String.prototype.match),dt=oe(String.prototype.replace),Oc=oe(String.prototype.indexOf),Fc=oe(String.prototype.trim),ge=oe(Object.prototype.hasOwnProperty),re=oe(RegExp.prototype.test),ft=Bc(TypeError);function oe(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return zn(t,e,r)}}function Bc(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return In(t,n)}}function L(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ut;Rr&&Rr(t,null);let r=e.length;for(;r--;){let a=e[r];if(typeof a=="string"){const i=n(a);i!==a&&(Pc(e)||(e[r]=i),a=i)}t[a]=!0}return t}function Hc(t){for(let e=0;e<t.length;e++)ge(t,e)||(t[e]=null);return t}function Re(t){const e=Cn(null);for(const[n,r]of Ba(t))ge(t,n)&&(Array.isArray(r)?e[n]=Hc(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Re(r):e[n]=r);return e}function ht(t,e){for(;t!==null;){const r=Mc(t,e);if(r){if(r.get)return oe(r.get);if(typeof r.value=="function")return oe(r.value)}t=$c(t)}function n(){return null}return n}const zr=ie(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vn=ie(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),wn=ie(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Uc=ie(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yn=ie(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Gc=ie(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ir=ie(["#text"]),Lr=ie(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Sn=ie(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pr=ie(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ft=ie(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wc=fe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qc=fe(/<%[\w\W]*|[\w\W]*%>/gm),jc=fe(/\$\{[\w\W]*/gm),Vc=fe(/^data-[\-\w.\u00B7-\uFFFF]+$/),Yc=fe(/^aria-[\-\w]+$/),Ha=fe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xc=fe(/^(?:\w+script|data):/i),Zc=fe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ua=fe(/^html$/i),Kc=fe(/^[a-z][.\w]*(-[.\w]+)+$/i);var $r=Object.freeze({__proto__:null,ARIA_ATTR:Yc,ATTR_WHITESPACE:Zc,CUSTOM_ELEMENT:Kc,DATA_ATTR:Vc,DOCTYPE_NAME:Ua,ERB_EXPR:qc,IS_ALLOWED_URI:Ha,IS_SCRIPT_OR_DATA:Xc,MUSTACHE_EXPR:Wc,TMPLIT_EXPR:jc});const gt={element:1,text:3,progressingInstruction:7,comment:8,document:9},Qc=function(){return typeof window>"u"?null:window},Jc=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Mr=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ga(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qc();const e=y=>Ga(y);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==gt.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,a=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:l,Element:o,NodeFilter:u,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:h,trustedTypes:g}=t,b=o.prototype,w=ht(b,"cloneNode"),f=ht(b,"remove"),k=ht(b,"nextSibling"),O=ht(b,"childNodes"),B=ht(b,"parentNode");if(typeof s=="function"){const y=n.createElement("template");y.content&&y.content.ownerDocument&&(n=y.content.ownerDocument)}let C,D="";const{implementation:J,createNodeIterator:ke,createDocumentFragment:q,getElementsByTagName:ee}=n,{importNode:nt}=r;let Z=Mr();e.isSupported=typeof Ba=="function"&&typeof B=="function"&&J&&J.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:rt,ERB_EXPR:at,TMPLIT_EXPR:st,DATA_ATTR:we,ARIA_ATTR:ye,IS_SCRIPT_OR_DATA:x,ATTR_WHITESPACE:T,CUSTOM_ELEMENT:S}=$r;let{IS_ALLOWED_URI:E}=$r,_=null;const A=L({},[...zr,...vn,...wn,...yn,...Ir]);let P=null;const ce=L({},[...Lr,...Sn,...Pr,...Ft]);let $=Object.seal(Cn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),U=null,he=null;const ne=Object.seal(Cn(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let K=!0,qe=!0,Rt=!1,Le=!0,Se=!1,je=!0,Oe=!1,nn=!1,rn=!1,Ve=!1,Ct=!1,zt=!1,Kn=!0,Qn=!1;const qa="user-content-";let an=!0,it=!1,Ye={},Xe=null;const Jn=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let er=null;const tr=L({},["audio","video","img","source","image","track"]);let sn=null;const nr=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),It="http://www.w3.org/1998/Math/MathML",Lt="http://www.w3.org/2000/svg",_e="http://www.w3.org/1999/xhtml";let Ze=_e,on=!1,ln=null;const ja=L({},[It,Lt,_e],kn);let Pt=L({},["mi","mo","mn","ms","mtext"]),$t=L({},["annotation-xml"]);const Va=L({},["title","style","font","a","script"]);let ot=null;const Ya=["application/xhtml+xml","text/html"],Xa="text/html";let Y=null,Ke=null;const Za=n.createElement("form"),rr=function(c){return c instanceof RegExp||c instanceof Function},cn=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ke&&Ke===c)){if((!c||typeof c!="object")&&(c={}),c=Re(c),ot=Ya.indexOf(c.PARSER_MEDIA_TYPE)===-1?Xa:c.PARSER_MEDIA_TYPE,Y=ot==="application/xhtml+xml"?kn:Ut,_=ge(c,"ALLOWED_TAGS")?L({},c.ALLOWED_TAGS,Y):A,P=ge(c,"ALLOWED_ATTR")?L({},c.ALLOWED_ATTR,Y):ce,ln=ge(c,"ALLOWED_NAMESPACES")?L({},c.ALLOWED_NAMESPACES,kn):ja,sn=ge(c,"ADD_URI_SAFE_ATTR")?L(Re(nr),c.ADD_URI_SAFE_ATTR,Y):nr,er=ge(c,"ADD_DATA_URI_TAGS")?L(Re(tr),c.ADD_DATA_URI_TAGS,Y):tr,Xe=ge(c,"FORBID_CONTENTS")?L({},c.FORBID_CONTENTS,Y):Jn,U=ge(c,"FORBID_TAGS")?L({},c.FORBID_TAGS,Y):Re({}),he=ge(c,"FORBID_ATTR")?L({},c.FORBID_ATTR,Y):Re({}),Ye=ge(c,"USE_PROFILES")?c.USE_PROFILES:!1,K=c.ALLOW_ARIA_ATTR!==!1,qe=c.ALLOW_DATA_ATTR!==!1,Rt=c.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=c.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Se=c.SAFE_FOR_TEMPLATES||!1,je=c.SAFE_FOR_XML!==!1,Oe=c.WHOLE_DOCUMENT||!1,Ve=c.RETURN_DOM||!1,Ct=c.RETURN_DOM_FRAGMENT||!1,zt=c.RETURN_TRUSTED_TYPE||!1,rn=c.FORCE_BODY||!1,Kn=c.SANITIZE_DOM!==!1,Qn=c.SANITIZE_NAMED_PROPS||!1,an=c.KEEP_CONTENT!==!1,it=c.IN_PLACE||!1,E=c.ALLOWED_URI_REGEXP||Ha,Ze=c.NAMESPACE||_e,Pt=c.MATHML_TEXT_INTEGRATION_POINTS||Pt,$t=c.HTML_INTEGRATION_POINTS||$t,$=c.CUSTOM_ELEMENT_HANDLING||{},c.CUSTOM_ELEMENT_HANDLING&&rr(c.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=c.CUSTOM_ELEMENT_HANDLING.tagNameCheck),c.CUSTOM_ELEMENT_HANDLING&&rr(c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=c.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),c.CUSTOM_ELEMENT_HANDLING&&typeof c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=c.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Se&&(qe=!1),Ct&&(Ve=!0),Ye&&(_=L({},Ir),P=[],Ye.html===!0&&(L(_,zr),L(P,Lr)),Ye.svg===!0&&(L(_,vn),L(P,Sn),L(P,Ft)),Ye.svgFilters===!0&&(L(_,wn),L(P,Sn),L(P,Ft)),Ye.mathMl===!0&&(L(_,yn),L(P,Pr),L(P,Ft))),c.ADD_TAGS&&(typeof c.ADD_TAGS=="function"?ne.tagCheck=c.ADD_TAGS:(_===A&&(_=Re(_)),L(_,c.ADD_TAGS,Y))),c.ADD_ATTR&&(typeof c.ADD_ATTR=="function"?ne.attributeCheck=c.ADD_ATTR:(P===ce&&(P=Re(P)),L(P,c.ADD_ATTR,Y))),c.ADD_URI_SAFE_ATTR&&L(sn,c.ADD_URI_SAFE_ATTR,Y),c.FORBID_CONTENTS&&(Xe===Jn&&(Xe=Re(Xe)),L(Xe,c.FORBID_CONTENTS,Y)),an&&(_["#text"]=!0),Oe&&L(_,["html","head","body"]),_.table&&(L(_,["tbody"]),delete U.tbody),c.TRUSTED_TYPES_POLICY){if(typeof c.TRUSTED_TYPES_POLICY.createHTML!="function")throw ft('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof c.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ft('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=c.TRUSTED_TYPES_POLICY,D=C.createHTML("")}else C===void 0&&(C=Jc(g,a)),C!==null&&typeof D=="string"&&(D=C.createHTML(""));ie&&ie(c),Ke=c}},ar=L({},[...vn,...wn,...Uc]),sr=L({},[...yn,...Gc]),Ka=function(c){let m=B(c);(!m||!m.tagName)&&(m={namespaceURI:Ze,tagName:"template"});const v=Ut(c.tagName),G=Ut(m.tagName);return ln[c.namespaceURI]?c.namespaceURI===Lt?m.namespaceURI===_e?v==="svg":m.namespaceURI===It?v==="svg"&&(G==="annotation-xml"||Pt[G]):!!ar[v]:c.namespaceURI===It?m.namespaceURI===_e?v==="math":m.namespaceURI===Lt?v==="math"&&$t[G]:!!sr[v]:c.namespaceURI===_e?m.namespaceURI===Lt&&!$t[G]||m.namespaceURI===It&&!Pt[G]?!1:!sr[v]&&(Va[v]||!ar[v]):!!(ot==="application/xhtml+xml"&&ln[c.namespaceURI]):!1},xe=function(c){pt(e.removed,{element:c});try{B(c).removeChild(c)}catch{f(c)}},Fe=function(c,m){try{pt(e.removed,{attribute:m.getAttributeNode(c),from:m})}catch{pt(e.removed,{attribute:null,from:m})}if(m.removeAttribute(c),c==="is")if(Ve||Ct)try{xe(m)}catch{}else try{m.setAttribute(c,"")}catch{}},ir=function(c){let m=null,v=null;if(rn)c="<remove></remove>"+c;else{const V=xn(c,/^[\r\n\t ]+/);v=V&&V[0]}ot==="application/xhtml+xml"&&Ze===_e&&(c='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+c+"</body></html>");const G=C?C.createHTML(c):c;if(Ze===_e)try{m=new h().parseFromString(G,ot)}catch{}if(!m||!m.documentElement){m=J.createDocument(Ze,"template",null);try{m.documentElement.innerHTML=on?D:G}catch{}}const te=m.body||m.documentElement;return c&&v&&te.insertBefore(n.createTextNode(v),te.childNodes[0]||null),Ze===_e?ee.call(m,Oe?"html":"body")[0]:Oe?m.documentElement:te},or=function(c){return ke.call(c.ownerDocument||c,c,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},un=function(c){return c instanceof d&&(typeof c.nodeName!="string"||typeof c.textContent!="string"||typeof c.removeChild!="function"||!(c.attributes instanceof p)||typeof c.removeAttribute!="function"||typeof c.setAttribute!="function"||typeof c.namespaceURI!="string"||typeof c.insertBefore!="function"||typeof c.hasChildNodes!="function")},lr=function(c){return typeof l=="function"&&c instanceof l};function Ee(y,c,m){Ot(y,v=>{v.call(e,c,m,Ke)})}const cr=function(c){let m=null;if(Ee(Z.beforeSanitizeElements,c,null),un(c))return xe(c),!0;const v=Y(c.nodeName);if(Ee(Z.uponSanitizeElement,c,{tagName:v,allowedTags:_}),je&&c.hasChildNodes()&&!lr(c.firstElementChild)&&re(/<[/\w!]/g,c.innerHTML)&&re(/<[/\w!]/g,c.textContent)||c.nodeType===gt.progressingInstruction||je&&c.nodeType===gt.comment&&re(/<[/\w]/g,c.data))return xe(c),!0;if(!(ne.tagCheck instanceof Function&&ne.tagCheck(v))&&(!_[v]||U[v])){if(!U[v]&&pr(v)&&($.tagNameCheck instanceof RegExp&&re($.tagNameCheck,v)||$.tagNameCheck instanceof Function&&$.tagNameCheck(v)))return!1;if(an&&!Xe[v]){const G=B(c)||c.parentNode,te=O(c)||c.childNodes;if(te&&G){const V=te.length;for(let le=V-1;le>=0;--le){const Te=w(te[le],!0);Te.__removalCount=(c.__removalCount||0)+1,G.insertBefore(Te,k(c))}}}return xe(c),!0}return c instanceof o&&!Ka(c)||(v==="noscript"||v==="noembed"||v==="noframes")&&re(/<\/no(script|embed|frames)/i,c.innerHTML)?(xe(c),!0):(Se&&c.nodeType===gt.text&&(m=c.textContent,Ot([rt,at,st],G=>{m=dt(m,G," ")}),c.textContent!==m&&(pt(e.removed,{element:c.cloneNode()}),c.textContent=m)),Ee(Z.afterSanitizeElements,c,null),!1)},ur=function(c,m,v){if(Kn&&(m==="id"||m==="name")&&(v in n||v in Za))return!1;if(!(qe&&!he[m]&&re(we,m))){if(!(K&&re(ye,m))){if(!(ne.attributeCheck instanceof Function&&ne.attributeCheck(m,c))){if(!P[m]||he[m]){if(!(pr(c)&&($.tagNameCheck instanceof RegExp&&re($.tagNameCheck,c)||$.tagNameCheck instanceof Function&&$.tagNameCheck(c))&&($.attributeNameCheck instanceof RegExp&&re($.attributeNameCheck,m)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(m,c))||m==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&re($.tagNameCheck,v)||$.tagNameCheck instanceof Function&&$.tagNameCheck(v))))return!1}else if(!sn[m]){if(!re(E,dt(v,T,""))){if(!((m==="src"||m==="xlink:href"||m==="href")&&c!=="script"&&Oc(v,"data:")===0&&er[c])){if(!(Rt&&!re(x,dt(v,T,"")))){if(v)return!1}}}}}}}return!0},pr=function(c){return c!=="annotation-xml"&&xn(c,S)},dr=function(c){Ee(Z.beforeSanitizeAttributes,c,null);const{attributes:m}=c;if(!m||un(c))return;const v={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let G=m.length;for(;G--;){const te=m[G],{name:V,namespaceURI:le,value:Te}=te,Qe=Y(V),pn=Te;let Q=V==="value"?pn:Fc(pn);if(v.attrName=Qe,v.attrValue=Q,v.keepAttr=!0,v.forceKeepAttr=void 0,Ee(Z.uponSanitizeAttribute,c,v),Q=v.attrValue,Qn&&(Qe==="id"||Qe==="name")&&(Fe(V,c),Q=qa+Q),je&&re(/((--!?|])>)|<\/(style|title|textarea)/i,Q)){Fe(V,c);continue}if(Qe==="attributename"&&xn(Q,"href")){Fe(V,c);continue}if(v.forceKeepAttr)continue;if(!v.keepAttr){Fe(V,c);continue}if(!Le&&re(/\/>/i,Q)){Fe(V,c);continue}Se&&Ot([rt,at,st],hr=>{Q=dt(Q,hr," ")});const fr=Y(c.nodeName);if(!ur(fr,Qe,Q)){Fe(V,c);continue}if(C&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!le)switch(g.getAttributeType(fr,Qe)){case"TrustedHTML":{Q=C.createHTML(Q);break}case"TrustedScriptURL":{Q=C.createScriptURL(Q);break}}if(Q!==pn)try{le?c.setAttributeNS(le,V,Q):c.setAttribute(V,Q),un(c)?xe(c):Cr(e.removed)}catch{Fe(V,c)}}Ee(Z.afterSanitizeAttributes,c,null)},Qa=function y(c){let m=null;const v=or(c);for(Ee(Z.beforeSanitizeShadowDOM,c,null);m=v.nextNode();)Ee(Z.uponSanitizeShadowNode,m,null),cr(m),dr(m),m.content instanceof i&&y(m.content);Ee(Z.afterSanitizeShadowDOM,c,null)};return e.sanitize=function(y){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=null,v=null,G=null,te=null;if(on=!y,on&&(y="<!-->"),typeof y!="string"&&!lr(y))if(typeof y.toString=="function"){if(y=y.toString(),typeof y!="string")throw ft("dirty is not a string, aborting")}else throw ft("toString is not a function");if(!e.isSupported)return y;if(nn||cn(c),e.removed=[],typeof y=="string"&&(it=!1),it){if(y.nodeName){const Te=Y(y.nodeName);if(!_[Te]||U[Te])throw ft("root node is forbidden and cannot be sanitized in-place")}}else if(y instanceof l)m=ir("<!---->"),v=m.ownerDocument.importNode(y,!0),v.nodeType===gt.element&&v.nodeName==="BODY"||v.nodeName==="HTML"?m=v:m.appendChild(v);else{if(!Ve&&!Se&&!Oe&&y.indexOf("<")===-1)return C&&zt?C.createHTML(y):y;if(m=ir(y),!m)return Ve?null:zt?D:""}m&&rn&&xe(m.firstChild);const V=or(it?y:m);for(;G=V.nextNode();)cr(G),dr(G),G.content instanceof i&&Qa(G.content);if(it)return y;if(Ve){if(Ct)for(te=q.call(m.ownerDocument);m.firstChild;)te.appendChild(m.firstChild);else te=m;return(P.shadowroot||P.shadowrootmode)&&(te=nt.call(r,te,!0)),te}let le=Oe?m.outerHTML:m.innerHTML;return Oe&&_["!doctype"]&&m.ownerDocument&&m.ownerDocument.doctype&&m.ownerDocument.doctype.name&&re(Ua,m.ownerDocument.doctype.name)&&(le="<!DOCTYPE "+m.ownerDocument.doctype.name+`>
`+le),Se&&Ot([rt,at,st],Te=>{le=dt(le,Te," ")}),C&&zt?C.createHTML(le):le},e.setConfig=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};cn(y),nn=!0},e.clearConfig=function(){Ke=null,nn=!1},e.isValidAttribute=function(y,c,m){Ke||cn({});const v=Y(y),G=Y(c);return ur(v,G,m)},e.addHook=function(y,c){typeof c=="function"&&pt(Z[y],c)},e.removeHook=function(y,c){if(c!==void 0){const m=Dc(Z[y],c);return m===-1?void 0:Nc(Z[y],m,1)[0]}return Cr(Z[y])},e.removeHooks=function(y){Z[y]=[]},e.removeAllHooks=function(){Z=Mr()},e}var eu=Ga();const Wa=go("statusbar",()=>{const t=W(!1),e=W([]);async function n(){t.value=!0,e.value=await a()}function r(){t.value=!1}async function a(){const s=[];try{const l=await fetch("/package.json");if(!l.ok)throw new Error("Failed to load package.json");const o=await l.json(),u=(o.name||"").replace(/^@septkit\//,"")||"unknown",p=o.version||"unknown",d=await(await fetch("/CHANGELOG.md")).text(),h=i(d),g=eu.sanitize(await F.parse(h));s.push({name:u,version:p,changelog:g})}catch(l){console.error("[STATUSBAR]",l),s.push({name:"unknown",version:"unknown",changelog:"<p>Failed to load changelog.</p>"})}return s}function i(s){const l=s.split(`
`),o=/^## \[\d+\] - (\d{4}-\d{2}-\d{2})$/,u=[];let p=null;for(const w of l){const f=o.exec(w);f?(p&&u.push(p),p={date:new Date(f[1]),lines:[w]}):p&&p.lines.push(w)}if(p&&u.push(p),u.length===0)return"";const d=u[0].date,h=1e3*60*60*24,g=u.filter(w=>(d.getTime()-w.date.getTime())/h<=30),b=[];for(const w of g)for(const f of w.lines){if(o.test(f)){b.push(`<p><strong>${f.replace(/^##\s*/,"")}</strong></p>`);continue}if(f.startsWith("### ")){const k=f.replace(/^###\s*/,"");b.push(`<p><i>${k}</i></p>`);continue}b.push(f)}return b.join(`
`).trim()}return{statusbarModalOpen:t,items:e,openStatusbarModal:n,closeStatusbarModal:r}}),tu=["open"],nu={class:"modal-box relative max-w-lg w-full max-h-[70vh] overflow-auto"},ru={class:"mb-4"},au=["value"],su=["value"],iu={key:0,class:"mb-6"},ou={class:"text-sm text-gray-600 select-text"},lu={key:1},cu=["innerHTML"],uu=X({__name:"statusbar-modal",setup(t){const e=Wa(),n=W(""),r=j(()=>e.items.find(l=>l.name===n.value)??null);Ie(()=>e.items,l=>{const o=l.find(u=>u.name==="shell");o?n.value=o.name:l.length>0&&!n.value&&(n.value=l[0].name)},{immediate:!0});function a(l){const o=l.target;n.value=o.value}function i(){e.closeStatusbarModal()}function s(l){l.target.nodeName==="DIALOG"&&i()}return(l,o)=>(M(),H("dialog",{class:"modal",role:"dialog","aria-modal":"true",open:I(e).statusbarModalOpen,onCancel:wt(i,["prevent"]),onClick:s},[R("div",nu,[R("button",{class:"absolute top-[1.5rem] right-[1.5rem] cursor-pointer btn btn-sm btn-circle btn-ghost",onClick:i,"aria-label":"Close statusbar modal"},o[0]||(o[0]=[R("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 64 64"},[R("path",{d:"M 16 14 C 15.488 14 14.976938 14.194937 14.585938 14.585938 C 13.804937 15.366937 13.804937 16.633063 14.585938 17.414062 L 29.171875 32 L 14.585938 46.585938 C 13.804938 47.366938 13.804937 48.633063 14.585938 49.414062 C 14.976937 49.805062 15.488 50 16 50 C 16.512 50 17.023062 49.805062 17.414062 49.414062 L 32 34.828125 L 46.585938 49.414062 C 47.366938 50.195063 48.633063 50.195062 49.414062 49.414062 C 50.195063 48.633062 50.195062 47.366937 49.414062 46.585938 L 34.828125 32 L 49.414062 17.414062 C 50.195063 16.633063 50.195062 15.366938 49.414062 14.585938 C 48.633062 13.804938 47.366937 13.804938 46.585938 14.585938 L 32 29.171875 L 17.414062 14.585938 C 17.023062 14.194938 16.512 14 16 14 z"})],-1)])),R("section",ru,[o[2]||(o[2]=R("h4",{class:"text-md font-semibold mb-3"},"Select App/Extension",-1)),R("select",{class:"select select-bordered w-full","data-testId":"statusbar-select",value:n.value,onChange:a},[o[1]||(o[1]=R("option",{disabled:"",value:""},"Select App/Extension",-1)),(M(!0),H(Ce,null,et(I(e).items,u=>(M(),H("option",{key:u.name,value:u.name},ze(u.name),9,su))),128))],40,au)]),r.value?(M(),H("section",iu,[o[3]||(o[3]=R("h4",{class:"text-md font-semibold mb-1"},"Version",-1)),R("p",ou,"v"+ze(r.value.version),1)])):He("",!0),r.value?(M(),H("section",lu,[o[4]||(o[4]=R("h4",{class:"text-md font-semibold mb-2"},"Changelog",-1)),R("div",{class:"overflow-auto max-h-64 p-2 border border-gray-300 rounded text-sm leading-relaxed space-y-2 [&_ul]:list-disc [&_ul]:pl-5 [&_li]:ml-4",innerHTML:r.value.changelog||"<em>No changelog available.</em>"},null,8,cu)])):He("",!0)])],40,tu))}}),pu=X({__name:"menu",setup(t){const e=Mn(),n=Wa(),r=wo(),a=[{id:"file.open",label:"Open",path:["File"],action:e.openFiles},{id:"file.save",label:"Save",path:["File"],action:e.saveFile},{id:"file.new",label:"New",path:["File"],action:()=>e.openNewFileModal()},{id:"help.changelog",label:"Changelog",path:["Help"],action:()=>n.openStatusbarModal()}],i=yo(async()=>{const{contributions:o}=ta(r),u=[];for(const p of o.value)try{const d=await s(p),h={id:p.id,label:p.label,path:p.menuPath,action:d};u.push(h)}catch(d){console.error("Error fetching action for menu contribution",{cont:p,err:d});continue}return[...a,...u]},a);async function s(o){const u=o.actionFnUrl;return u?(await import(u)).default:l}function l(){}return(o,u)=>(M(),H(Ce,null,[ae(jl,{items:I(i),activeFileName:I(e).currentActiveFileDatabaseName},null,8,["items","activeFileName"]),ae(Xl),ae(uu)],64))}}),du={class:"activity-bar"},fu=["title","onClick"],hu={class:"widget-wrapper"},gu=["src","alt"],mu={class:"widget-label"},bu=X({__name:"activity-bar",setup(t){const e=ra();function n(a){return e.activeWidget?.id===a.id}function r(a){e.activeWidget?.id!==a.id&&e.activateWidget(a)}return Ie(()=>e.widgets,a=>{if(a.length&&!e.activeWidget){const i=a.find(s=>s.defaultActive);i&&e.activateWidget(i)}},{immediate:!0}),(a,i)=>(M(),H("aside",du,[(M(!0),H(Ce,null,et(I(e).widgets,s=>(M(),H("button",{key:s.id,class:Gt(["btn btn-ghost widget-button",{"btn-active":n(s)}]),title:s.label,onClick:l=>r(s)},[R("div",hu,[R("img",{src:s.icon,alt:s.label,class:"widget-icon"},null,8,gu),R("div",mu,ze(s.label),1)])],10,fu))),128))]))}}),ku=Et(bu,[["__scopeId","data-v-c045b804"]]),yu=X({__name:"app-view",setup(t){return(e,n)=>(M(),Ge(pl,null,{menubar:pe(()=>[ae(pu)]),"activity-bar":pe(()=>[ae(ku)]),"primary-sidebar":pe(()=>[ae(Al)]),"main-area":pe(()=>[ae(Sl)]),_:1}))}});export{yu as default};
